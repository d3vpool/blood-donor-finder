{"ast":null,"code":"import React,{useState}from\"react\";import ContactModal from\"./ContactModal\";import\"./SearchResult.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchResult(_ref){let{results=[],focusOn}=_ref;const[selectedUser,setSelectedUser]=useState(null);const handleShowOnMap=(lat,lng)=>{const container=document.getElementById(\"donorMapContainer\");if(container){try{container.scrollIntoView({behavior:\"smooth\",block:\"start\"});}catch(_){// fallback\nwindow.scrollTo({top:0,behavior:\"smooth\"});}}// give scroll a short moment to start, then call focus\nsetTimeout(()=>{if(typeof focusOn===\"function\")focusOn(Number(lat),Number(lng),15);},350);};return/*#__PURE__*/_jsxs(\"section\",{className:\"search-result\",id:\"search-result\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"searchResults\",className:\"search-results\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"results-title\",children:\"Available Donors\"}),results.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No donors found.\"}):/*#__PURE__*/_jsx(\"div\",{id:\"donorCards\",className:\"donor-grid\",children:results.map((user,idx)=>{var _user$location$latitu,_user$location,_user$location2,_user$location$longit,_user$location3,_user$location4;const lat=(_user$location$latitu=user===null||user===void 0?void 0:(_user$location=user.location)===null||_user$location===void 0?void 0:_user$location.latitude)!==null&&_user$location$latitu!==void 0?_user$location$latitu:user===null||user===void 0?void 0:(_user$location2=user.location)===null||_user$location2===void 0?void 0:_user$location2.lat;const lng=(_user$location$longit=user===null||user===void 0?void 0:(_user$location3=user.location)===null||_user$location3===void 0?void 0:_user$location3.longitude)!==null&&_user$location$longit!==void 0?_user$location$longit:user===null||user===void 0?void 0:(_user$location4=user.location)===null||_user$location4===void 0?void 0:_user$location4.lng;return/*#__PURE__*/_jsxs(\"div\",{className:\"donor-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"donor-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"donor-name\",children:user.fullname}),/*#__PURE__*/_jsx(\"span\",{className:\"donor-blood\",children:user.bloodType||user.bloodGroup})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",user.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Contact: \",user.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",user.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"donor-card-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"contact-btn\",onClick:()=>setSelectedUser(user),children:\"Contact Donor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"focus-btn\",onClick:()=>{if(lat!=null&&lng!=null)handleShowOnMap(lat,lng);},children:\"Show on map\"})]})]},user.email||idx);})})]})}),selectedUser&&/*#__PURE__*/_jsx(ContactModal,{user:selectedUser,onClose:()=>setSelectedUser(null)})]});}","map":{"version":3,"names":["React","useState","ContactModal","jsx","_jsx","jsxs","_jsxs","SearchResult","_ref","results","focusOn","selectedUser","setSelectedUser","handleShowOnMap","lat","lng","container","document","getElementById","scrollIntoView","behavior","block","_","window","scrollTo","top","setTimeout","Number","className","id","children","length","map","user","idx","_user$location$latitu","_user$location","_user$location2","_user$location$longit","_user$location3","_user$location4","location","latitude","longitude","fullname","bloodType","bloodGroup","address","phoneNo","email","onClick","onClose"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/SearchResult.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ContactModal from \"./ContactModal\";\r\nimport \"./SearchResult.css\";\r\n\r\nexport default function SearchResult({ results = [], focusOn }) {\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  const handleShowOnMap = (lat, lng) => {\r\n    const container = document.getElementById(\"donorMapContainer\");\r\n    if (container) {\r\n      try {\r\n        container.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n      } catch (_) {\r\n        // fallback\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n      }\r\n    }\r\n    // give scroll a short moment to start, then call focus\r\n    setTimeout(() => {\r\n      if (typeof focusOn === \"function\") focusOn(Number(lat), Number(lng), 15);\r\n    }, 350);\r\n  };\r\n\r\n  return (\r\n    <section className=\"search-result\" id=\"search-result\">\r\n      <div className=\"container\">\r\n        <div id=\"searchResults\" className=\"search-results\">\r\n          <h3 className=\"results-title\">Available Donors</h3>\r\n\r\n          {results.length === 0 ? (\r\n            <p>No donors found.</p>\r\n          ) : (\r\n            <div id=\"donorCards\" className=\"donor-grid\">\r\n              {results.map((user, idx) => {\r\n                const lat =\r\n                  user?.location?.latitude ?? user?.location?.lat;\r\n                const lng =\r\n                  user?.location?.longitude ?? user?.location?.lng;\r\n\r\n                return (\r\n                  <div\r\n                    key={user.email || idx}\r\n                    className=\"donor-card\"\r\n                  >\r\n                    <div className=\"donor-card-header\">\r\n                      <span className=\"donor-name\">\r\n                        {user.fullname}\r\n                      </span>\r\n                      <span className=\"donor-blood\">\r\n                        {user.bloodType || user.bloodGroup}\r\n                      </span>\r\n                    </div>\r\n\r\n                    <div className=\"donor-details\">\r\n                      <p>Location: {user.address}</p>\r\n                      <p>Contact: {user.phoneNo}</p>\r\n                      <p>Email: {user.email}</p>\r\n                    </div>\r\n\r\n                    <div className=\"donor-card-actions\">\r\n                      <button\r\n                        className=\"contact-btn\"\r\n                        onClick={() => setSelectedUser(user)}\r\n                      >\r\n                        Contact Donor\r\n                      </button>\r\n\r\n                      <button\r\n                        className=\"focus-btn\"\r\n                        onClick={() => {\r\n                          if (lat != null && lng != null) handleShowOnMap(lat, lng);\r\n                        }}\r\n                      >\r\n                        Show on map\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {selectedUser && (\r\n        <ContactModal\r\n          user={selectedUser}\r\n          onClose={() => setSelectedUser(null)}\r\n        />\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}