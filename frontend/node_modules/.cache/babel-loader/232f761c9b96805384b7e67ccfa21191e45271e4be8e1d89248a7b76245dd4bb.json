{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajya\\\\Desktop\\\\Coding\\\\WebDev\\\\Programs\\\\mini_project_LifeLink\\\\blood-donor-finder\\\\frontend\\\\src\\\\components\\\\ContactModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/ContactModal.jsx\nimport React, { useState, useEffect } from \"react\";\nimport \"./ContactModal.css\";\nimport { init, send } from \"@emailjs/browser\";\n\n/**\r\n * ContactModal\r\n * Props:\r\n *  - user: donor object\r\n *  - recipient: (optional) object with { name, email, message, bloodType } or your app may build these fields at send time\r\n *  - onClose: close callback\r\n *\r\n * Environment variables required in .env (you already set):\r\n *  REACT_APP_EMAILJS_PUBLIC_KEY\r\n *  REACT_APP_EMAILJS_SERVICE_ID\r\n *  REACT_APP_EMAILJS_TEMPLATE_ID\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ContactModal({\n  user,\n  recipient = {},\n  onClose\n}) {\n  _s();\n  var _user$location;\n  const [sending, setSending] = useState(false);\n  const [sent, setSent] = useState(false);\n  const [error, setError] = useState(null);\n  const [recipientMessage, setRecipientMessage] = useState(\"\");\n  useEffect(() => {\n    const pub = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\n    if (pub) init(pub);\n  }, []);\n  if (!user) return null;\n  const escapeHtml = str => {\n    if (str === null || str === undefined) return \"\";\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n  };\n  const name = user.fullname || user.name || user.displayName || user.full_name || \"Donor\";\n  const email = user.email || user.mail || \"\";\n  const phone = user.phoneNo || user.contact || user.phone || \"\";\n  const bloodGroup = user.bloodType || user.bloodGroup || user.blood || \"Unknown\";\n  const address = user.address || user.city || ((_user$location = user.location) === null || _user$location === void 0 ? void 0 : _user$location.address) || \"\";\n  let locationText = address;\n  if (!locationText) {\n    var _user$location$latitu, _user$location2, _user$location3, _user$location$longit, _user$location4, _user$location5;\n    const lat = (_user$location$latitu = (_user$location2 = user.location) === null || _user$location2 === void 0 ? void 0 : _user$location2.latitude) !== null && _user$location$latitu !== void 0 ? _user$location$latitu : (_user$location3 = user.location) === null || _user$location3 === void 0 ? void 0 : _user$location3.lat;\n    const lng = (_user$location$longit = (_user$location4 = user.location) === null || _user$location4 === void 0 ? void 0 : _user$location4.longitude) !== null && _user$location$longit !== void 0 ? _user$location$longit : (_user$location5 = user.location) === null || _user$location5 === void 0 ? void 0 : _user$location5.lng;\n    if (Number.isFinite(Number(lat)) && Number.isFinite(Number(lng))) {\n      locationText = `${Number(lat).toFixed(6)}, ${Number(lng).toFixed(6)}`;\n    } else {\n      locationText = \"Not provided\";\n    }\n  }\n\n  // Build accept/reject links — these are simple examples.\n  // You can change these endpoints to your backend or cloud function routes later.\n  const origin = window.location.origin;\n  const recipientEmail = recipient.email || \"\"; // pass recipient.email when calling modal\n  const recipientName = recipient.name || \"\"; // pass recipient.name when calling modal\n\n  const acceptLink = `${origin}/email-response?action=accept&donor=${encodeURIComponent(email)}&recipient=${encodeURIComponent(recipientEmail)}`;\n  const rejectLink = `${origin}/email-response?action=reject&donor=${encodeURIComponent(email)}&recipient=${encodeURIComponent(recipientEmail)}`;\n  async function handleRequest() {\n    setSending(true);\n    setError(null);\n    setSent(false);\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\n    if (!serviceId || !templateId) {\n      setError(\"EmailJS service/template not configured in .env\");\n      setSending(false);\n      return;\n    }\n\n    // Template params expected by your EmailJS template.\n    // Only the five variables you asked for are required in HTML: name, message, bloodtype, accept_link, reject_link\n    const templateParams = {\n      // Visible template vars:\n      name: name || \"{{recipient_name}}\",\n      // recipient's name (person requesting blood)\n      message: recipient.message || recipient.msg || `Requesting ${bloodGroup} blood — please respond if available.`,\n      bloodtype: recipient.bloodType || recipient.blood || bloodGroup,\n      accept_link: acceptLink,\n      reject_link: rejectLink,\n      // Hidden / non-displayed vars (available for sending headers or other usage)\n      donor_email: email,\n      recipient_email: recipientEmail\n    };\n    try {\n      await send(serviceId, templateId, templateParams);\n      console.log(\"EmailJS: request sent\", templateParams);\n      setSent(true);\n    } catch (err) {\n      console.error(\"EmailJS send error:\", err);\n      setError((err === null || err === void 0 ? void 0 : err.text) || (err === null || err === void 0 ? void 0 : err.message) || \"Failed to send request email\");\n    } finally {\n      setSending(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"contactModal\",\n    className: \"modal\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Contact Donor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-close\",\n          onClick: onClose,\n          \"aria-label\": \"Close contact modal\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 14\n          }, this), \" \", escapeHtml(name)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Blood Group:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 14\n          }, this), \" \", escapeHtml(bloodGroup)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 14\n          }, this), \" \", escapeHtml(locationText)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), \" \", phone ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `tel:${escapeHtml(phone)}`,\n            children: escapeHtml(phone)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 22\n          }, this) : \"Not provided\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), \" \", email ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `mailto:${escapeHtml(email)}`,\n            children: escapeHtml(email)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 22\n          }, this) : \"Not provided\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-block\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Your Details (Address + Phone):\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"ADDRESS AND PHONE NUMBER\",\n              value: recipientMessage,\n              onChange: e => setRecipientMessage(e.target.value),\n              className: \"contact-textarea\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"contact-note\",\n          children: \"Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          role: \"alert\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), sent && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-message\",\n          role: \"status\",\n          children: \"Request email sent to donor.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"request-button\",\n          disabled: sending || sent,\n          onClick: () => {\n            sendEmailToDonor({\n              donor_email: user.email,\n              recipient_email: currentUser.email,\n              name: currentUser.displayName || currentUser.fullname,\n              message: recipientMessage,\n              bloodtype: user.bloodType\n            });\n          }\n          //PREVIOUS ONCLICK FUNCTION\n          /* onClick={() => {\r\n            // Ensure recipient data is present; if your app does not pass recipient via props,\r\n            // adapt this to grab the recipient info from the form or app state.\r\n            handleRequest();\r\n          }} */,\n          children: sending ? \"Sending...\" : sent ? \"Sent\" : \"Request Blood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"contact-button\",\n          onClick: onClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(ContactModal, \"LJ6z2xhyAXh93uX8ZLpQNMUqnDM=\");\n_c = ContactModal;\nvar _c;\n$RefreshReg$(_c, \"ContactModal\");","map":{"version":3,"names":["React","useState","useEffect","init","send","jsxDEV","_jsxDEV","ContactModal","user","recipient","onClose","_s","_user$location","sending","setSending","sent","setSent","error","setError","recipientMessage","setRecipientMessage","pub","process","env","REACT_APP_EMAILJS_PUBLIC_KEY","escapeHtml","str","undefined","String","replace","name","fullname","displayName","full_name","email","mail","phone","phoneNo","contact","bloodGroup","bloodType","blood","address","city","location","locationText","_user$location$latitu","_user$location2","_user$location3","_user$location$longit","_user$location4","_user$location5","lat","latitude","lng","longitude","Number","isFinite","toFixed","origin","window","recipientEmail","recipientName","acceptLink","encodeURIComponent","rejectLink","handleRequest","serviceId","REACT_APP_EMAILJS_SERVICE_ID","templateId","REACT_APP_EMAILJS_TEMPLATE_ID","templateParams","message","msg","bloodtype","accept_link","reject_link","donor_email","recipient_email","console","log","err","text","id","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","href","placeholder","value","onChange","e","target","disabled","sendEmailToDonor","currentUser","_c","$RefreshReg$"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/ContactModal.jsx"],"sourcesContent":["// src/components/ContactModal.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./ContactModal.css\";\r\nimport { init, send } from \"@emailjs/browser\";\r\n\r\n/**\r\n * ContactModal\r\n * Props:\r\n *  - user: donor object\r\n *  - recipient: (optional) object with { name, email, message, bloodType } or your app may build these fields at send time\r\n *  - onClose: close callback\r\n *\r\n * Environment variables required in .env (you already set):\r\n *  REACT_APP_EMAILJS_PUBLIC_KEY\r\n *  REACT_APP_EMAILJS_SERVICE_ID\r\n *  REACT_APP_EMAILJS_TEMPLATE_ID\r\n */\r\nexport default function ContactModal({ user, recipient = {}, onClose }) {\r\n  const [sending, setSending] = useState(false);\r\n  const [sent, setSent] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [recipientMessage, setRecipientMessage] = useState(\"\");\r\n\r\n\r\n  useEffect(() => {\r\n    const pub = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\r\n    if (pub) init(pub);\r\n  }, []);\r\n\r\n  if (!user) return null;\r\n\r\n  const escapeHtml = (str) => {\r\n    if (str === null || str === undefined) return \"\";\r\n    return String(str)\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  };\r\n\r\n  const name = user.fullname || user.name || user.displayName || user.full_name || \"Donor\";\r\n  const email = user.email || user.mail || \"\";\r\n  const phone = user.phoneNo || user.contact || user.phone || \"\";\r\n  const bloodGroup = user.bloodType || user.bloodGroup || user.blood || \"Unknown\";\r\n  const address = user.address || user.city || user.location?.address || \"\";\r\n  let locationText = address;\r\n  if (!locationText) {\r\n    const lat = user.location?.latitude ?? user.location?.lat;\r\n    const lng = user.location?.longitude ?? user.location?.lng;\r\n    if (Number.isFinite(Number(lat)) && Number.isFinite(Number(lng))) {\r\n      locationText = `${Number(lat).toFixed(6)}, ${Number(lng).toFixed(6)}`;\r\n    } else {\r\n      locationText = \"Not provided\";\r\n    }\r\n  }\r\n\r\n  // Build accept/reject links — these are simple examples.\r\n  // You can change these endpoints to your backend or cloud function routes later.\r\n  const origin = window.location.origin;\r\n  const recipientEmail = recipient.email || \"\"; // pass recipient.email when calling modal\r\n  const recipientName = recipient.name || \"\"; // pass recipient.name when calling modal\r\n\r\n  const acceptLink = `${origin}/email-response?action=accept&donor=${encodeURIComponent(email)}&recipient=${encodeURIComponent(recipientEmail)}`;\r\n  const rejectLink = `${origin}/email-response?action=reject&donor=${encodeURIComponent(email)}&recipient=${encodeURIComponent(recipientEmail)}`;\r\n\r\n  async function handleRequest() {\r\n    setSending(true);\r\n    setError(null);\r\n    setSent(false);\r\n\r\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\r\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\r\n\r\n    if (!serviceId || !templateId) {\r\n      setError(\"EmailJS service/template not configured in .env\");\r\n      setSending(false);\r\n      return;\r\n    }\r\n\r\n    // Template params expected by your EmailJS template.\r\n    // Only the five variables you asked for are required in HTML: name, message, bloodtype, accept_link, reject_link\r\n    const templateParams = {\r\n      // Visible template vars:\r\n      name: name || \"{{recipient_name}}\",  // recipient's name (person requesting blood)\r\n      message: recipient.message || recipient.msg || `Requesting ${bloodGroup} blood — please respond if available.`,\r\n      bloodtype: recipient.bloodType || recipient.blood || bloodGroup,\r\n      accept_link: acceptLink,\r\n      reject_link: rejectLink,\r\n\r\n      // Hidden / non-displayed vars (available for sending headers or other usage)\r\n      donor_email: email,\r\n      recipient_email: recipientEmail,\r\n    };\r\n\r\n    try {\r\n      await send(serviceId, templateId, templateParams);\r\n      console.log(\"EmailJS: request sent\", templateParams);\r\n      setSent(true);\r\n    } catch (err) {\r\n      console.error(\"EmailJS send error:\", err);\r\n      setError(err?.text || err?.message || \"Failed to send request email\");\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"contactModal\" className=\"modal\" role=\"dialog\" aria-modal=\"true\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Contact Donor</h3>\r\n          <button\r\n            className=\"modal-close\"\r\n            onClick={onClose}\r\n            aria-label=\"Close contact modal\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          <p><strong>Name:</strong> {escapeHtml(name)}</p>\r\n          <p><strong>Blood Group:</strong> {escapeHtml(bloodGroup)}</p>\r\n          <p><strong>Location:</strong> {escapeHtml(locationText)}</p>\r\n\r\n          <p>\r\n            <strong>Phone:</strong>{\" \"}\r\n            {phone ? <a href={`tel:${escapeHtml(phone)}`}>{escapeHtml(phone)}</a> : \"Not provided\"}\r\n          </p>\r\n\r\n          <p>\r\n            <strong>Email:</strong>{\" \"}\r\n            {email ? <a href={`mailto:${escapeHtml(email)}`}>{escapeHtml(email)}</a> : \"Not provided\"}\r\n          </p>\r\n          \r\n          <div className=\"input-block\">\r\n            <label>\r\n              Your Details (Address + Phone):\r\n              <textarea\r\n                placeholder=\"ADDRESS AND PHONE NUMBER\"\r\n                value={recipientMessage}\r\n                onChange={(e) => setRecipientMessage(e.target.value)}\r\n                className=\"contact-textarea\"\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          <p className=\"contact-note\">\r\n            Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\r\n          </p>\r\n\r\n          {error && <div className=\"error-message\" role=\"alert\">{error}</div>}\r\n          {sent && <div className=\"success-message\" role=\"status\">Request email sent to donor.</div>}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            className=\"request-button\"\r\n            disabled={sending || sent}\r\n            onClick={() => {\r\n                sendEmailToDonor({\r\n                    donor_email: user.email,\r\n                    recipient_email: currentUser.email,\r\n                    name: currentUser.displayName || currentUser.fullname,\r\n                    message: recipientMessage,\r\n                    bloodtype: user.bloodType,\r\n                });\r\n            }}\r\n            //PREVIOUS ONCLICK FUNCTION\r\n            /* onClick={() => {\r\n              // Ensure recipient data is present; if your app does not pass recipient via props,\r\n              // adapt this to grab the recipient info from the form or app state.\r\n              handleRequest();\r\n            }} */\r\n          >\r\n            {sending ? \"Sending...\" : sent ? \"Sent\" : \"Request Blood\"}\r\n          </button>\r\n\r\n          <button className=\"contact-button\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}