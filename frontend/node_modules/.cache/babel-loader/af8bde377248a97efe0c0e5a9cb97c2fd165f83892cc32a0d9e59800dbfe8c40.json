{"ast":null,"code":"// src/components/Search.jsx\nimport\"./Search.css\";import React,{useState}from\"react\";import{collection,getDocs,query,where}from\"firebase/firestore\";import{db,auth}from\"../firebase\";import{signInAnonymously}from\"firebase/auth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(_ref){let{setResults,setRecipientLocation,setUserHasSearched}=_ref;const[bloodType,setBloodType]=useState(\"\");const[rangeKm,setRangeKm]=useState(5);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const haversine=(lat1,lon1,lat2,lon2)=>{const R=6371;const dLat=(lat2-lat1)*Math.PI/180;const dLon=(lon2-lon1)*Math.PI/180;const a=Math.sin(dLat/2)**2+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLon/2)**2;return R*2*Math.asin(Math.sqrt(a));};// Ensures the client is authenticated (anonymous if needed).\nconst ensureSignedIn=async()=>{if(!auth)throw new Error(\"Auth instance not available (check firebase import).\");if(auth.currentUser)return auth.currentUser;try{const cred=await signInAnonymously(auth);return cred.user;}catch(err){console.error(\"Anonymous sign-in failed:\",err);throw err;}};const handleSearch=async()=>{setError(null);if(!bloodType){setError(\"Select blood type\");return;}if(!db){setError(\"Internal: Firestore not initialized (check firebase import).\");return;}setLoading(true);if(!navigator.geolocation){setError(\"Geolocation not supported by your browser\");setLoading(false);return;}navigator.geolocation.getCurrentPosition(async pos=>{const latNum=Number(pos.coords.latitude);const lngNum=Number(pos.coords.longitude);if(!Number.isFinite(latNum)||!Number.isFinite(lngNum)){setError(\"Invalid GPS coordinates\");setLoading(false);return;}setRecipientLocation({lat:latNum,lng:lngNum});try{// Ensure authenticated (matches your Firestore rules which require request.auth != null)\nawait ensureSignedIn();const range=Number(rangeKm);if(!Number.isFinite(range)||range<0)throw new Error(\"Invalid search radius\");const donorsCol=collection(db,\"Donors\");const q=query(donorsCol,where(\"bloodType\",\"==\",bloodType));const snap=await getDocs(q);const docs=[];snap.forEach(doc=>{var _ref2,_data$fullname,_data$email,_ref3,_ref4,_data$phoneNo,_ref5,_data$bloodType,_ref6,_data$address,_data$location,_data$location2,_data$location3,_data$location4,_ref7,_data$status,_data$registeredAt;const data=doc.data()||{};docs.push({id:doc.id,fullname:(_ref2=(_data$fullname=data.fullname)!==null&&_data$fullname!==void 0?_data$fullname:data.name)!==null&&_ref2!==void 0?_ref2:\"\",email:(_data$email=data.email)!==null&&_data$email!==void 0?_data$email:\"\",phoneNo:(_ref3=(_ref4=(_data$phoneNo=data.phoneNo)!==null&&_data$phoneNo!==void 0?_data$phoneNo:data.contact)!==null&&_ref4!==void 0?_ref4:data.phone)!==null&&_ref3!==void 0?_ref3:\"\",bloodType:(_ref5=(_data$bloodType=data.bloodType)!==null&&_data$bloodType!==void 0?_data$bloodType:data.bloodGroup)!==null&&_ref5!==void 0?_ref5:\"\",address:(_ref6=(_data$address=data.address)!==null&&_data$address!==void 0?_data$address:data.city)!==null&&_ref6!==void 0?_ref6:\"\",location:{latitude:((_data$location=data.location)===null||_data$location===void 0?void 0:_data$location.latitude)!==undefined?Number(data.location.latitude):((_data$location2=data.location)===null||_data$location2===void 0?void 0:_data$location2.lat)!==undefined?Number(data.location.lat):null,longitude:((_data$location3=data.location)===null||_data$location3===void 0?void 0:_data$location3.longitude)!==undefined?Number(data.location.longitude):((_data$location4=data.location)===null||_data$location4===void 0?void 0:_data$location4.lng)!==undefined?Number(data.location.lng):null},status:(_ref7=(_data$status=data.status)!==null&&_data$status!==void 0?_data$status:data.availability)!==null&&_ref7!==void 0?_ref7:\"\",registeredAt:(_data$registeredAt=data.registeredAt)!==null&&_data$registeredAt!==void 0?_data$registeredAt:null});});const filtered=docs.filter(u=>{const dLat=Number(u.location.latitude);const dLng=Number(u.location.longitude);if(!Number.isFinite(dLat)||!Number.isFinite(dLng))return false;const dist=haversine(latNum,lngNum,dLat,dLng);return dist<=range;});setResults(filtered);setUserHasSearched(true);}catch(err){console.error(\"Firestore read error:\",err);const msg=(err===null||err===void 0?void 0:err.message)||(err===null||err===void 0?void 0:err.code)||String(err);setError(\"Failed to fetch donors from Firestore: \"+msg);}finally{setLoading(false);}},err=>{console.error(\"Geolocation error:\",err);setError(\"Location permission denied or unavailable\");setLoading(false);},{enableHighAccuracy:true,timeout:10000,maximumAge:0});};return/*#__PURE__*/_jsx(\"section\",{className:\"search-section\",id:\"search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Find Blood Donors\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onSubmit:e=>{e.preventDefault();handleSearch();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blood Type Needed\"}),/*#__PURE__*/_jsxs(\"select\",{value:bloodType,onChange:e=>setBloodType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Blood Group\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A+\",children:\"A+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A-\",children:\"A-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B+\",children:\"B+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B-\",children:\"B-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AB+\",children:\"AB+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AB-\",children:\"AB-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"O+\",children:\"O+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"O-\",children:\"O-\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search Radius (km)\"}),/*#__PURE__*/_jsxs(\"select\",{value:rangeKm,onChange:e=>setRangeKm(Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:5,children:\"5 km\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 km\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20 km\"}),/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30 km\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group-full\",children:/*#__PURE__*/_jsx(\"button\",{className:\"search-section-button\",type:\"submit\",disabled:loading,children:loading?\"Searching...\":\"Search Donors\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error})]})]})});}","map":{"version":3,"names":["React","useState","collection","getDocs","query","where","db","auth","signInAnonymously","jsx","_jsx","jsxs","_jsxs","Search","_ref","setResults","setRecipientLocation","setUserHasSearched","bloodType","setBloodType","rangeKm","setRangeKm","loading","setLoading","error","setError","haversine","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","asin","sqrt","ensureSignedIn","Error","currentUser","cred","user","err","console","handleSearch","navigator","geolocation","getCurrentPosition","pos","latNum","Number","coords","latitude","lngNum","longitude","isFinite","lat","lng","range","donorsCol","q","snap","docs","forEach","doc","_ref2","_data$fullname","_data$email","_ref3","_ref4","_data$phoneNo","_ref5","_data$bloodType","_ref6","_data$address","_data$location","_data$location2","_data$location3","_data$location4","_ref7","_data$status","_data$registeredAt","data","push","id","fullname","name","email","phoneNo","contact","phone","bloodGroup","address","city","location","undefined","status","availability","registeredAt","filtered","filter","u","dLng","dist","msg","message","code","String","enableHighAccuracy","timeout","maximumAge","className","children","onSubmit","e","preventDefault","value","onChange","target","type","disabled"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/Search.jsx"],"sourcesContent":["// src/components/Search.jsx\r\nimport \"./Search.css\";\r\nimport React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { db, auth } from \"../firebase\";\r\nimport { signInAnonymously } from \"firebase/auth\";\r\n\r\nexport default function Search({ setResults, setRecipientLocation, setUserHasSearched }) {\r\n  const [bloodType, setBloodType] = useState(\"\");\r\n  const [rangeKm, setRangeKm] = useState(5);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const haversine = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371;\r\n    const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n    const dLon = ((lon2 - lon1) * Math.PI) / 180;\r\n    const a =\r\n      Math.sin(dLat / 2) ** 2 +\r\n      Math.cos((lat1 * Math.PI) / 180) *\r\n        Math.cos((lat2 * Math.PI) / 180) *\r\n        Math.sin(dLon / 2) ** 2;\r\n\r\n    return R * 2 * Math.asin(Math.sqrt(a));\r\n  };\r\n\r\n  // Ensures the client is authenticated (anonymous if needed).\r\n  const ensureSignedIn = async () => {\r\n    if (!auth) throw new Error(\"Auth instance not available (check firebase import).\");\r\n    if (auth.currentUser) return auth.currentUser;\r\n    try {\r\n      const cred = await signInAnonymously(auth);\r\n      return cred.user;\r\n    } catch (err) {\r\n      console.error(\"Anonymous sign-in failed:\", err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    setError(null);\r\n\r\n    if (!bloodType) {\r\n      setError(\"Select blood type\");\r\n      return;\r\n    }\r\n\r\n    if (!db) {\r\n      setError(\"Internal: Firestore not initialized (check firebase import).\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    if (!navigator.geolocation) {\r\n      setError(\"Geolocation not supported by your browser\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (pos) => {\r\n        const latNum = Number(pos.coords.latitude);\r\n        const lngNum = Number(pos.coords.longitude);\r\n\r\n        if (!Number.isFinite(latNum) || !Number.isFinite(lngNum)) {\r\n          setError(\"Invalid GPS coordinates\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        setRecipientLocation({ lat: latNum, lng: lngNum });\r\n\r\n        try {\r\n          // Ensure authenticated (matches your Firestore rules which require request.auth != null)\r\n          await ensureSignedIn();\r\n\r\n          const range = Number(rangeKm);\r\n          if (!Number.isFinite(range) || range < 0) throw new Error(\"Invalid search radius\");\r\n\r\n          const donorsCol = collection(db, \"Donors\");\r\n          const q = query(donorsCol, where(\"bloodType\", \"==\", bloodType));\r\n          const snap = await getDocs(q);\r\n\r\n          const docs = [];\r\n          snap.forEach((doc) => {\r\n            const data = doc.data() || {};\r\n            docs.push({\r\n              id: doc.id,\r\n              fullname: data.fullname ?? data.name ?? \"\",\r\n              email: data.email ?? \"\",\r\n              phoneNo: data.phoneNo ?? data.contact ?? data.phone ?? \"\",\r\n              bloodType: data.bloodType ?? data.bloodGroup ?? \"\",\r\n              address: data.address ?? data.city ?? \"\",\r\n              location: {\r\n                latitude:\r\n                  data.location?.latitude !== undefined\r\n                    ? Number(data.location.latitude)\r\n                    : data.location?.lat !== undefined\r\n                    ? Number(data.location.lat)\r\n                    : null,\r\n                longitude:\r\n                  data.location?.longitude !== undefined\r\n                    ? Number(data.location.longitude)\r\n                    : data.location?.lng !== undefined\r\n                    ? Number(data.location.lng)\r\n                    : null,\r\n              },\r\n              status: data.status ?? data.availability ?? \"\",\r\n              registeredAt: data.registeredAt ?? null,\r\n            });\r\n          });\r\n\r\n          const filtered = docs.filter((u) => {\r\n            const dLat = Number(u.location.latitude);\r\n            const dLng = Number(u.location.longitude);\r\n            if (!Number.isFinite(dLat) || !Number.isFinite(dLng)) return false;\r\n            const dist = haversine(latNum, lngNum, dLat, dLng);\r\n            return dist <= range;\r\n          });\r\n\r\n          setResults(filtered);\r\n          setUserHasSearched(true);\r\n        } catch (err) {\r\n          console.error(\"Firestore read error:\", err);\r\n          const msg = err?.message || err?.code || String(err);\r\n          setError(\"Failed to fetch donors from Firestore: \" + msg);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      (err) => {\r\n        console.error(\"Geolocation error:\", err);\r\n        setError(\"Location permission denied or unavailable\");\r\n        setLoading(false);\r\n      },\r\n      { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"search-section\" id=\"search\">\r\n      <div className=\"container\">\r\n        <h2 className=\"title\">Find Blood Donors</h2>\r\n\r\n        <form\r\n          className=\"search-form\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            handleSearch();\r\n          }}\r\n        >\r\n          <div className=\"controls\">\r\n            <div className=\"form-group\">\r\n              <label>Blood Type Needed</label>\r\n              <select value={bloodType} onChange={(e) => setBloodType(e.target.value)}>\r\n                <option value=\"\">Select Blood Group</option>\r\n                <option value=\"A+\">A+</option>\r\n                <option value=\"A-\">A-</option>\r\n                <option value=\"B+\">B+</option>\r\n                <option value=\"B-\">B-</option>\r\n                <option value=\"AB+\">AB+</option>\r\n                <option value=\"AB-\">AB-</option>\r\n                <option value=\"O+\">O+</option>\r\n                <option value=\"O-\">O-</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Search Radius (km)</label>\r\n              <select value={rangeKm} onChange={(e) => setRangeKm(Number(e.target.value))}>\r\n                <option value={5}>5 km</option>\r\n                <option value={10}>10 km</option>\r\n                <option value={20}>20 km</option>\r\n                <option value={30}>30 km</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group-full\">\r\n            <button className=\"search-section-button\" type=\"submit\" disabled={loading}>\r\n              {loading ? \"Searching...\" : \"Search Donors\"}\r\n            </button>\r\n          </div>\r\n\r\n          {error && <p className=\"error-text\">{error}</p>}\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nSearch.propTypes = {\r\n  setResults: PropTypes.func.isRequired,\r\n  setRecipientLocation: PropTypes.func.isRequired,\r\n  setUserHasSearched: PropTypes.func.isRequired,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}