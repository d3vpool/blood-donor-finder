{"ast":null,"code":"// src/components/ContactModal.jsx\nimport React from\"react\";import\"./ContactModal.css\";/**\r\n * ContactModal\r\n * - user: donor object (may use different key names)\r\n * - onClose: close callback\r\n *\r\n * This component is defensive: it accepts many possible key names and\r\n * renders sensible fallbacks when data is missing.\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ContactModal(_ref){var _user$location;let{user,onClose}=_ref;if(!user)return null;const escapeHtml=str=>{if(str===null||str===undefined)return\"\";return String(str).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#039;\");};// Name: accept fullname, name\nconst name=user.fullname||user.name||user.displayName||user.full_name||\"Donor\";// Email\nconst email=user.email||user.mail||\"Not provided\";// Phone: phoneNo, contact, phone\nconst phone=user.phoneNo||user.contact||user.phone||\"Not provided\";// Blood group: bloodType, bloodGroup\nconst bloodGroup=user.bloodType||user.bloodGroup||user.blood||\"Unknown\";// Location: prefer address / city, else use coordinates if available\nconst address=user.address||user.city||((_user$location=user.location)===null||_user$location===void 0?void 0:_user$location.address)||\"\";let locationText=address;if(!locationText){var _user$location$latitu,_user$location2,_user$location3,_user$location$longit,_user$location4,_user$location5;const lat=(_user$location$latitu=(_user$location2=user.location)===null||_user$location2===void 0?void 0:_user$location2.latitude)!==null&&_user$location$latitu!==void 0?_user$location$latitu:(_user$location3=user.location)===null||_user$location3===void 0?void 0:_user$location3.lat;const lng=(_user$location$longit=(_user$location4=user.location)===null||_user$location4===void 0?void 0:_user$location4.longitude)!==null&&_user$location$longit!==void 0?_user$location$longit:(_user$location5=user.location)===null||_user$location5===void 0?void 0:_user$location5.lng;if(Number.isFinite(Number(lat))&&Number.isFinite(Number(lng))){locationText=\"\".concat(Number(lat).toFixed(6),\", \").concat(Number(lng).toFixed(6));}else{locationText=\"Not provided\";}}// Status\nconst status=user.status||user.availability||null;return/*#__PURE__*/_jsx(\"div\",{id:\"contactModal\",className:\"modal\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Contact Donor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:onClose,\"aria-label\":\"Close contact modal\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",escapeHtml(name)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Blood Group:\"}),\" \",escapeHtml(bloodGroup)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",escapeHtml(locationText)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",phone&&phone!==\"Not provided\"?/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(escapeHtml(phone)),children:escapeHtml(phone)}):\"Not provided\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",email&&email!==\"Not provided\"?/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(escapeHtml(email)),children:escapeHtml(email)}):\"Not provided\"]}),status&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:status===\"Available\"?\"status-available\":\"status-unavailable\",children:escapeHtml(status)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"contact-note\",children:\"Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"request-button\",onClick:()=>{console.log(\"REQUEST SENT TO DONOR:\",user.email);// later you will replace this with Firestore + Email + Cloud Messaging\nalert(\"Request sent to \".concat(user.fullname||user.email));},children:\"Request Blood\"}),/*#__PURE__*/_jsx(\"button\",{className:\"contact-button\",onClick:onClose,children:\"Close\"})]})]})});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ContactModal","_ref","_user$location","user","onClose","escapeHtml","str","undefined","String","replace","name","fullname","displayName","full_name","email","mail","phone","phoneNo","contact","bloodGroup","bloodType","blood","address","city","location","locationText","_user$location$latitu","_user$location2","_user$location3","_user$location$longit","_user$location4","_user$location5","lat","latitude","lng","longitude","Number","isFinite","concat","toFixed","status","availability","id","className","role","children","onClick","href","console","log","alert"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/ContactModal.jsx"],"sourcesContent":["// src/components/ContactModal.jsx\r\nimport React from \"react\";\r\nimport \"./ContactModal.css\";\r\n\r\n/**\r\n * ContactModal\r\n * - user: donor object (may use different key names)\r\n * - onClose: close callback\r\n *\r\n * This component is defensive: it accepts many possible key names and\r\n * renders sensible fallbacks when data is missing.\r\n */\r\nexport default function ContactModal({ user, onClose }) {\r\n  if (!user) return null;\r\n\r\n  const escapeHtml = (str) => {\r\n    if (str === null || str === undefined) return \"\";\r\n    return String(str)\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  };\r\n\r\n  // Name: accept fullname, name\r\n  const name = user.fullname || user.name || user.displayName || user.full_name || \"Donor\";\r\n\r\n  // Email\r\n  const email = user.email || user.mail || \"Not provided\";\r\n\r\n  // Phone: phoneNo, contact, phone\r\n  const phone = user.phoneNo || user.contact || user.phone || \"Not provided\";\r\n\r\n  // Blood group: bloodType, bloodGroup\r\n  const bloodGroup = user.bloodType || user.bloodGroup || user.blood || \"Unknown\";\r\n\r\n  // Location: prefer address / city, else use coordinates if available\r\n  const address = user.address || user.city || user.location?.address || \"\";\r\n  let locationText = address;\r\n  if (!locationText) {\r\n    const lat = user.location?.latitude ?? user.location?.lat;\r\n    const lng = user.location?.longitude ?? user.location?.lng;\r\n    if (Number.isFinite(Number(lat)) && Number.isFinite(Number(lng))) {\r\n      locationText = `${Number(lat).toFixed(6)}, ${Number(lng).toFixed(6)}`;\r\n    } else {\r\n      locationText = \"Not provided\";\r\n    }\r\n  }\r\n\r\n  // Status\r\n  const status = user.status || user.availability || null;\r\n\r\n  return (\r\n    <div id=\"contactModal\" className=\"modal\" role=\"dialog\" aria-modal=\"true\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Contact Donor</h3>\r\n          <button\r\n            className=\"modal-close\"\r\n            onClick={onClose}\r\n            aria-label=\"Close contact modal\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          <p><strong>Name:</strong> {escapeHtml(name)}</p>\r\n          <p><strong>Blood Group:</strong> {escapeHtml(bloodGroup)}</p>\r\n          <p><strong>Location:</strong> {escapeHtml(locationText)}</p>\r\n\r\n          <p>\r\n            <strong>Phone:</strong>{\" \"}\r\n            {phone && phone !== \"Not provided\" ? (\r\n              <a href={`tel:${escapeHtml(phone)}`}>{escapeHtml(phone)}</a>\r\n            ) : (\r\n              \"Not provided\"\r\n            )}\r\n          </p>\r\n\r\n          <p>\r\n            <strong>Email:</strong>{\" \"}\r\n            {email && email !== \"Not provided\" ? (\r\n              <a href={`mailto:${escapeHtml(email)}`}>{escapeHtml(email)}</a>\r\n            ) : (\r\n              \"Not provided\"\r\n            )}\r\n          </p>\r\n\r\n          {status && (\r\n            <p>\r\n              <strong>Status:</strong>{\" \"}\r\n              <span className={status === \"Available\" ? \"status-available\" : \"status-unavailable\"}>\r\n                {escapeHtml(status)}\r\n              </span>\r\n            </p>\r\n          )}\r\n\r\n          <p className=\"contact-note\">\r\n            Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n\r\n          <button\r\n            className=\"request-button\"\r\n            onClick={() => {\r\n              console.log(\"REQUEST SENT TO DONOR:\", user.email);\r\n              // later you will replace this with Firestore + Email + Cloud Messaging\r\n              alert(`Request sent to ${user.fullname || user.email}`);\r\n            }}\r\n          >\r\n            Request Blood\r\n          </button>\r\n\r\n\r\n          <button className=\"contact-button\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}