{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajya\\\\Desktop\\\\Coding\\\\WebDev\\\\Programs\\\\mini_project_LifeLink\\\\blood-donor-finder\\\\frontend\\\\src\\\\components\\\\DonorMap.jsx\",\n  _s = $RefreshSig$();\n// DonorMap.jsx (diagnostic + reliable markers)\nimport React, { useEffect, useRef } from \"react\";\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: \"100%\",\n  height: \"400px\"\n};\nexport default function DonorMap({\n  recipientLocation,\n  donors = [],\n  searchRadiusMiles = 25\n}) {\n  _s();\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n\n  // normalize recipientLocation to { lat, lng }\n  const normalized = (() => {\n    if (!recipientLocation) return null;\n    if (typeof recipientLocation.latitude === \"number\") return {\n      lat: Number(recipientLocation.latitude),\n      lng: Number(recipientLocation.longitude)\n    };\n    if (typeof recipientLocation.lat === \"number\") return {\n      lat: Number(recipientLocation.lat),\n      lng: Number(recipientLocation.lng)\n    };\n    if (recipientLocation.coords && typeof recipientLocation.coords.latitude === \"number\") return {\n      lat: Number(recipientLocation.coords.latitude),\n      lng: Number(recipientLocation.coords.longitude)\n    };\n    return null;\n  })();\n  const {\n    isLoaded,\n    loadError\n  } = useJsApiLoader({\n    googleMapsApiKey: apiKey\n  });\n\n  // helper: SVG icon data URL\n  const makeSvgIcon = (color, label = \"\", size = 36) => {\n    const svg = encodeURIComponent(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${size}\" height=\"${size}\">\n         <circle cx=\"${size / 2}\" cy=\"${Math.floor(size * 0.36)}\" r=\"${Math.floor(size * 0.22)}\" fill=\"${color}\" />\n         <rect x=\"${Math.floor(size * 0.22)}\" y=\"${Math.floor(size * 0.68)}\" width=\"${Math.floor(size * 0.56)}\" height=\"${Math.floor(size * 0.16)}\" fill=\"${color}\" rx=\"${Math.floor(size * 0.04)}\" />\n         <text x=\"${size / 2}\" y=\"${Math.floor(size * 0.46)}\" font-size=\"${Math.floor(size * 0.24)}\" font-family=\"Arial\" text-anchor=\"middle\" fill=\"#ffffff\">${label}</text>\n       </svg>`);\n    // safe to use scaledSize only after maps API loads\n    const base = {\n      url: `data:image/svg+xml;charset=UTF-8,${svg}`\n    };\n    if (window.google && window.google.maps && window.google.maps.Size) {\n      base.scaledSize = new window.google.maps.Size(size, size);\n    }\n    return base;\n  };\n  useEffect(() => {\n    console.log(\"DonorMap render — isLoaded:\", isLoaded, \"normalized:\", normalized, \"donors.length:\", Array.isArray(donors) ? donors.length : 0);\n  }, [isLoaded, normalized, donors]);\n  useEffect(() => {\n    if (!isLoaded) {\n      console.log(\"DonorMap: maps API not loaded yet\");\n      return;\n    }\n    if (!mapRef.current) {\n      console.log(\"DonorMap: mapRef not set yet\");\n      return;\n    }\n    const map = mapRef.current;\n\n    // clear previous markers and overlays\n    markersRef.current.forEach(m => {\n      try {\n        if (m && m.setMap) m.setMap(null);\n      } catch (_) {}\n    });\n    markersRef.current = [];\n    try {\n      // fallback marker (always visible for debug)\n      const fallbackPos = {\n        lat: 12.9716,\n        lng: 77.5946\n      };\n      const fallback = new window.google.maps.Marker({\n        position: fallbackPos,\n        map,\n        title: \"FALLBACK\"\n      });\n      markersRef.current.push(fallback);\n      console.log(\"DonorMap: fallback marker added at\", fallbackPos);\n\n      // user marker\n      if (normalized) {\n        const userMk = new window.google.maps.Marker({\n          position: normalized,\n          map,\n          title: \"User location\",\n          icon: makeSvgIcon(\"#ff5252\", \"U\")\n        });\n        markersRef.current.push(userMk);\n        console.log(\"DonorMap: user marker added at\", normalized);\n        map.setCenter(normalized);\n        map.setZoom(13);\n      } else {\n        console.log(\"DonorMap: no normalized user coords — user marker skipped\");\n      }\n\n      // donor markers\n      (Array.isArray(donors) ? donors : []).forEach((d, i) => {\n        var _d$location$latitude, _d$location, _d$location2, _d$location$longitude, _d$location3, _d$location4;\n        const lat = Number((_d$location$latitude = d === null || d === void 0 ? void 0 : (_d$location = d.location) === null || _d$location === void 0 ? void 0 : _d$location.latitude) !== null && _d$location$latitude !== void 0 ? _d$location$latitude : d === null || d === void 0 ? void 0 : (_d$location2 = d.location) === null || _d$location2 === void 0 ? void 0 : _d$location2.lat);\n        const lng = Number((_d$location$longitude = d === null || d === void 0 ? void 0 : (_d$location3 = d.location) === null || _d$location3 === void 0 ? void 0 : _d$location3.longitude) !== null && _d$location$longitude !== void 0 ? _d$location$longitude : d === null || d === void 0 ? void 0 : (_d$location4 = d.location) === null || _d$location4 === void 0 ? void 0 : _d$location4.lng);\n        if (Number.isNaN(lat) || Number.isNaN(lng)) {\n          console.log(\"DonorMap: skipping donor due to invalid coords:\", d);\n          return;\n        }\n        const pos = {\n          lat,\n          lng\n        };\n        const mk = new window.google.maps.Marker({\n          position: pos,\n          map,\n          title: d.name || d.email || `donor-${i}`,\n          icon: makeSvgIcon(\"#4caf50\", String(i + 1))\n        });\n        markersRef.current.push(mk);\n        console.log(\"DonorMap: donor marker added\", {\n          index: i,\n          pos,\n          name: d.name || d.email\n        });\n      });\n\n      // log actual markers on map\n      setTimeout(() => {\n        try {\n          console.log(\"DonorMap: map center now\", map.getCenter() && map.getCenter().toJSON(), \"zoom:\", map.getZoom());\n        } catch (e) {\n          console.log(\"DonorMap: error reading map center/zoom:\", e);\n        }\n      }, 200);\n    } catch (e) {\n      console.error(\"DonorMap: exception while placing markers:\", e);\n    }\n    return () => {\n      markersRef.current.forEach(m => {\n        try {\n          if (m && m.setMap) m.setMap(null);\n        } catch (_) {}\n      });\n      markersRef.current = [];\n      console.log(\"DonorMap: cleaned up markers\");\n    };\n  }, [isLoaded, normalized, donors]);\n  if (loadError) {\n    console.error(\"DonorMap loadError:\", loadError);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Map failed to load: \", String(loadError)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isLoaded) return null;\n  return /*#__PURE__*/_jsxDEV(GoogleMap, {\n    mapContainerStyle: containerStyle,\n    center: normalized || {\n      lat: 12.9716,\n      lng: 77.5946\n    },\n    zoom: normalized ? 13 : 11,\n    onLoad: map => {\n      mapRef.current = map;\n      console.log(\"DonorMap: GoogleMap onLoad, mapRef set\");\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_s(DonorMap, \"icVFVlgBddiZTdYxnPByCYs9qfc=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = DonorMap;\nvar _c;\n$RefreshReg$(_c, \"DonorMap\");","map":{"version":3,"names":["React","useEffect","useRef","GoogleMap","useJsApiLoader","jsxDEV","_jsxDEV","containerStyle","width","height","DonorMap","recipientLocation","donors","searchRadiusMiles","_s","mapRef","markersRef","apiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","normalized","latitude","lat","Number","lng","longitude","coords","isLoaded","loadError","googleMapsApiKey","makeSvgIcon","color","label","size","svg","encodeURIComponent","Math","floor","base","url","window","google","maps","Size","scaledSize","console","log","Array","isArray","length","current","map","forEach","m","setMap","_","fallbackPos","fallback","Marker","position","title","push","userMk","icon","setCenter","setZoom","d","i","_d$location$latitude","_d$location","_d$location2","_d$location$longitude","_d$location3","_d$location4","location","isNaN","pos","mk","name","email","String","index","setTimeout","getCenter","toJSON","getZoom","e","error","children","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","center","zoom","onLoad","_c","$RefreshReg$"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/DonorMap.jsx"],"sourcesContent":["// DonorMap.jsx (diagnostic + reliable markers)\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\r\n\r\nconst containerStyle = { width: \"100%\", height: \"400px\" };\r\n\r\nexport default function DonorMap({ recipientLocation, donors = [], searchRadiusMiles = 25 }) {\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\n\r\n  // normalize recipientLocation to { lat, lng }\r\n  const normalized = (() => {\r\n    if (!recipientLocation) return null;\r\n    if (typeof recipientLocation.latitude === \"number\") return { lat: Number(recipientLocation.latitude), lng: Number(recipientLocation.longitude) };\r\n    if (typeof recipientLocation.lat === \"number\") return { lat: Number(recipientLocation.lat), lng: Number(recipientLocation.lng) };\r\n    if (recipientLocation.coords && typeof recipientLocation.coords.latitude === \"number\") return { lat: Number(recipientLocation.coords.latitude), lng: Number(recipientLocation.coords.longitude) };\r\n    return null;\r\n  })();\r\n\r\n  const { isLoaded, loadError } = useJsApiLoader({ googleMapsApiKey: apiKey });\r\n\r\n  // helper: SVG icon data URL\r\n  const makeSvgIcon = (color, label = \"\", size = 36) => {\r\n    const svg = encodeURIComponent(\r\n      `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${size}\" height=\"${size}\">\r\n         <circle cx=\"${size/2}\" cy=\"${Math.floor(size*0.36)}\" r=\"${Math.floor(size*0.22)}\" fill=\"${color}\" />\r\n         <rect x=\"${Math.floor(size*0.22)}\" y=\"${Math.floor(size*0.68)}\" width=\"${Math.floor(size*0.56)}\" height=\"${Math.floor(size*0.16)}\" fill=\"${color}\" rx=\"${Math.floor(size*0.04)}\" />\r\n         <text x=\"${size/2}\" y=\"${Math.floor(size*0.46)}\" font-size=\"${Math.floor(size*0.24)}\" font-family=\"Arial\" text-anchor=\"middle\" fill=\"#ffffff\">${label}</text>\r\n       </svg>`\r\n    );\r\n    // safe to use scaledSize only after maps API loads\r\n    const base = { url: `data:image/svg+xml;charset=UTF-8,${svg}` };\r\n    if (window.google && window.google.maps && window.google.maps.Size) {\r\n      base.scaledSize = new window.google.maps.Size(size, size);\r\n    }\r\n    return base;\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"DonorMap render — isLoaded:\", isLoaded, \"normalized:\", normalized, \"donors.length:\", Array.isArray(donors) ? donors.length : 0);\r\n  }, [isLoaded, normalized, donors]);\r\n\r\n  useEffect(() => {\r\n    if (!isLoaded) {\r\n      console.log(\"DonorMap: maps API not loaded yet\");\r\n      return;\r\n    }\r\n    if (!mapRef.current) {\r\n      console.log(\"DonorMap: mapRef not set yet\");\r\n      return;\r\n    }\r\n\r\n    const map = mapRef.current;\r\n\r\n    // clear previous markers and overlays\r\n    markersRef.current.forEach(m => {\r\n      try { if (m && m.setMap) m.setMap(null); } catch (_) {}\r\n    });\r\n    markersRef.current = [];\r\n\r\n    try {\r\n      // fallback marker (always visible for debug)\r\n      const fallbackPos = { lat: 12.9716, lng: 77.5946 };\r\n      const fallback = new window.google.maps.Marker({\r\n        position: fallbackPos,\r\n        map,\r\n        title: \"FALLBACK\"\r\n      });\r\n      markersRef.current.push(fallback);\r\n      console.log(\"DonorMap: fallback marker added at\", fallbackPos);\r\n\r\n      // user marker\r\n      if (normalized) {\r\n        const userMk = new window.google.maps.Marker({\r\n          position: normalized,\r\n          map,\r\n          title: \"User location\",\r\n          icon: makeSvgIcon(\"#ff5252\", \"U\")\r\n        });\r\n        markersRef.current.push(userMk);\r\n        console.log(\"DonorMap: user marker added at\", normalized);\r\n        map.setCenter(normalized);\r\n        map.setZoom(13);\r\n      } else {\r\n        console.log(\"DonorMap: no normalized user coords — user marker skipped\");\r\n      }\r\n\r\n      // donor markers\r\n      (Array.isArray(donors) ? donors : []).forEach((d, i) => {\r\n        const lat = Number(d?.location?.latitude ?? d?.location?.lat);\r\n        const lng = Number(d?.location?.longitude ?? d?.location?.lng);\r\n        if (Number.isNaN(lat) || Number.isNaN(lng)) {\r\n          console.log(\"DonorMap: skipping donor due to invalid coords:\", d);\r\n          return;\r\n        }\r\n        const pos = { lat, lng };\r\n        const mk = new window.google.maps.Marker({\r\n          position: pos,\r\n          map,\r\n          title: d.name || d.email || `donor-${i}`,\r\n          icon: makeSvgIcon(\"#4caf50\", String(i + 1))\r\n        });\r\n        markersRef.current.push(mk);\r\n        console.log(\"DonorMap: donor marker added\", { index: i, pos, name: d.name || d.email });\r\n      });\r\n\r\n      // log actual markers on map\r\n      setTimeout(() => {\r\n        try {\r\n          console.log(\"DonorMap: map center now\", map.getCenter() && map.getCenter().toJSON(), \"zoom:\", map.getZoom());\r\n        } catch (e) {\r\n          console.log(\"DonorMap: error reading map center/zoom:\", e);\r\n        }\r\n      }, 200);\r\n\r\n    } catch (e) {\r\n      console.error(\"DonorMap: exception while placing markers:\", e);\r\n    }\r\n\r\n    return () => {\r\n      markersRef.current.forEach(m => {\r\n        try { if (m && m.setMap) m.setMap(null); } catch (_) {}\r\n      });\r\n      markersRef.current = [];\r\n      console.log(\"DonorMap: cleaned up markers\");\r\n    };\r\n  }, [isLoaded, normalized, donors]);\r\n\r\n  if (loadError) {\r\n    console.error(\"DonorMap loadError:\", loadError);\r\n    return <div>Map failed to load: {String(loadError)}</div>;\r\n  }\r\n  if (!isLoaded) return null;\r\n\r\n  return (\r\n    <GoogleMap\r\n      mapContainerStyle={containerStyle}\r\n      center={normalized || { lat: 12.9716, lng: 77.5946 }}\r\n      zoom={normalized ? 13 : 11}\r\n      onLoad={(map) => {\r\n        mapRef.current = map;\r\n        console.log(\"DonorMap: GoogleMap onLoad, mapRef set\");\r\n      }}\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}