{"ast":null,"code":"// src/components/ContactModal.jsx\nimport React,{useState,useEffect}from\"react\";import\"./ContactModal.css\";import{init,send}from\"@emailjs/browser\";import{auth}from\"../firebase\";// ensure this path matches your firebase export\n/**\r\n * ContactModal\r\n * Props:\r\n *  - user: donor object\r\n *  - recipient: optional object { name, email, bloodType, message } (you can also rely on auth.currentUser)\r\n *  - onClose: close callback\r\n *\r\n * Requires in .env (frontend):\r\n *  REACT_APP_EMAILJS_PUBLIC_KEY\r\n *  REACT_APP_EMAILJS_SERVICE_ID\r\n *  REACT_APP_EMAILJS_TEMPLATE_ID\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ContactModal(_ref){var _user$location;let{user,recipient={},onClose}=_ref;const[sending,setSending]=useState(false);const[sent,setSent]=useState(false);const[error,setError]=useState(null);const[recipientMessage,setRecipientMessage]=useState(\"\");useEffect(()=>{const pub=process.env.REACT_APP_EMAILJS_PUBLIC_KEY;if(pub)init(pub);},[]);if(!user)return null;const escapeHtml=str=>{if(str===null||str===undefined)return\"\";return String(str).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#039;\");};// Donor fields (defensive)\nconst name=user.fullname||user.name||user.displayName||user.full_name||\"Donor\";const donorEmail=user.email||user.mail||\"\";const phone=user.phoneNo||user.contact||user.phone||\"\";const bloodGroup=user.bloodType||user.bloodGroup||user.blood||\"Unknown\";const address=user.address||user.city||((_user$location=user.location)===null||_user$location===void 0?void 0:_user$location.address)||\"\";let locationText=address;if(!locationText){var _user$location$latitu,_user$location2,_user$location3,_user$location$longit,_user$location4,_user$location5;const lat=(_user$location$latitu=(_user$location2=user.location)===null||_user$location2===void 0?void 0:_user$location2.latitude)!==null&&_user$location$latitu!==void 0?_user$location$latitu:(_user$location3=user.location)===null||_user$location3===void 0?void 0:_user$location3.lat;const lng=(_user$location$longit=(_user$location4=user.location)===null||_user$location4===void 0?void 0:_user$location4.longitude)!==null&&_user$location$longit!==void 0?_user$location$longit:(_user$location5=user.location)===null||_user$location5===void 0?void 0:_user$location5.lng;if(Number.isFinite(Number(lat))&&Number.isFinite(Number(lng))){locationText=\"\".concat(Number(lat).toFixed(6),\", \").concat(Number(lng).toFixed(6));}else{locationText=\"Not provided\";}}// Recipient info: prefer explicit prop, else use logged-in user\nconst currentUser=(auth===null||auth===void 0?void 0:auth.currentUser)||null;const recipientName=name||recipient.name||(currentUser===null||currentUser===void 0?void 0:currentUser.displayName)||(currentUser===null||currentUser===void 0?void 0:currentUser.fullname)||\"Recipient\";const recipientEmail=recipient.email||(currentUser===null||currentUser===void 0?void 0:currentUser.email)||\"\";// Accept / reject links (point to your hosted endpoint or a simple mailto / UI path)\nconst origin=window.location.origin;const acceptLink=\"\".concat(origin,\"/email-response?action=accept&donor=\").concat(encodeURIComponent(donorEmail),\"&recipient=\").concat(encodeURIComponent(recipientEmail));const rejectLink=\"\".concat(origin,\"/email-response?action=reject&donor=\").concat(encodeURIComponent(donorEmail),\"&recipient=\").concat(encodeURIComponent(recipientEmail));async function handleRequest(){setSending(true);setError(null);setSent(false);const serviceId=process.env.REACT_APP_EMAILJS_SERVICE_ID;const templateId=process.env.REACT_APP_EMAILJS_TEMPLATE_ID;if(!serviceId||!templateId){setError(\"EmailJS service/template not configured in .env\");setSending(false);return;}if(!donorEmail){setError(\"Donor has no email on record.\");setSending(false);return;}// Build template params: these must match the variable names you set in the EmailJS template\nconst templateParams={// visible variables in HTML template\nname:recipientName,// the person requesting blood\nmessage:recipientMessage||recipient.message||\"Requesting \".concat(bloodGroup,\" blood \\u2014 please respond if available.\"),bloodtype:recipient.bloodType||recipient.blood||bloodGroup,accept_link:acceptLink,reject_link:rejectLink,// hidden / non-displayed variables (still available in template engine, and for EmailJS)\ndonor_email:donorEmail,recipient_email:recipientEmail};try{await send(serviceId,templateId,templateParams);setSent(true);console.log(\"EmailJS: request sent\",templateParams);}catch(err){console.error(\"EmailJS send error:\",err);// EmailJS returns an object in many cases; extract meaningful message\nconst msg=err&&(err.text||err.message)||JSON.stringify(err);setError(msg);}finally{setSending(false);}}return/*#__PURE__*/_jsx(\"div\",{id:\"contactModal\",className:\"modal\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Contact Donor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:onClose,\"aria-label\":\"Close contact modal\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",escapeHtml(name)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Blood Group:\"}),\" \",escapeHtml(bloodGroup)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",escapeHtml(locationText)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",phone?/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(escapeHtml(phone)),children:escapeHtml(phone)}):\"Not provided\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",donorEmail?/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(escapeHtml(donorEmail)),children:escapeHtml(donorEmail)}):\"Not provided\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"recipientMessage\",children:\"Your Details (Address + Phone)\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"recipientMessage\",placeholder:\"ADDRESS AND PHONE NUMBER\",value:recipientMessage,onChange:e=>setRecipientMessage(e.target.value),className:\"contact-textarea\",rows:4})]}),/*#__PURE__*/_jsx(\"p\",{className:\"contact-note\",children:\"Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",role:\"alert\",children:error}),sent&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",role:\"status\",children:\"Request email sent to donor.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"request-button\",disabled:sending||sent,onClick:handleRequest,children:sending?\"Sending...\":sent?\"Sent\":\"Request Blood\"}),/*#__PURE__*/_jsx(\"button\",{className:\"contact-button\",onClick:onClose,children:\"Close\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","init","send","auth","jsx","_jsx","jsxs","_jsxs","ContactModal","_ref","_user$location","user","recipient","onClose","sending","setSending","sent","setSent","error","setError","recipientMessage","setRecipientMessage","pub","process","env","REACT_APP_EMAILJS_PUBLIC_KEY","escapeHtml","str","undefined","String","replace","name","fullname","displayName","full_name","donorEmail","email","mail","phone","phoneNo","contact","bloodGroup","bloodType","blood","address","city","location","locationText","_user$location$latitu","_user$location2","_user$location3","_user$location$longit","_user$location4","_user$location5","lat","latitude","lng","longitude","Number","isFinite","concat","toFixed","currentUser","recipientName","recipientEmail","origin","window","acceptLink","encodeURIComponent","rejectLink","handleRequest","serviceId","REACT_APP_EMAILJS_SERVICE_ID","templateId","REACT_APP_EMAILJS_TEMPLATE_ID","templateParams","message","bloodtype","accept_link","reject_link","donor_email","recipient_email","console","log","err","msg","text","JSON","stringify","id","className","role","children","onClick","href","htmlFor","placeholder","value","onChange","e","target","rows","disabled"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/ContactModal.jsx"],"sourcesContent":["// src/components/ContactModal.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./ContactModal.css\";\r\nimport { init, send } from \"@emailjs/browser\";\r\nimport { auth } from \"../firebase\"; // ensure this path matches your firebase export\r\n\r\n/**\r\n * ContactModal\r\n * Props:\r\n *  - user: donor object\r\n *  - recipient: optional object { name, email, bloodType, message } (you can also rely on auth.currentUser)\r\n *  - onClose: close callback\r\n *\r\n * Requires in .env (frontend):\r\n *  REACT_APP_EMAILJS_PUBLIC_KEY\r\n *  REACT_APP_EMAILJS_SERVICE_ID\r\n *  REACT_APP_EMAILJS_TEMPLATE_ID\r\n */\r\nexport default function ContactModal({ user, recipient = {}, onClose }) {\r\n  const [sending, setSending] = useState(false);\r\n  const [sent, setSent] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [recipientMessage, setRecipientMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const pub = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\r\n    if (pub) init(pub);\r\n  }, []);\r\n\r\n  if (!user) return null;\r\n\r\n  const escapeHtml = (str) => {\r\n    if (str === null || str === undefined) return \"\";\r\n    return String(str)\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  };\r\n\r\n  // Donor fields (defensive)\r\n  const name = user.fullname || user.name || user.displayName || user.full_name || \"Donor\";\r\n  const donorEmail = user.email || user.mail || \"\";\r\n  const phone = user.phoneNo || user.contact || user.phone || \"\";\r\n  const bloodGroup = user.bloodType || user.bloodGroup || user.blood || \"Unknown\";\r\n  const address = user.address || user.city || user.location?.address || \"\";\r\n  let locationText = address;\r\n  if (!locationText) {\r\n    const lat = user.location?.latitude ?? user.location?.lat;\r\n    const lng = user.location?.longitude ?? user.location?.lng;\r\n    if (Number.isFinite(Number(lat)) && Number.isFinite(Number(lng))) {\r\n      locationText = `${Number(lat).toFixed(6)}, ${Number(lng).toFixed(6)}`;\r\n    } else {\r\n      locationText = \"Not provided\";\r\n    }\r\n  }\r\n\r\n  // Recipient info: prefer explicit prop, else use logged-in user\r\n  const currentUser = auth?.currentUser || null;\r\n  const recipientName = name || recipient.name || currentUser?.displayName || currentUser?.fullname || \"Recipient\";\r\n  const recipientEmail = recipient.email || currentUser?.email || \"\";\r\n\r\n  // Accept / reject links (point to your hosted endpoint or a simple mailto / UI path)\r\n  const origin = window.location.origin;\r\n  const acceptLink = `${origin}/email-response?action=accept&donor=${encodeURIComponent(donorEmail)}&recipient=${encodeURIComponent(recipientEmail)}`;\r\n  const rejectLink = `${origin}/email-response?action=reject&donor=${encodeURIComponent(donorEmail)}&recipient=${encodeURIComponent(recipientEmail)}`;\r\n\r\n  async function handleRequest() {\r\n    setSending(true);\r\n    setError(null);\r\n    setSent(false);\r\n\r\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\r\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\r\n\r\n    if (!serviceId || !templateId) {\r\n      setError(\"EmailJS service/template not configured in .env\");\r\n      setSending(false);\r\n      return;\r\n    }\r\n\r\n    if (!donorEmail) {\r\n      setError(\"Donor has no email on record.\");\r\n      setSending(false);\r\n      return;\r\n    }\r\n\r\n    // Build template params: these must match the variable names you set in the EmailJS template\r\n    const templateParams = {\r\n      // visible variables in HTML template\r\n      name: recipientName, // the person requesting blood\r\n      message: recipientMessage || recipient.message || `Requesting ${bloodGroup} blood â€” please respond if available.`,\r\n      bloodtype: recipient.bloodType || recipient.blood || bloodGroup,\r\n      accept_link: acceptLink,\r\n      reject_link: rejectLink,\r\n\r\n      // hidden / non-displayed variables (still available in template engine, and for EmailJS)\r\n      donor_email: donorEmail,\r\n      recipient_email: recipientEmail,\r\n    };\r\n\r\n    try {\r\n      await send(serviceId, templateId, templateParams);\r\n      setSent(true);\r\n      console.log(\"EmailJS: request sent\", templateParams);\r\n    } catch (err) {\r\n      console.error(\"EmailJS send error:\", err);\r\n      // EmailJS returns an object in many cases; extract meaningful message\r\n      const msg = (err && (err.text || err.message)) || JSON.stringify(err);\r\n      setError(msg);\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"contactModal\" className=\"modal\" role=\"dialog\" aria-modal=\"true\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Contact Donor</h3>\r\n          <button\r\n            className=\"modal-close\"\r\n            onClick={onClose}\r\n            aria-label=\"Close contact modal\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          <p><strong>Name:</strong> {escapeHtml(name)}</p>\r\n          <p><strong>Blood Group:</strong> {escapeHtml(bloodGroup)}</p>\r\n          <p><strong>Location:</strong> {escapeHtml(locationText)}</p>\r\n\r\n          <p>\r\n            <strong>Phone:</strong>{\" \"}\r\n            {phone ? <a href={`tel:${escapeHtml(phone)}`}>{escapeHtml(phone)}</a> : \"Not provided\"}\r\n          </p>\r\n\r\n          <p>\r\n            <strong>Email:</strong>{\" \"}\r\n            {donorEmail ? <a href={`mailto:${escapeHtml(donorEmail)}`}>{escapeHtml(donorEmail)}</a> : \"Not provided\"}\r\n          </p>\r\n\r\n          <div className=\"input-block\">\r\n            <label htmlFor=\"recipientMessage\">\r\n              Your Details (Address + Phone)\r\n            </label>\r\n            <textarea\r\n              id=\"recipientMessage\"\r\n              placeholder=\"ADDRESS AND PHONE NUMBER\"\r\n              value={recipientMessage}\r\n              onChange={(e) => setRecipientMessage(e.target.value)}\r\n              className=\"contact-textarea\"\r\n              rows={4}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"contact-note\">\r\n            Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\r\n          </p>\r\n\r\n          {error && <div className=\"error-message\" role=\"alert\">{error}</div>}\r\n          {sent && <div className=\"success-message\" role=\"status\">Request email sent to donor.</div>}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            className=\"request-button\"\r\n            disabled={sending || sent}\r\n            onClick={handleRequest}\r\n          >\r\n            {sending ? \"Sending...\" : sent ? \"Sent\" : \"Request Blood\"}\r\n          </button>\r\n\r\n          <button className=\"contact-button\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}