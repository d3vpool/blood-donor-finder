{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajya\\\\Desktop\\\\Coding\\\\WebDev\\\\Programs\\\\mini_project_LifeLink\\\\blood-donor-finder\\\\frontend\\\\src\\\\components\\\\DonorMap.jsx\",\n  _s = $RefreshSig$();\n// DonorMap.jsx\nimport React, { useEffect, useRef } from \"react\";\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: \"100%\",\n  height: \"400px\"\n};\n\n// makeSvgIcon: returns a data-URL SVG icon; uses scaledSize to avoid external images\nfunction makeSvgIcon(color, label = \"\", size = 36) {\n  const svg = encodeURIComponent(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${size}\" height=\"${size}\">\n       <circle cx=\"${size / 2}\" cy=\"${Math.floor(size * 0.36)}\" r=\"${Math.floor(size * 0.22)}\" fill=\"${color}\" />\n       <rect x=\"${Math.floor(size * 0.22)}\" y=\"${Math.floor(size * 0.68)}\" width=\"${Math.floor(size * 0.56)}\" height=\"${Math.floor(size * 0.16)}\" fill=\"${color}\" rx=\"${Math.floor(size * 0.04)}\" />\n       <text x=\"${size / 2}\" y=\"${Math.floor(size * 0.46)}\" font-size=\"${Math.floor(size * 0.24)}\" font-family=\"Arial\" text-anchor=\"middle\" fill=\"#ffffff\">${label}</text>\n     </svg>`);\n  return {\n    url: `data:image/svg+xml;charset=UTF-8,${svg}`,\n    scaledSize: new window.google.maps.Size(size, size)\n  };\n}\nexport default function DonorMap({\n  recipientLocation,\n  donors = [],\n  searchRadiusMiles = 25,\n  setMapController // (optional) function to receive { focusOn } controller\n}) {\n  _s();\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const infoWindowRef = useRef(null);\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n  const {\n    isLoaded,\n    loadError\n  } = useJsApiLoader({\n    googleMapsApiKey: apiKey\n  });\n\n  // normalize recipientLocation to { lat, lng } or null\n  const normalized = (() => {\n    if (!recipientLocation) return null;\n    if (typeof recipientLocation.latitude === \"number\" && typeof recipientLocation.longitude === \"number\") return {\n      lat: Number(recipientLocation.latitude),\n      lng: Number(recipientLocation.longitude)\n    };\n    if (typeof recipientLocation.lat === \"number\" && typeof recipientLocation.lng === \"number\") return {\n      lat: Number(recipientLocation.lat),\n      lng: Number(recipientLocation.lng)\n    };\n    if (recipientLocation.coords && typeof recipientLocation.coords.latitude === \"number\") return {\n      lat: Number(recipientLocation.coords.latitude),\n      lng: Number(recipientLocation.coords.longitude)\n    };\n    return null;\n  })();\n  useEffect(() => {\n    if (!isLoaded || !mapRef.current) return;\n    const map = mapRef.current;\n\n    // cleanup old markers and listeners\n    markersRef.current.forEach(m => {\n      try {\n        m.setMap(null);\n      } catch (_) {}\n    });\n    markersRef.current = [];\n    if (infoWindowRef.current) {\n      try {\n        infoWindowRef.current.close();\n      } catch (_) {}\n    } else {\n      infoWindowRef.current = new window.google.maps.InfoWindow();\n    }\n\n    // helper to add a marker and optional click handler\n    const addMarker = ({\n      position,\n      title,\n      label,\n      color,\n      onClick\n    }) => {\n      const icon = makeSvgIcon(color, label || \"\");\n      const mk = new window.google.maps.Marker({\n        position,\n        map,\n        title: title || \"\",\n        icon,\n        zIndex: label === \"U\" ? 9999 : undefined\n      });\n      if (typeof onClick === \"function\") mk.addListener(\"click\", () => onClick(mk));\n      markersRef.current.push(mk);\n      return mk;\n    };\n\n    // build bounds to fit all markers (user + donors)\n    const bounds = new window.google.maps.LatLngBounds();\n\n    // add user marker if available\n    if (normalized) {\n      addMarker({\n        position: normalized,\n        title: \"You\",\n        label: \"U\",\n        color: \"#ff5252\",\n        onClick: mk => {\n          infoWindowRef.current.setContent(`<div><strong>Your location</strong></div>`);\n          infoWindowRef.current.open({\n            anchor: mk,\n            map\n          });\n        }\n      });\n      bounds.extend(normalized);\n    }\n\n    // add donor markers\n    donors.forEach((d, i) => {\n      var _d$location, _d$location2;\n      const lat = Number(d === null || d === void 0 ? void 0 : (_d$location = d.location) === null || _d$location === void 0 ? void 0 : _d$location.latitude);\n      const lng = Number(d === null || d === void 0 ? void 0 : (_d$location2 = d.location) === null || _d$location2 === void 0 ? void 0 : _d$location2.longitude);\n      if (Number.isNaN(lat) || Number.isNaN(lng)) return;\n      const donorPos = {\n        lat,\n        lng\n      };\n      const mk = addMarker({\n        position: donorPos,\n        title: d.name || d.email || `Donor ${i + 1}`,\n        label: String(i + 1),\n        color: \"#4caf50\",\n        onClick: () => {\n          const content = `\n            <div style=\"min-width:200px\">\n              <strong>${d.name || \"Donor\"}</strong>\n              <div>Blood: ${d.bloodGroup || d.bloodType || \"N/A\"}</div>\n              <div>Contact: ${d.contact || d.phoneNo || \"N/A\"}</div>\n              ${d.city ? `<div>City: ${d.city}</div>` : \"\"}\n            </div>\n          `;\n          infoWindowRef.current.setContent(content);\n          infoWindowRef.current.open({\n            anchor: mk,\n            map\n          });\n        }\n      });\n      bounds.extend(donorPos);\n    });\n\n    // draw circle for search radius around user\n    if (normalized) {\n      const radiusMeters = Number(searchRadiusMiles) * 1609.34;\n      const circle = new window.google.maps.Circle({\n        strokeOpacity: 0.6,\n        strokeWeight: 2,\n        clickable: false,\n        fillOpacity: 0.06,\n        strokeColor: \"#1976D2\",\n        fillColor: \"#1976D2\",\n        map,\n        center: normalized,\n        radius: radiusMeters,\n        zIndex: 1\n      });\n      // add circle to markersRef so it gets removed during cleanup\n      markersRef.current.push(circle);\n    }\n\n    // fit bounds: if only a single point (user alone), set a sensible zoom\n    try {\n      if (!bounds.isEmpty() && markersRef.current.length > 1) {\n        map.fitBounds(bounds);\n      } else if (normalized) {\n        map.setCenter(normalized);\n        map.setZoom(13);\n      } else {\n        // keep current map center\n      }\n    } catch (e) {\n      // fallback center/zoom\n      if (normalized) {\n        map.setCenter(normalized);\n        map.setZoom(13);\n      }\n    }\n\n    // expose controller if requested\n    if (typeof setMapController === \"function\") {\n      setMapController({\n        focusOn: (lat, lng, zoom = 15) => {\n          if (!map) return;\n          try {\n            const pos = {\n              lat: Number(lat),\n              lng: Number(lng)\n            };\n            map.panTo(pos);\n            map.setZoom(zoom);\n            // optionally open the matching marker's InfoWindow\n            const matching = markersRef.current.find(m => {\n              try {\n                const p = m.getPosition && m.getPosition().toJSON();\n                return p && p.lat === pos.lat && p.lng === pos.lng;\n              } catch (err) {\n                return false;\n              }\n            });\n            if (matching && infoWindowRef.current && matching.getTitle) {\n              // open infoWindow with title if donor's marker matched\n              const title = matching.getTitle ? matching.getTitle() : \"\";\n              infoWindowRef.current.setContent(`<div><strong>${title}</strong></div>`);\n              infoWindowRef.current.open({\n                anchor: matching,\n                map\n              });\n            }\n          } catch (_) {}\n        }\n      });\n    }\n\n    // cleanup on re-run / unmount\n    return () => {\n      try {\n        markersRef.current.forEach(m => {\n          if (m && m.setMap) m.setMap(null);\n        });\n        markersRef.current = [];\n        if (infoWindowRef.current) {\n          try {\n            infoWindowRef.current.close();\n          } catch (_) {}\n        }\n      } catch (_) {}\n    };\n  }, [isLoaded, normalized, donors, searchRadiusMiles, setMapController]);\n  if (loadError) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-error\",\n    children: [\"Map failed to load: \", String(loadError)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 25\n  }, this);\n  if (!isLoaded) return null;\n  return /*#__PURE__*/_jsxDEV(GoogleMap, {\n    mapContainerStyle: containerStyle,\n    center: normalized || {\n      lat: 12.9716,\n      lng: 77.5946\n    },\n    zoom: normalized ? 13 : 11,\n    onLoad: mapInstance => {\n      mapRef.current = mapInstance;\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n}\n_s(DonorMap, \"g6z1ij1+5Auil/OkX0hfwWn3jqM=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = DonorMap;\nvar _c;\n$RefreshReg$(_c, \"DonorMap\");","map":{"version":3,"names":["React","useEffect","useRef","GoogleMap","useJsApiLoader","jsxDEV","_jsxDEV","containerStyle","width","height","makeSvgIcon","color","label","size","svg","encodeURIComponent","Math","floor","url","scaledSize","window","google","maps","Size","DonorMap","recipientLocation","donors","searchRadiusMiles","setMapController","_s","mapRef","markersRef","infoWindowRef","apiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","isLoaded","loadError","googleMapsApiKey","normalized","latitude","longitude","lat","Number","lng","coords","current","map","forEach","m","setMap","_","close","InfoWindow","addMarker","position","title","onClick","icon","mk","Marker","zIndex","undefined","addListener","push","bounds","LatLngBounds","setContent","open","anchor","extend","d","i","_d$location","_d$location2","location","isNaN","donorPos","name","email","String","content","bloodGroup","bloodType","contact","phoneNo","city","radiusMeters","circle","Circle","strokeOpacity","strokeWeight","clickable","fillOpacity","strokeColor","fillColor","center","radius","isEmpty","length","fitBounds","setCenter","setZoom","e","focusOn","zoom","pos","panTo","matching","find","p","getPosition","toJSON","err","getTitle","className","children","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","onLoad","mapInstance","_c","$RefreshReg$"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/DonorMap.jsx"],"sourcesContent":["// DonorMap.jsx\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\r\n\r\nconst containerStyle = { width: \"100%\", height: \"400px\" };\r\n\r\n// makeSvgIcon: returns a data-URL SVG icon; uses scaledSize to avoid external images\r\nfunction makeSvgIcon(color, label = \"\", size = 36) {\r\n  const svg = encodeURIComponent(\r\n    `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${size}\" height=\"${size}\">\r\n       <circle cx=\"${size/2}\" cy=\"${Math.floor(size*0.36)}\" r=\"${Math.floor(size*0.22)}\" fill=\"${color}\" />\r\n       <rect x=\"${Math.floor(size*0.22)}\" y=\"${Math.floor(size*0.68)}\" width=\"${Math.floor(size*0.56)}\" height=\"${Math.floor(size*0.16)}\" fill=\"${color}\" rx=\"${Math.floor(size*0.04)}\" />\r\n       <text x=\"${size/2}\" y=\"${Math.floor(size*0.46)}\" font-size=\"${Math.floor(size*0.24)}\" font-family=\"Arial\" text-anchor=\"middle\" fill=\"#ffffff\">${label}</text>\r\n     </svg>`\r\n  );\r\n\r\n  return { url: `data:image/svg+xml;charset=UTF-8,${svg}`, scaledSize: new window.google.maps.Size(size, size) };\r\n}\r\n\r\nexport default function DonorMap({\r\n  recipientLocation,\r\n  donors = [],\r\n  searchRadiusMiles = 25,\r\n  setMapController // (optional) function to receive { focusOn } controller\r\n}) {\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const infoWindowRef = useRef(null);\r\n\r\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\n  const { isLoaded, loadError } = useJsApiLoader({ googleMapsApiKey: apiKey });\r\n\r\n  // normalize recipientLocation to { lat, lng } or null\r\n  const normalized = (() => {\r\n    if (!recipientLocation) return null;\r\n    if (typeof recipientLocation.latitude === \"number\" && typeof recipientLocation.longitude === \"number\")\r\n      return { lat: Number(recipientLocation.latitude), lng: Number(recipientLocation.longitude) };\r\n    if (typeof recipientLocation.lat === \"number\" && typeof recipientLocation.lng === \"number\")\r\n      return { lat: Number(recipientLocation.lat), lng: Number(recipientLocation.lng) };\r\n    if (recipientLocation.coords && typeof recipientLocation.coords.latitude === \"number\")\r\n      return { lat: Number(recipientLocation.coords.latitude), lng: Number(recipientLocation.coords.longitude) };\r\n    return null;\r\n  })();\r\n\r\n  useEffect(() => {\r\n    if (!isLoaded || !mapRef.current) return;\r\n    const map = mapRef.current;\r\n\r\n    // cleanup old markers and listeners\r\n    markersRef.current.forEach(m => {\r\n      try { m.setMap(null); } catch (_) {}\r\n    });\r\n    markersRef.current = [];\r\n\r\n    if (infoWindowRef.current) {\r\n      try { infoWindowRef.current.close(); } catch (_) {}\r\n    } else {\r\n      infoWindowRef.current = new window.google.maps.InfoWindow();\r\n    }\r\n\r\n    // helper to add a marker and optional click handler\r\n    const addMarker = ({ position, title, label, color, onClick }) => {\r\n      const icon = makeSvgIcon(color, label || \"\");\r\n      const mk = new window.google.maps.Marker({\r\n        position,\r\n        map,\r\n        title: title || \"\",\r\n        icon,\r\n        zIndex: label === \"U\" ? 9999 : undefined\r\n      });\r\n      if (typeof onClick === \"function\") mk.addListener(\"click\", () => onClick(mk));\r\n      markersRef.current.push(mk);\r\n      return mk;\r\n    };\r\n\r\n    // build bounds to fit all markers (user + donors)\r\n    const bounds = new window.google.maps.LatLngBounds();\r\n\r\n    // add user marker if available\r\n    if (normalized) {\r\n      addMarker({\r\n        position: normalized,\r\n        title: \"You\",\r\n        label: \"U\",\r\n        color: \"#ff5252\",\r\n        onClick: (mk) => {\r\n          infoWindowRef.current.setContent(`<div><strong>Your location</strong></div>`);\r\n          infoWindowRef.current.open({ anchor: mk, map });\r\n        }\r\n      });\r\n      bounds.extend(normalized);\r\n    }\r\n\r\n    // add donor markers\r\n    donors.forEach((d, i) => {\r\n      const lat = Number(d?.location?.latitude);\r\n      const lng = Number(d?.location?.longitude);\r\n      if (Number.isNaN(lat) || Number.isNaN(lng)) return;\r\n\r\n      const donorPos = { lat, lng };\r\n      const mk = addMarker({\r\n        position: donorPos,\r\n        title: d.name || d.email || `Donor ${i + 1}`,\r\n        label: String(i + 1),\r\n        color: \"#4caf50\",\r\n        onClick: () => {\r\n          const content = `\r\n            <div style=\"min-width:200px\">\r\n              <strong>${d.name || \"Donor\"}</strong>\r\n              <div>Blood: ${d.bloodGroup || d.bloodType || \"N/A\"}</div>\r\n              <div>Contact: ${d.contact || d.phoneNo || \"N/A\"}</div>\r\n              ${d.city ? `<div>City: ${d.city}</div>` : \"\"}\r\n            </div>\r\n          `;\r\n          infoWindowRef.current.setContent(content);\r\n          infoWindowRef.current.open({ anchor: mk, map });\r\n        }\r\n      });\r\n\r\n      bounds.extend(donorPos);\r\n    });\r\n\r\n    // draw circle for search radius around user\r\n    if (normalized) {\r\n      const radiusMeters = Number(searchRadiusMiles) * 1609.34;\r\n      const circle = new window.google.maps.Circle({\r\n        strokeOpacity: 0.6,\r\n        strokeWeight: 2,\r\n        clickable: false,\r\n        fillOpacity: 0.06,\r\n        strokeColor: \"#1976D2\",\r\n        fillColor: \"#1976D2\",\r\n        map,\r\n        center: normalized,\r\n        radius: radiusMeters,\r\n        zIndex: 1\r\n      });\r\n      // add circle to markersRef so it gets removed during cleanup\r\n      markersRef.current.push(circle);\r\n    }\r\n\r\n    // fit bounds: if only a single point (user alone), set a sensible zoom\r\n    try {\r\n      if (!bounds.isEmpty() && (markersRef.current.length > 1)) {\r\n        map.fitBounds(bounds);\r\n      } else if (normalized) {\r\n        map.setCenter(normalized);\r\n        map.setZoom(13);\r\n      } else {\r\n        // keep current map center\r\n      }\r\n    } catch (e) {\r\n      // fallback center/zoom\r\n      if (normalized) {\r\n        map.setCenter(normalized);\r\n        map.setZoom(13);\r\n      }\r\n    }\r\n\r\n    // expose controller if requested\r\n    if (typeof setMapController === \"function\") {\r\n      setMapController({\r\n        focusOn: (lat, lng, zoom = 15) => {\r\n          if (!map) return;\r\n          try {\r\n            const pos = { lat: Number(lat), lng: Number(lng) };\r\n            map.panTo(pos);\r\n            map.setZoom(zoom);\r\n            // optionally open the matching marker's InfoWindow\r\n            const matching = markersRef.current.find(m => {\r\n              try {\r\n                const p = m.getPosition && m.getPosition().toJSON();\r\n                return p && p.lat === pos.lat && p.lng === pos.lng;\r\n              } catch (err) {\r\n                return false;\r\n              }\r\n            });\r\n            if (matching && infoWindowRef.current && matching.getTitle) {\r\n              // open infoWindow with title if donor's marker matched\r\n              const title = matching.getTitle ? matching.getTitle() : \"\";\r\n              infoWindowRef.current.setContent(`<div><strong>${title}</strong></div>`);\r\n              infoWindowRef.current.open({ anchor: matching, map });\r\n            }\r\n          } catch (_) {}\r\n        }\r\n      });\r\n    }\r\n\r\n    // cleanup on re-run / unmount\r\n    return () => {\r\n      try {\r\n        markersRef.current.forEach(m => { if (m && m.setMap) m.setMap(null); });\r\n        markersRef.current = [];\r\n        if (infoWindowRef.current) { try { infoWindowRef.current.close(); } catch (_) {} }\r\n      } catch (_) {}\r\n    };\r\n  }, [isLoaded, normalized, donors, searchRadiusMiles, setMapController]);\r\n\r\n  if (loadError) return <div className=\"map-error\">Map failed to load: {String(loadError)}</div>;\r\n  if (!isLoaded) return null;\r\n\r\n  return (\r\n    <GoogleMap\r\n      mapContainerStyle={containerStyle}\r\n      center={normalized || { lat: 12.9716, lng: 77.5946 }}\r\n      zoom={normalized ? 13 : 11}\r\n      onLoad={(mapInstance) => { mapRef.current = mapInstance; }}\r\n    />\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,SAAS,EAAEC,cAAc,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,MAAMC,cAAc,GAAG;EAAEC,KAAK,EAAE,MAAM;EAAEC,MAAM,EAAE;AAAQ,CAAC;;AAEzD;AACA,SAASC,WAAWA,CAACC,KAAK,EAAEC,KAAK,GAAG,EAAE,EAAEC,IAAI,GAAG,EAAE,EAAE;EACjD,MAAMC,GAAG,GAAGC,kBAAkB,CAC5B,kDAAkDF,IAAI,aAAaA,IAAI;AAC3E,qBAAqBA,IAAI,GAAC,CAAC,SAASG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,QAAQG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,WAAWF,KAAK;AACtG,kBAAkBK,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,QAAQG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,YAAYG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,aAAaG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,WAAWF,KAAK,SAASK,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC;AACrL,kBAAkBA,IAAI,GAAC,CAAC,QAAQG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,gBAAgBG,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAC,IAAI,CAAC,6DAA6DD,KAAK;AAC5J,YACE,CAAC;EAED,OAAO;IAAEM,GAAG,EAAE,oCAAoCJ,GAAG,EAAE;IAAEK,UAAU,EAAE,IAAIC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACC,IAAI,CAACV,IAAI,EAAEA,IAAI;EAAE,CAAC;AAChH;AAEA,eAAe,SAASW,QAAQA,CAAC;EAC/BC,iBAAiB;EACjBC,MAAM,GAAG,EAAE;EACXC,iBAAiB,GAAG,EAAE;EACtBC,gBAAgB,CAAC;AACnB,CAAC,EAAE;EAAAC,EAAA;EACD,MAAMC,MAAM,GAAG5B,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM6B,UAAU,GAAG7B,MAAM,CAAC,EAAE,CAAC;EAC7B,MAAM8B,aAAa,GAAG9B,MAAM,CAAC,IAAI,CAAC;EAElC,MAAM+B,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,6BAA6B;EACxD,MAAM;IAAEC,QAAQ;IAAEC;EAAU,CAAC,GAAGlC,cAAc,CAAC;IAAEmC,gBAAgB,EAAEN;EAAO,CAAC,CAAC;;EAE5E;EACA,MAAMO,UAAU,GAAG,CAAC,MAAM;IACxB,IAAI,CAACf,iBAAiB,EAAE,OAAO,IAAI;IACnC,IAAI,OAAOA,iBAAiB,CAACgB,QAAQ,KAAK,QAAQ,IAAI,OAAOhB,iBAAiB,CAACiB,SAAS,KAAK,QAAQ,EACnG,OAAO;MAAEC,GAAG,EAAEC,MAAM,CAACnB,iBAAiB,CAACgB,QAAQ,CAAC;MAAEI,GAAG,EAAED,MAAM,CAACnB,iBAAiB,CAACiB,SAAS;IAAE,CAAC;IAC9F,IAAI,OAAOjB,iBAAiB,CAACkB,GAAG,KAAK,QAAQ,IAAI,OAAOlB,iBAAiB,CAACoB,GAAG,KAAK,QAAQ,EACxF,OAAO;MAAEF,GAAG,EAAEC,MAAM,CAACnB,iBAAiB,CAACkB,GAAG,CAAC;MAAEE,GAAG,EAAED,MAAM,CAACnB,iBAAiB,CAACoB,GAAG;IAAE,CAAC;IACnF,IAAIpB,iBAAiB,CAACqB,MAAM,IAAI,OAAOrB,iBAAiB,CAACqB,MAAM,CAACL,QAAQ,KAAK,QAAQ,EACnF,OAAO;MAAEE,GAAG,EAAEC,MAAM,CAACnB,iBAAiB,CAACqB,MAAM,CAACL,QAAQ,CAAC;MAAEI,GAAG,EAAED,MAAM,CAACnB,iBAAiB,CAACqB,MAAM,CAACJ,SAAS;IAAE,CAAC;IAC5G,OAAO,IAAI;EACb,CAAC,EAAE,CAAC;EAEJzC,SAAS,CAAC,MAAM;IACd,IAAI,CAACoC,QAAQ,IAAI,CAACP,MAAM,CAACiB,OAAO,EAAE;IAClC,MAAMC,GAAG,GAAGlB,MAAM,CAACiB,OAAO;;IAE1B;IACAhB,UAAU,CAACgB,OAAO,CAACE,OAAO,CAACC,CAAC,IAAI;MAC9B,IAAI;QAAEA,CAAC,CAACC,MAAM,CAAC,IAAI,CAAC;MAAE,CAAC,CAAC,OAAOC,CAAC,EAAE,CAAC;IACrC,CAAC,CAAC;IACFrB,UAAU,CAACgB,OAAO,GAAG,EAAE;IAEvB,IAAIf,aAAa,CAACe,OAAO,EAAE;MACzB,IAAI;QAAEf,aAAa,CAACe,OAAO,CAACM,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOD,CAAC,EAAE,CAAC;IACpD,CAAC,MAAM;MACLpB,aAAa,CAACe,OAAO,GAAG,IAAI3B,MAAM,CAACC,MAAM,CAACC,IAAI,CAACgC,UAAU,CAAC,CAAC;IAC7D;;IAEA;IACA,MAAMC,SAAS,GAAGA,CAAC;MAAEC,QAAQ;MAAEC,KAAK;MAAE7C,KAAK;MAAED,KAAK;MAAE+C;IAAQ,CAAC,KAAK;MAChE,MAAMC,IAAI,GAAGjD,WAAW,CAACC,KAAK,EAAEC,KAAK,IAAI,EAAE,CAAC;MAC5C,MAAMgD,EAAE,GAAG,IAAIxC,MAAM,CAACC,MAAM,CAACC,IAAI,CAACuC,MAAM,CAAC;QACvCL,QAAQ;QACRR,GAAG;QACHS,KAAK,EAAEA,KAAK,IAAI,EAAE;QAClBE,IAAI;QACJG,MAAM,EAAElD,KAAK,KAAK,GAAG,GAAG,IAAI,GAAGmD;MACjC,CAAC,CAAC;MACF,IAAI,OAAOL,OAAO,KAAK,UAAU,EAAEE,EAAE,CAACI,WAAW,CAAC,OAAO,EAAE,MAAMN,OAAO,CAACE,EAAE,CAAC,CAAC;MAC7E7B,UAAU,CAACgB,OAAO,CAACkB,IAAI,CAACL,EAAE,CAAC;MAC3B,OAAOA,EAAE;IACX,CAAC;;IAED;IACA,MAAMM,MAAM,GAAG,IAAI9C,MAAM,CAACC,MAAM,CAACC,IAAI,CAAC6C,YAAY,CAAC,CAAC;;IAEpD;IACA,IAAI3B,UAAU,EAAE;MACde,SAAS,CAAC;QACRC,QAAQ,EAAEhB,UAAU;QACpBiB,KAAK,EAAE,KAAK;QACZ7C,KAAK,EAAE,GAAG;QACVD,KAAK,EAAE,SAAS;QAChB+C,OAAO,EAAGE,EAAE,IAAK;UACf5B,aAAa,CAACe,OAAO,CAACqB,UAAU,CAAC,2CAA2C,CAAC;UAC7EpC,aAAa,CAACe,OAAO,CAACsB,IAAI,CAAC;YAAEC,MAAM,EAAEV,EAAE;YAAEZ;UAAI,CAAC,CAAC;QACjD;MACF,CAAC,CAAC;MACFkB,MAAM,CAACK,MAAM,CAAC/B,UAAU,CAAC;IAC3B;;IAEA;IACAd,MAAM,CAACuB,OAAO,CAAC,CAACuB,CAAC,EAAEC,CAAC,KAAK;MAAA,IAAAC,WAAA,EAAAC,YAAA;MACvB,MAAMhC,GAAG,GAAGC,MAAM,CAAC4B,CAAC,aAADA,CAAC,wBAAAE,WAAA,GAADF,CAAC,CAAEI,QAAQ,cAAAF,WAAA,uBAAXA,WAAA,CAAajC,QAAQ,CAAC;MACzC,MAAMI,GAAG,GAAGD,MAAM,CAAC4B,CAAC,aAADA,CAAC,wBAAAG,YAAA,GAADH,CAAC,CAAEI,QAAQ,cAAAD,YAAA,uBAAXA,YAAA,CAAajC,SAAS,CAAC;MAC1C,IAAIE,MAAM,CAACiC,KAAK,CAAClC,GAAG,CAAC,IAAIC,MAAM,CAACiC,KAAK,CAAChC,GAAG,CAAC,EAAE;MAE5C,MAAMiC,QAAQ,GAAG;QAAEnC,GAAG;QAAEE;MAAI,CAAC;MAC7B,MAAMe,EAAE,GAAGL,SAAS,CAAC;QACnBC,QAAQ,EAAEsB,QAAQ;QAClBrB,KAAK,EAAEe,CAAC,CAACO,IAAI,IAAIP,CAAC,CAACQ,KAAK,IAAI,SAASP,CAAC,GAAG,CAAC,EAAE;QAC5C7D,KAAK,EAAEqE,MAAM,CAACR,CAAC,GAAG,CAAC,CAAC;QACpB9D,KAAK,EAAE,SAAS;QAChB+C,OAAO,EAAEA,CAAA,KAAM;UACb,MAAMwB,OAAO,GAAG;AAC1B;AACA,wBAAwBV,CAAC,CAACO,IAAI,IAAI,OAAO;AACzC,4BAA4BP,CAAC,CAACW,UAAU,IAAIX,CAAC,CAACY,SAAS,IAAI,KAAK;AAChE,8BAA8BZ,CAAC,CAACa,OAAO,IAAIb,CAAC,CAACc,OAAO,IAAI,KAAK;AAC7D,gBAAgBd,CAAC,CAACe,IAAI,GAAG,cAAcf,CAAC,CAACe,IAAI,QAAQ,GAAG,EAAE;AAC1D;AACA,WAAW;UACDvD,aAAa,CAACe,OAAO,CAACqB,UAAU,CAACc,OAAO,CAAC;UACzClD,aAAa,CAACe,OAAO,CAACsB,IAAI,CAAC;YAAEC,MAAM,EAAEV,EAAE;YAAEZ;UAAI,CAAC,CAAC;QACjD;MACF,CAAC,CAAC;MAEFkB,MAAM,CAACK,MAAM,CAACO,QAAQ,CAAC;IACzB,CAAC,CAAC;;IAEF;IACA,IAAItC,UAAU,EAAE;MACd,MAAMgD,YAAY,GAAG5C,MAAM,CAACjB,iBAAiB,CAAC,GAAG,OAAO;MACxD,MAAM8D,MAAM,GAAG,IAAIrE,MAAM,CAACC,MAAM,CAACC,IAAI,CAACoE,MAAM,CAAC;QAC3CC,aAAa,EAAE,GAAG;QAClBC,YAAY,EAAE,CAAC;QACfC,SAAS,EAAE,KAAK;QAChBC,WAAW,EAAE,IAAI;QACjBC,WAAW,EAAE,SAAS;QACtBC,SAAS,EAAE,SAAS;QACpBhD,GAAG;QACHiD,MAAM,EAAEzD,UAAU;QAClB0D,MAAM,EAAEV,YAAY;QACpB1B,MAAM,EAAE;MACV,CAAC,CAAC;MACF;MACA/B,UAAU,CAACgB,OAAO,CAACkB,IAAI,CAACwB,MAAM,CAAC;IACjC;;IAEA;IACA,IAAI;MACF,IAAI,CAACvB,MAAM,CAACiC,OAAO,CAAC,CAAC,IAAKpE,UAAU,CAACgB,OAAO,CAACqD,MAAM,GAAG,CAAE,EAAE;QACxDpD,GAAG,CAACqD,SAAS,CAACnC,MAAM,CAAC;MACvB,CAAC,MAAM,IAAI1B,UAAU,EAAE;QACrBQ,GAAG,CAACsD,SAAS,CAAC9D,UAAU,CAAC;QACzBQ,GAAG,CAACuD,OAAO,CAAC,EAAE,CAAC;MACjB,CAAC,MAAM;QACL;MAAA;IAEJ,CAAC,CAAC,OAAOC,CAAC,EAAE;MACV;MACA,IAAIhE,UAAU,EAAE;QACdQ,GAAG,CAACsD,SAAS,CAAC9D,UAAU,CAAC;QACzBQ,GAAG,CAACuD,OAAO,CAAC,EAAE,CAAC;MACjB;IACF;;IAEA;IACA,IAAI,OAAO3E,gBAAgB,KAAK,UAAU,EAAE;MAC1CA,gBAAgB,CAAC;QACf6E,OAAO,EAAEA,CAAC9D,GAAG,EAAEE,GAAG,EAAE6D,IAAI,GAAG,EAAE,KAAK;UAChC,IAAI,CAAC1D,GAAG,EAAE;UACV,IAAI;YACF,MAAM2D,GAAG,GAAG;cAAEhE,GAAG,EAAEC,MAAM,CAACD,GAAG,CAAC;cAAEE,GAAG,EAAED,MAAM,CAACC,GAAG;YAAE,CAAC;YAClDG,GAAG,CAAC4D,KAAK,CAACD,GAAG,CAAC;YACd3D,GAAG,CAACuD,OAAO,CAACG,IAAI,CAAC;YACjB;YACA,MAAMG,QAAQ,GAAG9E,UAAU,CAACgB,OAAO,CAAC+D,IAAI,CAAC5D,CAAC,IAAI;cAC5C,IAAI;gBACF,MAAM6D,CAAC,GAAG7D,CAAC,CAAC8D,WAAW,IAAI9D,CAAC,CAAC8D,WAAW,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;gBACnD,OAAOF,CAAC,IAAIA,CAAC,CAACpE,GAAG,KAAKgE,GAAG,CAAChE,GAAG,IAAIoE,CAAC,CAAClE,GAAG,KAAK8D,GAAG,CAAC9D,GAAG;cACpD,CAAC,CAAC,OAAOqE,GAAG,EAAE;gBACZ,OAAO,KAAK;cACd;YACF,CAAC,CAAC;YACF,IAAIL,QAAQ,IAAI7E,aAAa,CAACe,OAAO,IAAI8D,QAAQ,CAACM,QAAQ,EAAE;cAC1D;cACA,MAAM1D,KAAK,GAAGoD,QAAQ,CAACM,QAAQ,GAAGN,QAAQ,CAACM,QAAQ,CAAC,CAAC,GAAG,EAAE;cAC1DnF,aAAa,CAACe,OAAO,CAACqB,UAAU,CAAC,gBAAgBX,KAAK,iBAAiB,CAAC;cACxEzB,aAAa,CAACe,OAAO,CAACsB,IAAI,CAAC;gBAAEC,MAAM,EAAEuC,QAAQ;gBAAE7D;cAAI,CAAC,CAAC;YACvD;UACF,CAAC,CAAC,OAAOI,CAAC,EAAE,CAAC;QACf;MACF,CAAC,CAAC;IACJ;;IAEA;IACA,OAAO,MAAM;MACX,IAAI;QACFrB,UAAU,CAACgB,OAAO,CAACE,OAAO,CAACC,CAAC,IAAI;UAAE,IAAIA,CAAC,IAAIA,CAAC,CAACC,MAAM,EAAED,CAAC,CAACC,MAAM,CAAC,IAAI,CAAC;QAAE,CAAC,CAAC;QACvEpB,UAAU,CAACgB,OAAO,GAAG,EAAE;QACvB,IAAIf,aAAa,CAACe,OAAO,EAAE;UAAE,IAAI;YAAEf,aAAa,CAACe,OAAO,CAACM,KAAK,CAAC,CAAC;UAAE,CAAC,CAAC,OAAOD,CAAC,EAAE,CAAC;QAAE;MACnF,CAAC,CAAC,OAAOA,CAAC,EAAE,CAAC;IACf,CAAC;EACH,CAAC,EAAE,CAACf,QAAQ,EAAEG,UAAU,EAAEd,MAAM,EAAEC,iBAAiB,EAAEC,gBAAgB,CAAC,CAAC;EAEvE,IAAIU,SAAS,EAAE,oBAAOhC,OAAA;IAAK8G,SAAS,EAAC,WAAW;IAAAC,QAAA,GAAC,sBAAoB,EAACpC,MAAM,CAAC3C,SAAS,CAAC;EAAA;IAAAgF,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAC9F,IAAI,CAACpF,QAAQ,EAAE,OAAO,IAAI;EAE1B,oBACE/B,OAAA,CAACH,SAAS;IACRuH,iBAAiB,EAAEnH,cAAe;IAClC0F,MAAM,EAAEzD,UAAU,IAAI;MAAEG,GAAG,EAAE,OAAO;MAAEE,GAAG,EAAE;IAAQ,CAAE;IACrD6D,IAAI,EAAElE,UAAU,GAAG,EAAE,GAAG,EAAG;IAC3BmF,MAAM,EAAGC,WAAW,IAAK;MAAE9F,MAAM,CAACiB,OAAO,GAAG6E,WAAW;IAAE;EAAE;IAAAN,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5D,CAAC;AAEN;AAAC5F,EAAA,CA9LuBL,QAAQ;EAAA,QAWEpB,cAAc;AAAA;AAAAyH,EAAA,GAXxBrG,QAAQ;AAAA,IAAAqG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}