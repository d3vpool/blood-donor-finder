{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajya\\\\Desktop\\\\Coding\\\\WebDev\\\\Programs\\\\mini_project_LifeLink\\\\blood-donor-finder\\\\frontend\\\\src\\\\components\\\\DonorMap.jsx\",\n  _s = $RefreshSig$();\n// DonorMap.jsx — FINAL VERSION WITH DEFAULT GOOGLE MARKERS\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: \"100%\",\n  height: \"400px\"\n};\nexport default function DonorMap({\n  recipientLocation,\n  donors = [],\n  searchRadiusMiles = 25,\n  setMapController\n}) {\n  _s();\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\n  const {\n    isLoaded,\n    loadError\n  } = useJsApiLoader({\n    googleMapsApiKey: apiKey\n  });\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const infoWindowRef = useRef(null);\n  const [mapReady, setMapReady] = useState(false);\n\n  // Normalize user location\n  const normalized = (() => {\n    if (!recipientLocation) return null;\n    if (typeof recipientLocation.latitude === \"number\") return {\n      lat: recipientLocation.latitude,\n      lng: recipientLocation.longitude\n    };\n    if (typeof recipientLocation.lat === \"number\") return {\n      lat: recipientLocation.lat,\n      lng: recipientLocation.lng\n    };\n    if (recipientLocation.coords) return {\n      lat: recipientLocation.coords.latitude,\n      lng: recipientLocation.coords.longitude\n    };\n    return null;\n  })();\n  useEffect(() => {\n    console.log(\"DonorMap render — isLoaded:\", isLoaded, \"mapReady:\", mapReady, \"normalized:\", normalized, \"donors:\", donors.length);\n  });\n\n  // Main marker placement effect\n  useEffect(() => {\n    if (!isLoaded) return;\n    if (!mapReady) return;\n    if (!mapRef.current) return;\n    const map = mapRef.current;\n    console.log(\"DonorMap: Placing markers…\");\n\n    // Cleanup old markers\n    markersRef.current.forEach(m => {\n      try {\n        if (m && m.setMap) m.setMap(null);\n      } catch (_) {}\n    });\n    markersRef.current = [];\n\n    // InfoWindow setup\n    if (infoWindowRef.current) {\n      try {\n        infoWindowRef.current.close();\n      } catch (_) {}\n    } else {\n      infoWindowRef.current = new window.google.maps.InfoWindow();\n    }\n\n    // Fallback marker (debug)\n    const fallbackPos = {\n      lat: 12.9716,\n      lng: 77.5946\n    };\n    const fallback = new window.google.maps.Marker({\n      position: fallbackPos,\n      map,\n      title: \"FALLBACK\"\n    });\n    markersRef.current.push(fallback);\n    console.log(\"Fallback marker added →\", fallbackPos);\n\n    // USER MARKER — DEFAULT GOOGLE RED MARKER\n    if (normalized) {\n      const userMarker = new window.google.maps.Marker({\n        position: normalized,\n        map,\n        title: \"Your Location\",\n        icon: \"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png\"\n      });\n      markersRef.current.push(userMarker);\n      console.log(\"User marker added →\", normalized);\n      map.setCenter(normalized);\n      map.setZoom(13);\n    }\n\n    // DONOR MARKERS — DEFAULT GOOGLE RED PIN\n    (Array.isArray(donors) ? donors : []).forEach((d, i) => {\n      var _d$location$latitude, _d$location, _d$location2, _d$location$longitude, _d$location3, _d$location4;\n      const lat = Number((_d$location$latitude = d === null || d === void 0 ? void 0 : (_d$location = d.location) === null || _d$location === void 0 ? void 0 : _d$location.latitude) !== null && _d$location$latitude !== void 0 ? _d$location$latitude : d === null || d === void 0 ? void 0 : (_d$location2 = d.location) === null || _d$location2 === void 0 ? void 0 : _d$location2.lat);\n      const lng = Number((_d$location$longitude = d === null || d === void 0 ? void 0 : (_d$location3 = d.location) === null || _d$location3 === void 0 ? void 0 : _d$location3.longitude) !== null && _d$location$longitude !== void 0 ? _d$location$longitude : d === null || d === void 0 ? void 0 : (_d$location4 = d.location) === null || _d$location4 === void 0 ? void 0 : _d$location4.lng);\n      if (Number.isNaN(lat) || Number.isNaN(lng)) {\n        console.log(\"Skipping invalid donor coords:\", d);\n        return;\n      }\n      const pos = {\n        lat,\n        lng\n      };\n      const mk = new window.google.maps.Marker({\n        position: pos,\n        map,\n        title: d.name || d.email || `Donor ${i + 1}` // default red pin\n      });\n      mk.addListener(\"click\", () => {\n        const content = `\n          <div style=\"min-width:200px\">\n            <strong>${d.name || \"Donor\"}</strong>\n            <div>Blood: ${d.bloodGroup || d.bloodType || \"N/A\"}</div>\n            <div>Contact: ${d.contact || d.phoneNo || \"N/A\"}</div>\n            ${d.city ? `<div>City: ${d.city}</div>` : \"\"}\n          </div>\n        `;\n        infoWindowRef.current.setContent(content);\n        infoWindowRef.current.open({\n          anchor: mk,\n          map\n        });\n      });\n      markersRef.current.push(mk);\n      console.log(\"Donor marker added:\", pos);\n    });\n\n    // Debug: final state\n    setTimeout(() => {\n      try {\n        console.log(\"Map center:\", map.getCenter().toJSON(), \"zoom:\", map.getZoom());\n      } catch (_) {}\n    }, 200);\n  }, [isLoaded, mapReady, normalized, donors, searchRadiusMiles]);\n\n  // Expose controller to App.js\n  useEffect(() => {\n    if (!isLoaded || !mapReady || !mapRef.current) {\n      if (typeof setMapController === \"function\") setMapController(null);\n      return;\n    }\n    if (typeof setMapController === \"function\") {\n      const controller = {\n        focusOn: (lat, lng, zoom = 15) => {\n          try {\n            const map = mapRef.current;\n            if (!map) return;\n            const pos = {\n              lat: Number(lat),\n              lng: Number(lng)\n            };\n            map.panTo(pos);\n            map.setZoom(zoom);\n            const matching = markersRef.current.find(m => {\n              try {\n                var _m$getPosition;\n                const p = (_m$getPosition = m.getPosition()) === null || _m$getPosition === void 0 ? void 0 : _m$getPosition.toJSON();\n                return p && p.lat === pos.lat && p.lng === pos.lng;\n              } catch (_) {\n                return false;\n              }\n            });\n            if (matching && infoWindowRef.current) {\n              infoWindowRef.current.setContent(`<div><strong>${matching.getTitle()}</strong></div>`);\n              infoWindowRef.current.open({\n                anchor: matching,\n                map\n              });\n            }\n          } catch (e) {\n            console.warn(\"controller.focusOn error:\", e);\n          }\n        }\n      };\n      setMapController(controller);\n    }\n    return () => {\n      if (typeof setMapController === \"function\") setMapController(null);\n    };\n  }, [isLoaded, mapReady, setMapController]);\n  if (loadError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Map failed to load: \", String(loadError)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isLoaded) return null;\n  return /*#__PURE__*/_jsxDEV(GoogleMap, {\n    mapContainerStyle: containerStyle,\n    center: normalized || {\n      lat: 12.9716,\n      lng: 77.5946\n    },\n    zoom: normalized ? 13 : 11,\n    onLoad: map => {\n      mapRef.current = map;\n      console.log(\"GoogleMap onLoad → mapRef set\");\n      setMapReady(true);\n    },\n    onUnmount: () => {\n      mapRef.current = null;\n      setMapReady(false);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n}\n_s(DonorMap, \"c5lBCDUL8Xs5qM4V8zVoV94Qqyc=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = DonorMap;\nvar _c;\n$RefreshReg$(_c, \"DonorMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","GoogleMap","useJsApiLoader","jsxDEV","_jsxDEV","containerStyle","width","height","DonorMap","recipientLocation","donors","searchRadiusMiles","setMapController","_s","apiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","isLoaded","loadError","googleMapsApiKey","mapRef","markersRef","infoWindowRef","mapReady","setMapReady","normalized","latitude","lat","lng","longitude","coords","console","log","length","current","map","forEach","m","setMap","_","close","window","google","maps","InfoWindow","fallbackPos","fallback","Marker","position","title","push","userMarker","icon","setCenter","setZoom","Array","isArray","d","i","_d$location$latitude","_d$location","_d$location2","_d$location$longitude","_d$location3","_d$location4","Number","location","isNaN","pos","mk","name","email","addListener","content","bloodGroup","bloodType","contact","phoneNo","city","setContent","open","anchor","setTimeout","getCenter","toJSON","getZoom","controller","focusOn","zoom","panTo","matching","find","_m$getPosition","p","getPosition","getTitle","e","warn","children","String","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","center","onLoad","onUnmount","_c","$RefreshReg$"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/DonorMap.jsx"],"sourcesContent":["// DonorMap.jsx — FINAL VERSION WITH DEFAULT GOOGLE MARKERS\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { GoogleMap, useJsApiLoader } from \"@react-google-maps/api\";\r\n\r\nconst containerStyle = { width: \"100%\", height: \"400px\" };\r\n\r\nexport default function DonorMap({\r\n  recipientLocation,\r\n  donors = [],\r\n  searchRadiusMiles = 25,\r\n  setMapController\r\n}) {\r\n  const apiKey = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\n  const { isLoaded, loadError } = useJsApiLoader({ googleMapsApiKey: apiKey });\r\n\r\n  const mapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const infoWindowRef = useRef(null);\r\n\r\n  const [mapReady, setMapReady] = useState(false);\r\n\r\n  // Normalize user location\r\n  const normalized = (() => {\r\n    if (!recipientLocation) return null;\r\n\r\n    if (typeof recipientLocation.latitude === \"number\")\r\n      return { lat: recipientLocation.latitude, lng: recipientLocation.longitude };\r\n\r\n    if (typeof recipientLocation.lat === \"number\")\r\n      return { lat: recipientLocation.lat, lng: recipientLocation.lng };\r\n\r\n    if (recipientLocation.coords)\r\n      return {\r\n        lat: recipientLocation.coords.latitude,\r\n        lng: recipientLocation.coords.longitude\r\n      };\r\n\r\n    return null;\r\n  })();\r\n\r\n  useEffect(() => {\r\n    console.log(\r\n      \"DonorMap render — isLoaded:\",\r\n      isLoaded,\r\n      \"mapReady:\",\r\n      mapReady,\r\n      \"normalized:\",\r\n      normalized,\r\n      \"donors:\",\r\n      donors.length\r\n    );\r\n  });\r\n\r\n  // Main marker placement effect\r\n  useEffect(() => {\r\n    if (!isLoaded) return;\r\n    if (!mapReady) return;\r\n    if (!mapRef.current) return;\r\n\r\n    const map = mapRef.current;\r\n    console.log(\"DonorMap: Placing markers…\");\r\n\r\n    // Cleanup old markers\r\n    markersRef.current.forEach((m) => {\r\n      try {\r\n        if (m && m.setMap) m.setMap(null);\r\n      } catch (_) {}\r\n    });\r\n    markersRef.current = [];\r\n\r\n    // InfoWindow setup\r\n    if (infoWindowRef.current) {\r\n      try {\r\n        infoWindowRef.current.close();\r\n      } catch (_) {}\r\n    } else {\r\n      infoWindowRef.current = new window.google.maps.InfoWindow();\r\n    }\r\n\r\n    // Fallback marker (debug)\r\n    const fallbackPos = { lat: 12.9716, lng: 77.5946 };\r\n    const fallback = new window.google.maps.Marker({\r\n      position: fallbackPos,\r\n      map,\r\n      title: \"FALLBACK\"\r\n    });\r\n    markersRef.current.push(fallback);\r\n    console.log(\"Fallback marker added →\", fallbackPos);\r\n\r\n    // USER MARKER — DEFAULT GOOGLE RED MARKER\r\n    if (normalized) {\r\n      const userMarker = new window.google.maps.Marker({\r\n      position: normalized,\r\n      map,\r\n      title: \"Your Location\",\r\n      icon: \"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png\"\r\n    });\r\n\r\n\r\n      markersRef.current.push(userMarker);\r\n      console.log(\"User marker added →\", normalized);\r\n\r\n      map.setCenter(normalized);\r\n      map.setZoom(13);\r\n    }\r\n\r\n    // DONOR MARKERS — DEFAULT GOOGLE RED PIN\r\n    (Array.isArray(donors) ? donors : []).forEach((d, i) => {\r\n      const lat = Number(d?.location?.latitude ?? d?.location?.lat);\r\n      const lng = Number(d?.location?.longitude ?? d?.location?.lng);\r\n\r\n      if (Number.isNaN(lat) || Number.isNaN(lng)) {\r\n        console.log(\"Skipping invalid donor coords:\", d);\r\n        return;\r\n      }\r\n\r\n      const pos = { lat, lng };\r\n\r\n      const mk = new window.google.maps.Marker({\r\n        position: pos,\r\n        map,\r\n        title: d.name || d.email || `Donor ${i + 1}` // default red pin\r\n      });\r\n\r\n      mk.addListener(\"click\", () => {\r\n        const content = `\r\n          <div style=\"min-width:200px\">\r\n            <strong>${d.name || \"Donor\"}</strong>\r\n            <div>Blood: ${d.bloodGroup || d.bloodType || \"N/A\"}</div>\r\n            <div>Contact: ${d.contact || d.phoneNo || \"N/A\"}</div>\r\n            ${d.city ? `<div>City: ${d.city}</div>` : \"\"}\r\n          </div>\r\n        `;\r\n\r\n        infoWindowRef.current.setContent(content);\r\n        infoWindowRef.current.open({ anchor: mk, map });\r\n      });\r\n\r\n      markersRef.current.push(mk);\r\n      console.log(\"Donor marker added:\", pos);\r\n    });\r\n\r\n    // Debug: final state\r\n    setTimeout(() => {\r\n      try {\r\n        console.log(\"Map center:\", map.getCenter().toJSON(), \"zoom:\", map.getZoom());\r\n      } catch (_) {}\r\n    }, 200);\r\n  }, [isLoaded, mapReady, normalized, donors, searchRadiusMiles]);\r\n\r\n  // Expose controller to App.js\r\n  useEffect(() => {\r\n    if (!isLoaded || !mapReady || !mapRef.current) {\r\n      if (typeof setMapController === \"function\") setMapController(null);\r\n      return;\r\n    }\r\n\r\n    if (typeof setMapController === \"function\") {\r\n      const controller = {\r\n        focusOn: (lat, lng, zoom = 15) => {\r\n          try {\r\n            const map = mapRef.current;\r\n            if (!map) return;\r\n\r\n            const pos = { lat: Number(lat), lng: Number(lng) };\r\n            map.panTo(pos);\r\n            map.setZoom(zoom);\r\n\r\n            const matching = markersRef.current.find((m) => {\r\n              try {\r\n                const p = m.getPosition()?.toJSON();\r\n                return p && p.lat === pos.lat && p.lng === pos.lng;\r\n              } catch (_) {\r\n                return false;\r\n              }\r\n            });\r\n\r\n            if (matching && infoWindowRef.current) {\r\n              infoWindowRef.current.setContent(\r\n                `<div><strong>${matching.getTitle()}</strong></div>`\r\n              );\r\n              infoWindowRef.current.open({ anchor: matching, map });\r\n            }\r\n          } catch (e) {\r\n            console.warn(\"controller.focusOn error:\", e);\r\n          }\r\n        }\r\n      };\r\n\r\n      setMapController(controller);\r\n    }\r\n\r\n    return () => {\r\n      if (typeof setMapController === \"function\") setMapController(null);\r\n    };\r\n  }, [isLoaded, mapReady, setMapController]);\r\n\r\n  if (loadError) {\r\n    return <div>Map failed to load: {String(loadError)}</div>;\r\n  }\r\n\r\n  if (!isLoaded) return null;\r\n\r\n  return (\r\n    <GoogleMap\r\n      mapContainerStyle={containerStyle}\r\n      center={normalized || { lat: 12.9716, lng: 77.5946 }}\r\n      zoom={normalized ? 13 : 11}\r\n      onLoad={(map) => {\r\n        mapRef.current = map;\r\n        console.log(\"GoogleMap onLoad → mapRef set\");\r\n        setMapReady(true);\r\n      }}\r\n      onUnmount={() => {\r\n        mapRef.current = null;\r\n        setMapReady(false);\r\n      }}\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}