{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajya\\\\Desktop\\\\Coding\\\\WebDev\\\\Programs\\\\mini_project_LifeLink\\\\blood-donor-finder\\\\frontend\\\\src\\\\components\\\\ContactModal.jsx\",\n  _s = $RefreshSig$();\n// src/components/ContactModal.jsx\nimport React, { useState, useEffect } from \"react\";\nimport \"./ContactModal.css\";\nimport { init, send } from \"@emailjs/browser\";\nimport { auth } from \"../firebase\"; // ensure this path matches your firebase export\n\n/**\r\n * ContactModal\r\n * Props:\r\n *  - user: donor object\r\n *  - recipient: optional object { name, email, bloodType, message } (you can also rely on auth.currentUser)\r\n *  - onClose: close callback\r\n *\r\n * Requires in .env (frontend):\r\n *  REACT_APP_EMAILJS_PUBLIC_KEY\r\n *  REACT_APP_EMAILJS_SERVICE_ID\r\n *  REACT_APP_EMAILJS_TEMPLATE_ID\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ContactModal({\n  user,\n  recipient = {},\n  onClose\n}) {\n  _s();\n  var _user$location;\n  const [sending, setSending] = useState(false);\n  const [sent, setSent] = useState(false);\n  const [error, setError] = useState(null);\n  const [recipientMessage, setRecipientMessage] = useState(\"\");\n  useEffect(() => {\n    const pub = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\n    if (pub) init(pub);\n  }, []);\n  if (!user) return null;\n  const escapeHtml = str => {\n    if (str === null || str === undefined) return \"\";\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n  };\n\n  // Donor fields (defensive)\n  const name = user.fullname || user.name || user.displayName || user.full_name || \"Donor\";\n  const donorEmail = user.email || user.mail || \"\";\n  const phone = user.phoneNo || user.contact || user.phone || \"\";\n  const bloodGroup = user.bloodType || user.bloodGroup || user.blood || \"Unknown\";\n  const address = user.address || user.city || ((_user$location = user.location) === null || _user$location === void 0 ? void 0 : _user$location.address) || \"\";\n  let locationText = address;\n  if (!locationText) {\n    var _user$location$latitu, _user$location2, _user$location3, _user$location$longit, _user$location4, _user$location5;\n    const lat = (_user$location$latitu = (_user$location2 = user.location) === null || _user$location2 === void 0 ? void 0 : _user$location2.latitude) !== null && _user$location$latitu !== void 0 ? _user$location$latitu : (_user$location3 = user.location) === null || _user$location3 === void 0 ? void 0 : _user$location3.lat;\n    const lng = (_user$location$longit = (_user$location4 = user.location) === null || _user$location4 === void 0 ? void 0 : _user$location4.longitude) !== null && _user$location$longit !== void 0 ? _user$location$longit : (_user$location5 = user.location) === null || _user$location5 === void 0 ? void 0 : _user$location5.lng;\n    if (Number.isFinite(Number(lat)) && Number.isFinite(Number(lng))) {\n      locationText = `${Number(lat).toFixed(6)}, ${Number(lng).toFixed(6)}`;\n    } else {\n      locationText = \"Not provided\";\n    }\n  }\n\n  // Recipient info: prefer explicit prop, else use logged-in user\n  const currentUser = (auth === null || auth === void 0 ? void 0 : auth.currentUser) || null;\n  const recipientName = recipient.name || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.displayName) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullname) || \"Recipient\";\n  const recipientEmail = recipient.email || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || \"\";\n\n  // Accept / reject links (point to your hosted endpoint or a simple mailto / UI path)\n  const origin = window.location.origin;\n  const acceptLink = `${origin}/email-response?action=accept&donor=${encodeURIComponent(donorEmail)}&recipient=${encodeURIComponent(recipientEmail)}`;\n  const rejectLink = `${origin}/email-response?action=reject&donor=${encodeURIComponent(donorEmail)}&recipient=${encodeURIComponent(recipientEmail)}`;\n  async function handleRequest() {\n    setSending(true);\n    setError(null);\n    setSent(false);\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\n    if (!serviceId || !templateId) {\n      setError(\"EmailJS service/template not configured in .env\");\n      setSending(false);\n      return;\n    }\n    if (!donorEmail) {\n      setError(\"Donor has no email on record.\");\n      setSending(false);\n      return;\n    }\n\n    // Build template params: these must match the variable names you set in the EmailJS template\n    const templateParams = {\n      // visible variables in HTML template\n      name: recipientName,\n      // the person requesting blood\n      message: recipientMessage || recipient.message || `Requesting ${bloodGroup} blood — please respond if available.`,\n      bloodtype: recipient.bloodType || recipient.blood || bloodGroup,\n      accept_link: acceptLink,\n      reject_link: rejectLink,\n      // hidden / non-displayed variables (still available in template engine, and for EmailJS)\n      donor_email: donorEmail,\n      recipient_email: recipientEmail\n    };\n    try {\n      await send(serviceId, templateId, templateParams);\n      setSent(true);\n      console.log(\"EmailJS: request sent\", templateParams);\n    } catch (err) {\n      console.error(\"EmailJS send error:\", err);\n      // EmailJS returns an object in many cases; extract meaningful message\n      const msg = err && (err.text || err.message) || JSON.stringify(err);\n      setError(msg);\n    } finally {\n      setSending(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"contactModal\",\n    className: \"modal\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Contact Donor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-close\",\n          onClick: onClose,\n          \"aria-label\": \"Close contact modal\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 14\n          }, this), \" \", escapeHtml(name)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Blood Group:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 14\n          }, this), \" \", escapeHtml(bloodGroup)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 14\n          }, this), \" \", escapeHtml(locationText)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), \" \", phone ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `tel:${escapeHtml(phone)}`,\n            children: escapeHtml(phone)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 22\n          }, this) : \"Not provided\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), \" \", donorEmail ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `mailto:${escapeHtml(donorEmail)}`,\n            children: escapeHtml(donorEmail)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 27\n          }, this) : \"Not provided\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"recipientMessage\",\n            children: \"Your Details (Address + Phone)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"recipientMessage\",\n            placeholder: \"ADDRESS AND PHONE NUMBER\",\n            value: recipientMessage,\n            onChange: e => setRecipientMessage(e.target.value),\n            className: \"contact-textarea\",\n            rows: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"contact-note\",\n          children: \"Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          role: \"alert\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), sent && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-message\",\n          role: \"status\",\n          children: \"Request email sent to donor.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"request-button\",\n          disabled: sending || sent,\n          onClick: handleRequest,\n          children: sending ? \"Sending...\" : sent ? \"Sent\" : \"Request Blood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"contact-button\",\n          onClick: onClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n_s(ContactModal, \"LJ6z2xhyAXh93uX8ZLpQNMUqnDM=\");\n_c = ContactModal;\nvar _c;\n$RefreshReg$(_c, \"ContactModal\");","map":{"version":3,"names":["React","useState","useEffect","init","send","auth","jsxDEV","_jsxDEV","ContactModal","user","recipient","onClose","_s","_user$location","sending","setSending","sent","setSent","error","setError","recipientMessage","setRecipientMessage","pub","process","env","REACT_APP_EMAILJS_PUBLIC_KEY","escapeHtml","str","undefined","String","replace","name","fullname","displayName","full_name","donorEmail","email","mail","phone","phoneNo","contact","bloodGroup","bloodType","blood","address","city","location","locationText","_user$location$latitu","_user$location2","_user$location3","_user$location$longit","_user$location4","_user$location5","lat","latitude","lng","longitude","Number","isFinite","toFixed","currentUser","recipientName","recipientEmail","origin","window","acceptLink","encodeURIComponent","rejectLink","handleRequest","serviceId","REACT_APP_EMAILJS_SERVICE_ID","templateId","REACT_APP_EMAILJS_TEMPLATE_ID","templateParams","message","bloodtype","accept_link","reject_link","donor_email","recipient_email","console","log","err","msg","text","JSON","stringify","id","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","href","htmlFor","placeholder","value","onChange","e","target","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/components/ContactModal.jsx"],"sourcesContent":["// src/components/ContactModal.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"./ContactModal.css\";\r\nimport { init, send } from \"@emailjs/browser\";\r\nimport { auth } from \"../firebase\"; // ensure this path matches your firebase export\r\n\r\n/**\r\n * ContactModal\r\n * Props:\r\n *  - user: donor object\r\n *  - recipient: optional object { name, email, bloodType, message } (you can also rely on auth.currentUser)\r\n *  - onClose: close callback\r\n *\r\n * Requires in .env (frontend):\r\n *  REACT_APP_EMAILJS_PUBLIC_KEY\r\n *  REACT_APP_EMAILJS_SERVICE_ID\r\n *  REACT_APP_EMAILJS_TEMPLATE_ID\r\n */\r\nexport default function ContactModal({ user, recipient = {}, onClose }) {\r\n  const [sending, setSending] = useState(false);\r\n  const [sent, setSent] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [recipientMessage, setRecipientMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const pub = process.env.REACT_APP_EMAILJS_PUBLIC_KEY;\r\n    if (pub) init(pub);\r\n  }, []);\r\n\r\n  if (!user) return null;\r\n\r\n  const escapeHtml = (str) => {\r\n    if (str === null || str === undefined) return \"\";\r\n    return String(str)\r\n      .replace(/&/g, \"&amp;\")\r\n      .replace(/</g, \"&lt;\")\r\n      .replace(/>/g, \"&gt;\")\r\n      .replace(/\"/g, \"&quot;\")\r\n      .replace(/'/g, \"&#039;\");\r\n  };\r\n\r\n  // Donor fields (defensive)\r\n  const name = user.fullname || user.name || user.displayName || user.full_name || \"Donor\";\r\n  const donorEmail = user.email || user.mail || \"\";\r\n  const phone = user.phoneNo || user.contact || user.phone || \"\";\r\n  const bloodGroup = user.bloodType || user.bloodGroup || user.blood || \"Unknown\";\r\n  const address = user.address || user.city || user.location?.address || \"\";\r\n  let locationText = address;\r\n  if (!locationText) {\r\n    const lat = user.location?.latitude ?? user.location?.lat;\r\n    const lng = user.location?.longitude ?? user.location?.lng;\r\n    if (Number.isFinite(Number(lat)) && Number.isFinite(Number(lng))) {\r\n      locationText = `${Number(lat).toFixed(6)}, ${Number(lng).toFixed(6)}`;\r\n    } else {\r\n      locationText = \"Not provided\";\r\n    }\r\n  }\r\n\r\n  // Recipient info: prefer explicit prop, else use logged-in user\r\n  const currentUser = auth?.currentUser || null;\r\n  const recipientName = recipient.name || currentUser?.displayName || currentUser?.fullname || \"Recipient\";\r\n  const recipientEmail = recipient.email || currentUser?.email || \"\";\r\n\r\n  // Accept / reject links (point to your hosted endpoint or a simple mailto / UI path)\r\n  const origin = window.location.origin;\r\n  const acceptLink = `${origin}/email-response?action=accept&donor=${encodeURIComponent(donorEmail)}&recipient=${encodeURIComponent(recipientEmail)}`;\r\n  const rejectLink = `${origin}/email-response?action=reject&donor=${encodeURIComponent(donorEmail)}&recipient=${encodeURIComponent(recipientEmail)}`;\r\n\r\n  async function handleRequest() {\r\n    setSending(true);\r\n    setError(null);\r\n    setSent(false);\r\n\r\n    const serviceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\r\n    const templateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\r\n\r\n    if (!serviceId || !templateId) {\r\n      setError(\"EmailJS service/template not configured in .env\");\r\n      setSending(false);\r\n      return;\r\n    }\r\n\r\n    if (!donorEmail) {\r\n      setError(\"Donor has no email on record.\");\r\n      setSending(false);\r\n      return;\r\n    }\r\n\r\n    // Build template params: these must match the variable names you set in the EmailJS template\r\n    const templateParams = {\r\n      // visible variables in HTML template\r\n      name: recipientName, // the person requesting blood\r\n      message: recipientMessage || recipient.message || `Requesting ${bloodGroup} blood — please respond if available.`,\r\n      bloodtype: recipient.bloodType || recipient.blood || bloodGroup,\r\n      accept_link: acceptLink,\r\n      reject_link: rejectLink,\r\n\r\n      // hidden / non-displayed variables (still available in template engine, and for EmailJS)\r\n      donor_email: donorEmail,\r\n      recipient_email: recipientEmail,\r\n    };\r\n\r\n    try {\r\n      await send(serviceId, templateId, templateParams);\r\n      setSent(true);\r\n      console.log(\"EmailJS: request sent\", templateParams);\r\n    } catch (err) {\r\n      console.error(\"EmailJS send error:\", err);\r\n      // EmailJS returns an object in many cases; extract meaningful message\r\n      const msg = (err && (err.text || err.message)) || JSON.stringify(err);\r\n      setError(msg);\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"contactModal\" className=\"modal\" role=\"dialog\" aria-modal=\"true\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h3>Contact Donor</h3>\r\n          <button\r\n            className=\"modal-close\"\r\n            onClick={onClose}\r\n            aria-label=\"Close contact modal\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          <p><strong>Name:</strong> {escapeHtml(name)}</p>\r\n          <p><strong>Blood Group:</strong> {escapeHtml(bloodGroup)}</p>\r\n          <p><strong>Location:</strong> {escapeHtml(locationText)}</p>\r\n\r\n          <p>\r\n            <strong>Phone:</strong>{\" \"}\r\n            {phone ? <a href={`tel:${escapeHtml(phone)}`}>{escapeHtml(phone)}</a> : \"Not provided\"}\r\n          </p>\r\n\r\n          <p>\r\n            <strong>Email:</strong>{\" \"}\r\n            {donorEmail ? <a href={`mailto:${escapeHtml(donorEmail)}`}>{escapeHtml(donorEmail)}</a> : \"Not provided\"}\r\n          </p>\r\n\r\n          <div className=\"input-block\">\r\n            <label htmlFor=\"recipientMessage\">\r\n              Your Details (Address + Phone)\r\n            </label>\r\n            <textarea\r\n              id=\"recipientMessage\"\r\n              placeholder=\"ADDRESS AND PHONE NUMBER\"\r\n              value={recipientMessage}\r\n              onChange={(e) => setRecipientMessage(e.target.value)}\r\n              className=\"contact-textarea\"\r\n              rows={4}\r\n            />\r\n          </div>\r\n\r\n          <p className=\"contact-note\">\r\n            Please be respectful when contacting donors. Explain your situation clearly and provide your contact information.\r\n          </p>\r\n\r\n          {error && <div className=\"error-message\" role=\"alert\">{error}</div>}\r\n          {sent && <div className=\"success-message\" role=\"status\">Request email sent to donor.</div>}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            className=\"request-button\"\r\n            disabled={sending || sent}\r\n            onClick={handleRequest}\r\n          >\r\n            {sending ? \"Sending...\" : sent ? \"Sent\" : \"Request Blood\"}\r\n          </button>\r\n\r\n          <button className=\"contact-button\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}