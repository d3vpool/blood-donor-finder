{"ast":null,"code":"// src/App.js\nimport React,{useState,useCallback,useRef,useEffect}from\"react\";import{setupAutoRegistration,initMessaging}from\"./firebaseMessaging\";import{ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Header from\"./components/Header\";import Hero from\"./components/Hero\";import Search from\"./components/Search\";import SearchResult from\"./components/SearchResult\";import Register from\"./components/Register\";import About from\"./components/About\";import Footer from\"./components/Footer\";import ContactModal from\"./components/ContactModal\";import DonorMap from\"./components/DonorMap\";import Signup from\"./components/SignUp\";// added\nimport\"./styles/global.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[isLoginModalOpen,setIsLoginModalOpen]=useState(false);// signup modal state + helpers\nconst[isSignupOpen,setIsSignupOpen]=useState(false);const openSignup=()=>setIsSignupOpen(true);const closeSignup=()=>setIsSignupOpen(false);const[searchResults,setSearchResults]=useState([]);const[recipientLocation,setRecipientLocation]=useState(null);const[userHasSearched,setUserHasSearched]=useState(false);const[mapController,setMapControllerState]=useState(null);const pendingFocusRef=useRef([]);useEffect(()=>{initMessaging();setupAutoRegistration();},[]);const handleSetMapController=useCallback(controller=>{setMapControllerState(controller);if(controller&&pendingFocusRef.current.length>0){pendingFocusRef.current.forEach(_ref=>{let{lat,lng,zoom}=_ref;try{controller.focusOn(lat,lng,zoom);}catch(_){}});pendingFocusRef.current=[];}},[]);const focusOn=useCallback(function(lat,lng){let zoom=arguments.length>2&&arguments[2]!==undefined?arguments[2]:15;if(mapController&&typeof mapController.focusOn===\"function\"){mapController.focusOn(lat,lng,zoom);}else{pendingFocusRef.current.push({lat,lng,zoom});}},[mapController]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{isLoginModalOpen:isLoginModalOpen,setIsLoginModalOpen:setIsLoginModalOpen// optionally expose signup opener to Header if you want:\n,openSignup:openSignup}),/*#__PURE__*/_jsx(Hero,{}),/*#__PURE__*/_jsx(Search,{setResults:setSearchResults,setRecipientLocation:setRecipientLocation,setUserHasSearched:setUserHasSearched}),recipientLocation&&/*#__PURE__*/_jsx(DonorMap,{recipientLocation:recipientLocation,donors:searchResults,setMapController:handleSetMapController}),userHasSearched&&/*#__PURE__*/_jsx(SearchResult,{results:searchResults,focusOn:focusOn}),/*#__PURE__*/_jsx(Register,{setIsLoginModalOpen:setIsLoginModalOpen}),/*#__PURE__*/_jsx(About,{}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(ContactModal,{})]}),isSignupOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeSignup,children:\"\\xD7\"}),/*#__PURE__*/_jsx(Signup,{onOpenLogin:()=>{// user clicked \"Login\" inside Signup: close signup modal and open login modal\ncloseSignup();setIsLoginModalOpen(true);},onClose:closeSignup})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useCallback","useRef","useEffect","setupAutoRegistration","initMessaging","ToastContainer","Header","Hero","Search","SearchResult","Register","About","Footer","ContactModal","DonorMap","Signup","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","isLoginModalOpen","setIsLoginModalOpen","isSignupOpen","setIsSignupOpen","openSignup","closeSignup","searchResults","setSearchResults","recipientLocation","setRecipientLocation","userHasSearched","setUserHasSearched","mapController","setMapControllerState","pendingFocusRef","handleSetMapController","controller","current","length","forEach","_ref","lat","lng","zoom","focusOn","_","arguments","undefined","push","children","setResults","donors","setMapController","results","className","onClick","onOpenLogin","onClose"],"sources":["C:/Users/rajya/Desktop/Coding/WebDev/Programs/mini_project_LifeLink/blood-donor-finder/frontend/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useCallback, useRef, useEffect } from \"react\";\nimport { setupAutoRegistration, initMessaging } from \"./firebaseMessaging\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Header from \"./components/Header\";\nimport Hero from \"./components/Hero\";\nimport Search from \"./components/Search\";\nimport SearchResult from \"./components/SearchResult\";\nimport Register from \"./components/Register\";\nimport About from \"./components/About\";\nimport Footer from \"./components/Footer\";\nimport ContactModal from \"./components/ContactModal\";\nimport DonorMap from \"./components/DonorMap\";\nimport Signup from \"./components/SignUp\"; // added\n\nimport \"./styles/global.css\";\n\nfunction App() {\n  const [isLoginModalOpen, setIsLoginModalOpen] = useState(false);\n\n  // signup modal state + helpers\n  const [isSignupOpen, setIsSignupOpen] = useState(false);\n  const openSignup = () => setIsSignupOpen(true);\n  const closeSignup = () => setIsSignupOpen(false);\n\n  const [searchResults, setSearchResults] = useState([]);\n  const [recipientLocation, setRecipientLocation] = useState(null);\n\n  const [userHasSearched, setUserHasSearched] = useState(false);\n\n  const [mapController, setMapControllerState] = useState(null);\n  const pendingFocusRef = useRef([]);\n\n  useEffect(() => {\n    initMessaging();\n    setupAutoRegistration();\n  }, []);\n\n  const handleSetMapController = useCallback((controller) => {\n    setMapControllerState(controller);\n\n    if (controller && pendingFocusRef.current.length > 0) {\n      pendingFocusRef.current.forEach(({ lat, lng, zoom }) => {\n        try {\n          controller.focusOn(lat, lng, zoom);\n        } catch (_) {}\n      });\n      pendingFocusRef.current = [];\n    }\n  }, []);\n\n  const focusOn = useCallback(\n    (lat, lng, zoom = 15) => {\n      if (mapController && typeof mapController.focusOn === \"function\") {\n        mapController.focusOn(lat, lng, zoom);\n      } else {\n        pendingFocusRef.current.push({ lat, lng, zoom });\n      }\n    },\n    [mapController]\n  );\n\n  return (\n    <>\n      <div>\n        <Header\n          isLoginModalOpen={isLoginModalOpen}\n          setIsLoginModalOpen={setIsLoginModalOpen}\n          // optionally expose signup opener to Header if you want:\n          openSignup={openSignup}\n        />\n\n        <Hero />\n\n        <Search\n          setResults={setSearchResults}\n          setRecipientLocation={setRecipientLocation}\n          setUserHasSearched={setUserHasSearched}\n        />\n\n        {recipientLocation && (\n          <DonorMap\n            recipientLocation={recipientLocation}\n            donors={searchResults}\n            setMapController={handleSetMapController}\n          />\n        )}\n\n        {userHasSearched && <SearchResult results={searchResults} focusOn={focusOn} />}\n\n        <Register setIsLoginModalOpen={setIsLoginModalOpen} />\n        <About />\n        <Footer />\n        <ContactModal />\n      </div>\n\n      {/* Signup modal wrapper â€” parent provides onClose so Signup can close itself */}\n      {isSignupOpen && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <button className=\"modal-close\" onClick={closeSignup}>\n              &times;\n            </button>\n\n            <Signup\n              onOpenLogin={() => {\n                // user clicked \"Login\" inside Signup: close signup modal and open login modal\n                closeSignup();\n                setIsLoginModalOpen(true);\n              }}\n              onClose={closeSignup}\n            />\n          </div>\n        </div>\n      )}\n\n      <ToastContainer />\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}