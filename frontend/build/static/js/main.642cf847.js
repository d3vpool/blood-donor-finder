/*! For license information please see main.642cf847.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+x(l,0):o,E(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),L(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var u=o+x(a=e[c],c);l+=L(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=L(a=a.value,t,i,u=o+x(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return L(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},A={transition:null},M={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,A(_);else{var t=r(u);null!==t&&M(E,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!L());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&M(E,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,C=null,T=-1,I=5,x=-1;function L(){return!(t.unstable_now()-x<I)}function P(){if(null!==C){var e=t.unstable_now();x=e;var n=!0;try{n=C(!0,e)}finally{n?k():(S=!1,C=null)}}else S=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=P,k=function(){N.postMessage(null)}}else k=function(){v(P,0)};function A(e){C=e,S||(S=!0,k())}function M(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(T),T=-1):m=!0,M(E,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,A(_))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,j=Object.assign;function U(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case C:return"Profiler";case S:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Ce(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),_e(e.stateNode,e.type,t))}}function Te(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function xe(e,t){return e(t)}function Le(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return xe(e,t,n)}finally{Pe=!1,(null!==ke||null!==Se)&&(Le(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Ae=!1}function De(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,je=null,Ue=!1,Fe=null,Ve={onError:function(e){Re=!0,je=e}};function ze(e,t,n,r,i,o,s,a,l){Re=!1,je=null,De.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,_t,kt,St,Ct,Tt=!1,It=[],xt=null,Lt=null,Pt=null,Ot=new Map,Nt=new Map,At=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Tt=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Lt&&Ut(Lt)&&(Lt=null),null!==Pt&&Ut(Pt)&&(Pt=null),Ot.forEach(Ft),Nt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Lt&&zt(Lt,e),null!==Pt&&zt(Pt,e),Ot.forEach(t),Nt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)jt(n),null===n.blockedOn&&At.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Gt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Rt(xt,e,t,n,r,i),!0;case"dragenter":return Lt=Rt(Lt,e,t,n,r,i),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Rt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Rt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=j({},cn,{view:0,detail:0}),dn=on(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},hn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Sn}var Tn=j({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Tn),xn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(On),An=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Dn,jn=u&&(!Mn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,Ee(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},kr={},Sr={};function Cr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Cr("animationend"),Ir=Cr("animationiteration"),xr=Cr("animationstart"),Lr=Cr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Mr=Or[Ar];Nr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(xr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=je;Re=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Vr(t,!1,e),Vr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe(function(){var r=o,i=Ee(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Tr:case Ir:case xr:l=vn;break;case Lr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ne(p,d))&&u.push(Wr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(qn(a))if(Jn)m=sr;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ne(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Ne(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[fi]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Ci(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ti(e,t){ki++,_i[ki]=e.current,e.current=t}var Ii={},xi=Si(Ii),Li=Si(!1),Pi=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ci(Li),Ci(xi)}function Mi(e,t,n){if(xi.current!==Ii)throw Error(o(168));Ti(xi,t),Ti(Li,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return j({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=xi.current,Ti(xi,e),Ti(Li,Li.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Li),Ci(xi),Ti(xi,e)):Ci(Li),Ti(Li,n)}var Ui=null,Fi=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge($e,Bi),i}finally{bt=t,Vi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Xi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!lo(e,t)){if(co(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&lo(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return ho(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function go(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function Eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&wo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=jc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case _:return(t=Vc(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=jc(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);bo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);bo(t,r)}return null}function g(i,o,a,l){for(var c=null,u=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),io&&Zi(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(o=s(h,o,g),null===u?c=h:u.sibling=h,u=h);return io&&Zi(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),io&&Zi(i,g),c}function m(i,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),io&&Zi(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return io&&Zi(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach(function(e){return t(i,e)}),io&&Zi(i,m),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&wo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=yo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=jc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Rc(s.type,s.key,s.props,null,r.mode,l)).ref=yo(r,o,s),l.return=r,r=l)}return a(r);case _:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vc(s,r.mode,l)).return=r,r=o}return a(r);case N:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(D(s))return m(r,o,s,l);bo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var _o=Eo(!0),ko=Eo(!1),So=Si(null),Co=null,To=null,Io=null;function xo(){Io=To=Co=null}function Lo(e){var t=So.current;Ci(So),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){Co=e,Io=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ea=!0),e.firstContext=null)}function No(e){var t=e._currentValue;if(Io!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===Co)throw Error(o(308));To=e,Co.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Ao=null;function Mo(e){null===Ao?Ao=[e]:Ao.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var jo=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;jo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:jo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ul|=s,e.lanes=s,e.memoizedState=h}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Go={},Qo=Si(Go),Yo=Si(Go),Xo=Si(Go);function Jo(e){if(e===Go)throw Error(o(174));return e}function Zo(e,t){switch(Ti(Xo,t),Ti(Yo,e),Ti(Qo,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Qo),Ti(Qo,t)}function $o(){Ci(Qo),Ci(Yo),Ci(Xo)}function es(e){Jo(Xo.current);var t=Jo(Qo.current),n=le(t,e.type);t!==n&&(Ti(Yo,e),Ti(Qo,n))}function ts(e){Yo.current===e&&(Ci(Qo),Ci(Yo))}var ns=Si(0);function rs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var is=[];function os(){for(var e=0;e<is.length;e++)is[e]._workInProgressVersionPrimary=null;is.length=0}var ss=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,ls=0,cs=null,us=null,hs=null,ds=!1,fs=!1,ps=0,gs=0;function ms(){throw Error(o(321))}function vs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ys(e,t,n,r,i,s){if(ls=s,cs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=null===e||null===e.memoizedState?ta:na,e=n(r,i),fs){s=0;do{if(fs=!1,ps=0,25<=s)throw Error(o(301));s+=1,hs=us=null,t.updateQueue=null,ss.current=ra,e=n(r,i)}while(fs)}if(ss.current=ea,t=null!==us&&null!==us.next,ls=0,hs=us=cs=null,ds=!1,t)throw Error(o(300));return e}function bs(){var e=0!==ps;return ps=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===hs?cs.memoizedState=hs=e:hs=hs.next=e,hs}function Es(){if(null===us){var e=cs.alternate;e=null!==e?e.memoizedState:null}else e=us.next;var t=null===hs?cs.memoizedState:hs.next;if(null!==t)hs=t,us=e;else{if(null===e)throw Error(o(310));e={memoizedState:(us=e).memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},null===hs?cs.memoizedState=hs=e:hs=hs.next=e}return hs}function _s(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=us,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ls&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,cs.lanes|=h,Ul|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(Ea=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,cs.lanes|=s,Ul|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(Ea=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(){}function Ts(e,t){var n=cs,r=Es(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,Ea=!0),r=r.queue,Us(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==hs&&1&hs.memoizedState.tag){if(n.flags|=2048,As(9,xs.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&ls)||Is(n,t,i)}return i}function Is(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=cs.updateQueue)?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xs(e,t,n,r){t.value=n,t.getSnapshot=r,Ps(t)&&Os(e)}function Ls(e,t,n){return n(function(){Ps(t)&&Os(e)})}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Os(e){var t=Ro(e,1);null!==t&&ic(t,e,1,-1)}function Ns(e){var t=ws();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,cs,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=cs.updateQueue)?(t={lastEffect:null,stores:null},cs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ms(){return Es().memoizedState}function Ds(e,t,n,r){var i=ws();cs.flags|=e,i.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var i=Es();r=void 0===r?null:r;var o=void 0;if(null!==us){var s=us.memoizedState;if(o=s.destroy,null!==r&&vs(r,s.deps))return void(i.memoizedState=As(t,n,o,r))}cs.flags|=e,i.memoizedState=As(1|t,n,o,r)}function js(e,t){return Ds(8390656,8,e,t)}function Us(e,t){return Rs(2048,8,e,t)}function Fs(e,t){return Rs(4,2,e,t)}function Vs(e,t){return Rs(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,zs.bind(null,t,e),n)}function Hs(){}function qs(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&vs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ks(e,t,n){return 0===(21&ls)?(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),cs.lanes|=n,Ul|=n,e.baseState=!0),t)}function Gs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=r}}function Qs(){return Es().memoizedState}function Ys(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Zs(t,n);else if(null!==(n=Do(e,t,n,r))){ic(n,e,r,nc()),$s(n,t,r)}}function Xs(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Zs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Mo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(ic(n,e,r,i=nc()),$s(n,t,r))}}function Js(e){var t=e.alternate;return e===cs||null!==t&&t===cs}function Zs(e,t){fs=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ea={readContext:No,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},ta={readContext:No,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:No,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ys.bind(null,cs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:Ns,useDebugValue:Hs,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Gs.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cs,i=ws();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&ls)||Is(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,js(Ls.bind(null,r,s,e),[e]),r.flags|=2048,As(9,xs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ws(),t=Ol.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=gs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},na={readContext:No,useCallback:qs,useContext:No,useEffect:Us,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Vs,useMemo:Ws,useReducer:ks,useRef:Ms,useState:function(){return ks(_s)},useDebugValue:Hs,useDeferredValue:function(e){return Ks(Es(),us.memoizedState,e)},useTransition:function(){return[ks(_s)[0],Es().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Ts,useId:Qs,unstable_isNewReconciler:!1},ra={readContext:No,useCallback:qs,useContext:No,useEffect:Us,useImperativeHandle:Bs,useInsertionEffect:Fs,useLayoutEffect:Vs,useMemo:Ws,useReducer:Ss,useRef:Ms,useState:function(){return Ss(_s)},useDebugValue:Hs,useDeferredValue:function(e){var t=Es();return null===us?t.memoizedState=e:Ks(t,us.memoizedState,e)},useTransition:function(){return[Ss(_s)[0],Es().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Ts,useId:Qs,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function oa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),o=Vo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(ic(t,e,i,r),Ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),o=Vo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(ic(t,e,i,r),Ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Vo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(ic(t,e,r,n),Ho(t,e,r))}};function aa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function la(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=No(o):(i=Ni(t)?Pi:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ca(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=No(o):(o=Ni(t)?Pi:xi.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(oa(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&sa.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ha(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pa="function"===typeof WeakMap?WeakMap:Map;function ga(e,t,n){(n=Vo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=r),fa(0,t)},n}function ma(e,t,n){(n=Vo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fa(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function va(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=w.ReactCurrentOwner,Ea=!1;function _a(e,t,n,r){t.child=null===e?ko(t,null,n,r):_o(t,e.child,n,r)}function ka(e,t,n,r,i){n=n.render;var o=t.ref;return Oo(t,i),r=ys(e,t,n,r,o,i),n=bs(),null===e||Ea?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ca(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(Ea=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(Ea=!0)}}return xa(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Dl,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Dl,Ml),Ml|=r;return _a(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=Ni(n)?Pi:xi.current;return o=Oi(t,o),Oo(t,i),n=ys(e,t,n,r,o,i),r=bs(),null===e||Ea?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function La(e,t,n,r,i){if(Ni(n)){var o=!0;Ri(t)}else o=!1;if(Oo(t,i),null===t.stateNode)Wa(e,t),la(t,n,r),ua(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=No(c):c=Oi(t,c=Ni(n)?Pi:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&ca(t,s,r,c),jo=!1;var d=t.memoizedState;s.state=d,Wo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Li.current||jo?("function"===typeof u&&(oa(t,n,u,r),l=t.memoizedState),(a=jo||aa(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ia(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=No(l):l=Oi(t,l=Ni(n)?Pi:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&ca(t,s,r,l),jo=!1,d=t.memoizedState,s.state=d,Wo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Li.current||jo?("function"===typeof f&&(oa(t,n,f,r),p=t.memoizedState),(c=jo||aa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,o,i)}function Pa(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),Ka(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Zo(e,t.containerInfo)}function Na(e,t,n,r,i){return go(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Aa,Ma,Da,Ra,ja={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=ns.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(ns,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Uc(l,i,0,null),e=jc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(n),t.memoizedState=ja,e):Va(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Uc({mode:"visible",children:r.children},i,0,null),(s=jc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=ja,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),Ea||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),ic(r,e,i,-1))}return vc(),za(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Lc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=jc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function Ha(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ns.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ns,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===rs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===rs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,o);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ya(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(t),null;case 1:case 17:return Ni(t.type)&&Ai(),Qa(t),null;case 3:return r=t.stateNode,$o(),Ci(Li),Ci(xi),os(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(lc(oo),oo=null))),Ma(e,t),Qa(t),null;case 5:ts(t);var i=Jo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Qa(t),null}if(e=Jo(Qo.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),$(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qa(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Xo.current),Jo(Qo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Qa(t),null;case 13:if(Ci(ns),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),go(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qa(t),s=!1}else null!==oo&&(lc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ns.current)?0===Rl&&(Rl=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qa(t),null);case 4:return $o(),Ma(e,t),null===e&&Br(t.stateNode.containerInfo),Qa(t),null;case 10:return Lo(t.type._context),Qa(t),null;case 19:if(Ci(ns),null===(s=t.memoizedState))return Qa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ga(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=rs(e))){for(t.flags|=128,Ga(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ns,1&ns.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>ql&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=rs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Qa(t),null}else 2*Je()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ns.current,Ti(ns,r?1&n|2:1&n),t):(Qa(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Qa(t),6&t.subtreeFlags&&(t.flags|=8192)):Qa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xa(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Ci(Li),Ci(xi),os(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ts(t),null;case 13:if(Ci(ns),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ns),null;case 4:return $o(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo(Qo.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Za=!1,$a="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&nl(t,n,o)}i=i.next}while(i!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var dl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)gl(e,t,n),n=n.sibling}function gl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Za||tl(n,t);case 6:var r=dl,i=fl;dl=null,pl(e,t,n),fl=i,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&nl(n,t,s),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Za&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tc(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,pl(e,t,n),Za=r):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));gl(s,a,i),dl=null,fl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Tc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{il(3,e,e.return),ol(3,e)}catch(m){Tc(e,e.return,m)}try{il(5,e,e.return)}catch(m){Tc(e,e.return,m)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Tc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){Tc(e,e.return,m)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Tc(e,e.return,m)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Tc(e,e.return,m)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Je())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(u=Za)||h,vl(t,e),Za=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(el=e,h=e.child;null!==h;){for(d=el=h;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tc(r,n,m)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){kl(d);continue}}null!==p?(p.return=f,el=p):kl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){Tc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Tc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vl(t,e),bl(e),4&r&&ml(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),hl(e,cl(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,cl(e),s);break;default:throw Error(o(161))}}catch(zo){Tc(e,e.return,zo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,El(e,t,n)}function El(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ja;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Ja;var c=Za;if(Ja=s,(Za=l)&&!c)for(el=i;null!==el;)l=(s=el).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,el=l):Sl(i);for(;null!==o;)el=o,El(o,t,n),o=o.sibling;el=i,Ja=a,Za=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,el=o):_l(e)}}function _l(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ia(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ko(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Za||512&t.flags&&sl(t)}catch(Nm){Tc(t,t.return,Nm)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function kl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(zo){Tc(t,n,zo)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(zo){Tc(t,i,zo)}}var o=t.return;try{sl(t)}catch(zo){Tc(t,o,zo)}break;case 5:var s=t.return;try{sl(t)}catch(zo){Tc(t,s,zo)}}}catch(zo){Tc(t,t.return,zo)}if(t===e){el=null;break}var a=t.sibling;if(null!==a){a.return=t.return,el=a;break}el=t.return}}var Cl,Tl=Math.ceil,Il=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Ll=w.ReactCurrentBatchConfig,Pl=0,Ol=null,Nl=null,Al=0,Ml=0,Dl=Si(0),Rl=0,jl=null,Ul=0,Fl=0,Vl=0,zl=null,Bl=null,Hl=0,ql=1/0,Wl=null,Kl=!1,Gl=null,Ql=null,Yl=!1,Xl=null,Jl=0,Zl=0,$l=null,ec=-1,tc=0;function nc(){return 0!==(6&Pl)?Je():-1!==ec?ec:ec=Je()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Al?Al&-Al:null!==vo.transition?(0===tc&&(tc=gt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ic(e,t,n,r){if(50<Zl)throw Zl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(Fl|=n),4===Rl&&cc(e,Al)),oc(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(ql=Je()+500,Fi&&Bi()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Ol?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),si(function(){0===(6&Pl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(ec=-1,tc=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ol?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Pl;Pl|=2;var s=mc();for(Ol===e&&Al===t||(Wl=null,ql=Je()+500,pc(e,t));;)try{wc();break}catch(l){gc(e,l)}xo(),Il.current=s,Pl=i,null!==Nl?t=0:(Ol=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=jl,pc(e,0),cc(e,r),oc(e,Je()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t))throw n=jl,pc(e,0),cc(e,r),oc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Bl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Hl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Bl,Wl),t);break}kc(e,Bl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Bl,Wl),r);break}kc(e,Bl,Wl);break;default:throw Error(o(329))}}}return oc(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Pl))throw Error(o(327));Sc();var t=dt(e,0);if(0===(1&t))return oc(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=jl,pc(e,0),cc(e,t),oc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Bl,Wl),oc(e,Je()),null}function hc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(ql=Je()+500,Fi&&Bi())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Pl)&&Sc();var t=Pl;Pl|=1;var n=Ll.transition,r=bt;try{if(Ll.transition=null,bt=1,e)return e()}finally{bt=r,Ll.transition=n,0===(6&(Pl=t))&&Bi()}}function fc(){Ml=Dl.current,Ci(Dl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:$o(),Ci(Li),Ci(xi),os();break;case 5:ts(r);break;case 4:$o();break;case 13:case 19:Ci(ns);break;case 10:Lo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ol=e,Nl=e=Dc(e.current,null),Al=Ml=t,Rl=0,jl=null,Vl=Fl=Ul=0,Bl=zl=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ao=null}return e}function gc(e,t){for(;;){var n=Nl;try{if(xo(),ss.current=ea,ds){for(var r=cs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ds=!1}if(ls=0,hs=us=cs=null,fs=!1,ps=0,xl.current=null,null===n||null===n.return){Rl=1,jl=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,ba(p,a,l,0,t),1&p.mode&&va(s,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){va(s,u,t),vc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ya(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ba(v,a,l,0,t),mo(ha(c,l));break e}}s=c=ha(c,l),4!==Rl&&(Rl=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qo(s,ga(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,qo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Il.current;return Il.current=ea,null===e?ea:e}function vc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Ol||0===(268435455&Ul)&&0===(268435455&Fl)||cc(Ol,Al)}function yc(e,t){var n=Pl;Pl|=2;var r=mc();for(Ol===e&&Al===t||(Wl=null,pc(e,t));;)try{bc();break}catch(i){gc(e,i)}if(xo(),Pl=n,Il.current=r,null!==Nl)throw Error(o(261));return Ol=null,Al=0,Rl}function bc(){for(;null!==Nl;)Ec(Nl)}function wc(){for(;null!==Nl&&!Ye();)Ec(Nl)}function Ec(e){var t=Cl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?_c(e):Nl=t,xl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ya(n,t,Ml)))return void(Nl=n)}else{if(null!==(n=Xa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Rl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Rl&&(Rl=5)}function kc(e,t,n){var r=bt,i=Ll.transition;try{Ll.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Xl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ol&&(Nl=Ol=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Oc(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ll.transition,Ll.transition=null;var a=bt;bt=1;var l=Pl;Pl|=4,xl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(ao){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ia(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(ao){Tc(t,t.return,ao)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}g=rl,rl=!1}(e,n),yl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Pl=l,bt=a,Ll.transition=s}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Jl=i),s=e.pendingLanes,0===s&&(Ql=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===$l?Zl++:(Zl=0,$l=e):Zl=0,Bi()}(e,t,n,r)}finally{Ll.transition=i,bt=r}return null}function Sc(){if(null!==Xl){var e=wt(Jl),t=Ll.transition,n=bt;try{if(Ll.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,el=e.current;null!==el;){var s=el,a=s.child;if(0!==(16&el.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var h=el;switch(h.tag){case 0:case 11:case 15:il(8,h,s)}var d=h.child;if(null!==d)d.return=h,el=d;else for(;null!==el;){var f=(h=el).sibling,p=h.return;if(al(h),h===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}el=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,el=a;else e:for(;null!==el;){if(0!==(2048&(s=el).flags))switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,el=y;break e}el=s.return}}var b=e.current;for(el=b;null!==el;){var w=(a=el).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,el=w;else e:for(a=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(_){Tc(l,l.return,_)}if(l===a){el=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,el=E;break e}el=l.return}}if(Pl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ll.transition=t}}return!1}function Cc(e,t,n){e=Bo(e,t=ga(0,t=ha(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),oc(e,t))}function Tc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Bo(t,e=ma(t,e=ha(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Je()-Hl?pc(e,0):Vl|=n),oc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Ro(e,t))&&(vt(e,t,n),oc(e,n))}function Lc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xc(e,n)}function Oc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return jc(n.children,i,s,t);case S:a=8,i|=8;break;case C:return(e=Ac(12,n,t,2|i)).elementType=C,e.lanes=s,e;case L:return(e=Ac(13,n,t,i)).elementType=L,e.lanes=s,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=s,e;case A:return Uc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case I:a=9;break e;case x:a=11;break e;case O:a=14;break e;case N:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function jc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Uc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uo(o),e}function Hc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Di(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=Hc(null),n=e.current,(o=Vo(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,vt(e,i,r),oc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=nc(),s=rc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,s))&&(ic(e,i,s,o),Ho(e,i,s)),s}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Li.current)Ea=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ea=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),go();break;case 5:es(t);break;case 1:Ni(t.type)&&Ri(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ns,1&ns.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ti(ns,1&ns.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ti(ns,1&ns.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ns,ns.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ka(e,t,n)}(e,t,n);Ea=0!==(131072&e.flags)}else Ea=!1,io&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,xi.current);Oo(t,n),i=ys(null,t,r,e,i,n);var s=bs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(s=!0,Ri(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Uo(t),i.updater=sa,t.stateNode=i,i._reactInternals=t,ua(t,r,e,n),t=Pa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===O)return 14}return 2}(r),e=ia(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=La(null,t,r,e,n);break e;case 11:t=ka(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,ia(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 1:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),Wo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ha(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ha(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(go(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return es(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Fa(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:ia(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(So,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Li.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Vo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Po(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Po(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oo(t,n),r=r(i=No(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=ia(r=t.type,t.pendingProps),Sa(e,t,r,i=ia(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ia(r,i),Wa(e,t),t.tag=1,Ni(r)?(e=!0,Ri(t)):e=!1,Oo(t,n),la(t,r,i),ua(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Kc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return Kc(s)}Jc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),oc(t,Je()),0===(6&Pl)&&(ql=Je()+500,Bi()))}break;case 13:dc(function(){var t=Ro(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}}),Qc(e,1)}},_t=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)ic(t,e,134217728,nc());Qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),n=Ro(e,t);if(null!==n)ic(n,e,t,nc());Qc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=hc,Le=dc;var nu={usingClientEntryPoint:!1,Events:[bi,wi,Ei,Te,Ie,hc]},ru={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{it=ou.inject(iu),ot=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(dc(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=hc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".5496312c.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="blood-donot-finder:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkblood_donot_finder=self.webpackChunkblood_donot_finder||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new d;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=u(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const m=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLIC_KEY:"uIo4rvAQ7TsyES2YJ",REACT_APP_EMAILJS_SERVICE_ID:"service_zj2e2wp",REACT_APP_EMAILJS_TEMPLATE_ID:"template_9my7az5",REACT_APP_FIREBASE_API_KEY:"AIzaSyBrJKoipeLFords9NM-AZDNG4TH-767pkU",REACT_APP_FIREBASE_APP_ID:"1:586315694761:web:3b826556c8e0f04b5a5fb8",REACT_APP_FIREBASE_AUTH_DOMAIN:"blood-donor-finder-744dd.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"586315694761",REACT_APP_FIREBASE_PROJECT_ID:"blood-donor-finder-744dd",REACT_APP_FIREBASE_STORAGE_BUCKET:"blood-donor-finder-744dd.firebasestorage.app",REACT_APP_FIREBASE_VAPID_KEY:"BIO2Mc6NhNj7m9xAN8OctwR5lWFytEx-1cnnjpqTTWHeJBPbwg0Qo4LbbVrEmmkfjju5835EtZD03Mgmo7K1dmc",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyDcG9acW8tmFGsxYTGrrvoKjdafi4sP_-k"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t;return null===(t=m())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},y=()=>{var e;return null===(e=m())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=m())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function E(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function _(e){return(await fetch(e,{credentials:"include"})).ok}const k={};let S=!1;function C(e,t){if("undefined"===typeof window||"undefined"===typeof document||!E(window.location.host)||k[e]===t||k[e]||S)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{S=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){var e;const t=null===(e=m())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function x(){return!I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(A,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new O(n,o,t)}}const A=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(D(n)&&D(o)){if(!M(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function U(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}function z(e){return e&&e._delegate?e._delegate:e}class B{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const H="[DEFAULT]";class q{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:H})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===H?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?e:H:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new q(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const K=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const Q={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Y=G.INFO,X={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},J=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=X[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Z{constructor(e){this.name=e,this._logLevel=Y,this._logHandler=J,this._userLogHandler=null,K.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}let $,ee;const te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakMap;let se={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ne.get(e);if("objectStoreNames"===t)return e.objectStoreNames||re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ae(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ue(this),n),ce(te.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(e.apply(ue(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ue(this),t,...r);return re.set(o,t.sort?t.sort():[t]),ce(o)}}function le(e){return"function"===typeof e?ae(e):(e instanceof IDBTransaction&&function(e){if(ne.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ne.set(e,t)}(e),t=e,($||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,se):e);var t}function ce(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ce(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&te.set(t,e)}).catch(()=>{}),oe.set(t,e),t}(e);if(ie.has(e))return ie.get(e);const t=le(e);return t!==e&&(ie.set(e,t),oe.set(t,e)),t}const ue=e=>oe.get(e);function he(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ce(s);return r&&s.addEventListener("upgradeneeded",e=>{r(ce(s.result),e.oldVersion,e.newVersion,ce(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function de(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),ce(n).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],ge=new Map;function me(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ge.get(t))return ge.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fe.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return ge.set(t,o),o}se=(e=>c(c({},e),{},{get:(t,n,r)=>me(t,n)||e.get(t,n,r),has:(t,n)=>!!me(t,n)||e.has(t,n)}))(se);class ve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ye="@firebase/app",be="0.14.4",we=new Z("@firebase/app"),Ee="@firebase/app-compat",_e="@firebase/analytics-compat",ke="@firebase/analytics",Se="@firebase/app-check-compat",Ce="@firebase/app-check",Te="@firebase/auth",Ie="@firebase/auth-compat",xe="@firebase/database",Le="@firebase/data-connect",Pe="@firebase/database-compat",Oe="@firebase/functions",Ne="@firebase/functions-compat",Ae="@firebase/installations",Me="@firebase/installations-compat",De="@firebase/messaging",Re="@firebase/messaging-compat",je="@firebase/performance",Ue="@firebase/performance-compat",Fe="@firebase/remote-config",Ve="@firebase/remote-config-compat",ze="@firebase/storage",Be="@firebase/storage-compat",He="@firebase/firestore",qe="@firebase/ai",We="@firebase/firestore-compat",Ke="firebase",Ge="[DEFAULT]",Qe={[ye]:"fire-core",[Ee]:"fire-core-compat",[ke]:"fire-analytics",[_e]:"fire-analytics-compat",[Ce]:"fire-app-check",[Se]:"fire-app-check-compat",[Te]:"fire-auth",[Ie]:"fire-auth-compat",[xe]:"fire-rtdb",[Le]:"fire-data-connect",[Pe]:"fire-rtdb-compat",[Oe]:"fire-fn",[Ne]:"fire-fn-compat",[Ae]:"fire-iid",[Me]:"fire-iid-compat",[De]:"fire-fcm",[Re]:"fire-fcm-compat",[je]:"fire-perf",[Ue]:"fire-perf-compat",[Fe]:"fire-rc",[Ve]:"fire-rc-compat",[ze]:"fire-gcs",[Be]:"fire-gcs-compat",[He]:"fire-fst",[We]:"fire-fst-compat",[qe]:"fire-vertex","fire-js":"fire-js",[Ke]:"fire-js-all"},Ye=new Map,Xe=new Map,Je=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(n){we.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $e(e){const t=e.name;if(Je.has(t))return we.debug("There were multiple attempts to register component ".concat(t,".")),!1;Je.set(t,e);for(const n of Ye.values())Ze(n,e);for(const n of Xe.values())Ze(n,e);return!0}function et(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const nt=new N("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class rt{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new B("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nt.create("app-deleted",{appName:this._name})}}const it="12.4.0";function ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Ge,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw nt.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw nt.create("no-options");const o=Ye.get(i);if(o){if(M(n,o.options)&&M(r,o.config))return o;throw nt.create("duplicate-app",{appName:i})}const s=new W(i);for(const l of Je.values())s.addComponent(l);const a=new rt(n,r,s);return Ye.set(i,a),a}function st(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;const t=Ye.get(e);if(!t&&e===Ge&&y())return ot();if(!t)throw nt.create("no-app",{appName:e});return t}function at(e,t,n){var r;let i=null!==(r=Qe[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void we.warn(e.join(" "))}$e(new B("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const lt="firebase-heartbeat-store";let ct=null;function ut(){return ct||(ct=he("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(lt)}catch(n){console.warn(n)}}}).catch(e=>{throw nt.create("idb-open",{originalErrorMessage:e.message})})),ct}async function ht(e,t){try{const n=(await ut()).transaction(lt,"readwrite"),r=n.objectStore(lt);await r.put(t,dt(e)),await n.done}catch(n){if(n instanceof O)we.warn(n.message);else{const e=nt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});we.warn(e.message)}}}function dt(e){return"".concat(e.name,"!").concat(e.options.appId)}class ft{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){we.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=pt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),mt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return we.warn(t),""}}}function pt(){return(new Date).toISOString().substring(0,10)}class gt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!L()&&P().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ut()).transaction(lt),n=await t.objectStore(lt).get(dt(e));return await t.done,n}catch(t){if(t instanceof O)we.warn(t.message);else{const e=nt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});we.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ht(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ht(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mt(e){return f(JSON.stringify({version:2,heartbeats:e})).length}var vt;vt="",$e(new B("platform-logger",e=>new ve(e),"PRIVATE")),$e(new B("heartbeat",e=>new ft(e),"PRIVATE")),at(ye,be,vt),at(ye,be,"esm2020"),at("fire-js","");function yt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}at("firebase","12.4.0","app");const bt=["providerId"],wt=["uid","auth","stsTokenManager"],Et=["providerId","signInMethod"];function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kt=_t,St=new N("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new Z("@firebase/auth");function Tt(e){if(Ct.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ct.error("Auth (".concat(it,"): ").concat(e),...n)}}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ot(e,...n)}function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ot(e,...n)}function Lt(e,t,n){const r=c(c({},kt()),{},{[t]:n});return new N("auth","Firebase",r).create(t,{appName:e.name})}function Pt(e){return Lt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return St.create(e,...n)}function Nt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ot(t,...r)}}function At(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tt(t),new Error(t)}function Mt(e,t){e||At(t)}function Dt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Rt(){return"http:"===jt()||"https:"===jt()}function jt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ut(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Rt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ft{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ut()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vt(e,t){Mt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class zt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ht=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qt=new Ft(3e4,6e4);function Wt(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Kt(e,t,n,r){return Gt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=R(c({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&E(e.emulatorConfig.host)&&(l.credentials="include"),zt.fetch()(await Yt(e,e.config.apiHost,n,s),l)})}async function Gt(e,t,n){e._canInitEmulator=!1;const r=c(c({},Bt),t);try{const t=new Jt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Zt(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Zt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Zt(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Lt(e,a,s);It(e,a)}}catch(i){if(i instanceof O)throw i;It(e,"network-request-failed",{message:String(i)})}}async function Qt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Kt(e,t,n,r,i);return"mfaPendingCredential"in o&&It(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Yt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?Vt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ht.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function Xt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(xt(this.auth,"network-request-failed")),qt.get())})}}function Zt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xt(e,t,r);return i.customData._tokenResponse=n,i}function $t(e){return void 0!==e&&void 0!==e.enterprise}class en{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tn(e,t){return Kt(e,"GET","/v2/recaptchaConfig",Wt(e,t))}async function nn(e,t){return Kt(e,"POST","/v1/accounts:lookup",t)}function rn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function on(e){return 1e3*Number(e)}function sn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(Tt("Failed to decode base64 JWT payload"),null)}catch(i){return Tt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function an(e){const t=sn(e);return Nt(t,"internal-error"),Nt("undefined"!==typeof t.exp,"internal-error"),Nt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ln(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof O&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class cn{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class un{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ln(e,nn(n,{idToken:r}));Nt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?dn(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new un(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function dn(e){return e.map(e=>{let{providerId:t}=e,n=yt(e,bt);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class fn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt("undefined"!==typeof e.idToken,"internal-error"),Nt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):an(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Nt(0!==e.length,"internal-error");const t=an(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Gt(e,{},async()=>{const n=R({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Yt(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&E(e.emulatorConfig.host)&&(a.credentials="include"),zt.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new fn;return n&&(Nt("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Nt("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Nt("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fn,this.toJSON())}_performRefresh(){return At("not implemented")}}function pn(e,t){Nt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gn{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=yt(e,wt);this.providerId="firebase",this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new un(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ln(this,this.stsTokenManager.getToken(this.auth,e));return Nt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e),r=await n.getIdToken(t),i=sn(r);Nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:rn(on(i.auth_time)),issuedAtTime:rn(on(i.iat)),expirationTime:rn(on(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=z(e);await hn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gn(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tt(this.auth.app))return Promise.reject(Pt(this.auth));const e=await this.getIdToken();return await ln(this,async function(e,t){return Kt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:_,stsTokenManager:k}=t;Nt(b&&k,e,"internal-error");const S=fn.fromJSON(this.name,k);Nt("string"===typeof b,e,"internal-error"),pn(h,e.name),pn(d,e.name),Nt("boolean"===typeof w,e,"internal-error"),Nt("boolean"===typeof E,e,"internal-error"),pn(f,e.name),pn(p,e.name),pn(g,e.name),pn(m,e.name),pn(v,e.name),pn(y,e.name);const C=new gn({uid:b,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:E,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:S,createdAt:v,lastLoginAt:y});return _&&Array.isArray(_)&&(C.providerData=_.map(e=>c({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fn;r.updateFromServerResponse(t);const i=new gn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hn(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Nt(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?dn(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new fn;s.updateFromIdToken(n);const a=new gn({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new un(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const mn=new Map;function vn(e){Mt(e instanceof Function,"Expected a class definition");let t=mn.get(e);return t?(Mt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mn.set(e,t),t)}class yn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yn.type="NONE";const bn=yn;function wn(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class En{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=wn(this.userKey,r.apiKey,i),this.fullPersistenceKey=wn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await nn(this.auth,{idToken:e}).catch(()=>{});return t?gn._fromGetAccountInfoResponse(this.auth,t,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new En(vn(bn),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||vn(bn);const o=wn(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await nn(e,{idToken:t}).catch(()=>{});if(!r)break;n=await gn._fromGetAccountInfoResponse(e,r,t)}else n=gn._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new En(i,e,n)):new En(i,e,n)}}function _n(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xn(t))return"Blackberry";if(Ln(t))return"Webos";if(Sn(t))return"Safari";if((t.includes("chrome/")||Cn(t))&&!t.includes("edge/"))return"Chrome";if(In(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/firefox\//i.test(e)}function Sn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:T()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/crios\//i.test(e)}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/iemobile/i.test(e)}function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/android/i.test(e)}function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/blackberry/i.test(e)}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/webos/i.test(e)}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function On(){return function(){const e=T();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return Pn(e)||In(e)||Ln(e)||xn(e)||/windows phone/i.test(e)||Tn(e)}function An(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_n(T());break;case"Worker":t="".concat(_n(T()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(it,"/").concat(r)}class Mn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Dn{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Rn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Un(this),this.idTokenSubscription=new Un(this),this.beforeStateQueue=new Mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=St,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vn(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await En.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await nn(this,{idToken:e}),n=await gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hn(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tt(this.app))return Promise.reject(Pt(this));const t=e?z(e):null;return t&&Nt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tt(this.app)?Promise.reject(Pt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tt(this.app)?Promise.reject(Pt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vn(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Kt(e,"GET","/v2/passwordPolicy",Wt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Dn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new N("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Kt(e,"POST","/v2/accounts:revokeToken",Wt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vn(e)||this._popupRedirectResolver;Nt(t,this,"argument-error"),this.redirectPersistenceManager=await En.create(this,[vn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Ct.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ct.warn("Auth (".concat(it,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function jn(e){return z(e)}class Un{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new F(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vn(e){return Fn.loadJS(e)}function zn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Bn{constructor(){this.enterprise=new Hn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Hn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qn="NO_RECAPTCHA";class Wn{constructor(e){this.type="recaptcha-enterprise",this.auth=jn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;$t(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(qn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Bn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{tn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new en(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&$t(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Fn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Vn(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Kn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Wn(e);let s;if(i)s=qn;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gn(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Kn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Kn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Kn(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Kn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Kn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Qn(e){const t=jn(e),n=await tn(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new en(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Wn(t).verify()}}function Yn(e,t,n){const r=jn(e);Nt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=Xn(t),{host:s,port:a}=function(e){const t=Xn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Jn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Jn(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Nt(M(c,r.config.emulator)&&M(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,E(s)?(_("".concat(o,"//").concat(s).concat(l)),C("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Jn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Zn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return At("not implemented")}_getIdTokenResponse(e){return At("not implemented")}_linkToIdToken(e,t){return At("not implemented")}_getReauthenticationResolver(e){return At("not implemented")}}async function $n(e,t){return Kt(e,"POST","/v1/accounts:signUp",t)}async function er(e,t){return Qt(e,"POST","/v1/accounts:signInWithPassword",Wt(e,t))}class tr extends Zn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tr(e,t,"password")}static _fromEmailAndCode(e,t){return new tr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Gn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",er,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithEmailLink",Wt(e,t))}(e,{email:this._email,oobCode:this._password});default:It(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Gn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$n,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithEmailLink",Wt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:It(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nr(e,t){return Qt(e,"POST","/v1/accounts:signInWithIdp",Wt(e,t))}class rr extends Zn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):It("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=yt(t,Et);if(!n||!r)return null;const o=new rr(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return nr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,nr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=R(t)}return e}}async function ir(e,t){return Kt(e,"POST","/v1/accounts:sendVerificationCode",Wt(e,t))}const or={USER_NOT_FOUND:"user-not-found"};class sr extends Zn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new sr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new sr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithPhoneNumber",Wt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qt(e,"POST","/v1/accounts:signInWithPhoneNumber",Wt(e,t));if(n.temporaryProof)throw Zt(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qt(e,"POST","/v1/accounts:signInWithPhoneNumber",Wt(e,c(c({},t),{},{operation:"REAUTH"})),or)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new sr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ar{constructor(e){var t,n,r,i,o,s;const a=j(U(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Nt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=j(U(e)).link,n=t?j(U(t)).deep_link_id:null,r=j(U(e)).deep_link_id;return(r?j(U(r)).link:null)||r||n||t||e}(e);try{return new ar(t)}catch(n){return null}}}class lr{constructor(){this.providerId=lr.PROVIDER_ID}static credential(e,t){return tr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ar.parseLink(t);return Nt(n,"argument-error"),tr._fromEmailAndCode(e,n.code,n.tenantId)}}lr.PROVIDER_ID="password",lr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ur extends cr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hr extends ur{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch(n){return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com",hr.PROVIDER_ID="facebook.com";class dr extends ur{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rr._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return dr.credential(n,r)}catch(i){return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com",dr.PROVIDER_ID="google.com";class fr extends ur{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch(n){return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com",fr.PROVIDER_ID="github.com";class pr extends ur{constructor(){super("twitter.com")}static credential(e,t){return rr._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return pr.credential(n,r)}catch(i){return null}}}async function gr(e,t){return Qt(e,"POST","/v1/accounts:signUp",Wt(e,t))}pr.TWITTER_SIGN_IN_METHOD="twitter.com",pr.PROVIDER_ID="twitter.com";class mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gn._fromIdTokenResponse(e,n,r),o=vr(n);return new mr({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=vr(n);return new mr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function vr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class yr extends O{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,yr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new yr(e,t,n,r)}}function br(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw yr._fromErrorAndOperation(e,n,t,r);throw n})}async function wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ln(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return mr._forOperation(e,"link",r)}async function Er(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(tt(r.app))return Promise.reject(Pt(r));const i="reauthenticate";try{const o=await ln(e,br(r,i,t,e),n);Nt(o.idToken,r,"internal-error");const s=sn(o.idToken);Nt(s,r,"internal-error");const{sub:a}=s;return Nt(e.uid===a,r,"user-mismatch"),mr._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&It(r,"user-mismatch"),o}}async function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tt(e.app))return Promise.reject(Pt(e));const r="signIn",i=await br(e,r,t),o=await mr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function kr(e,t){return _r(jn(e),t)}async function Sr(e){const t=jn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Cr(e,t,n,r){return z(e).onAuthStateChanged(t,n,r)}function Tr(e,t){return Kt(e,"POST","/v2/accounts/mfaEnrollment:start",Wt(e,t))}new WeakMap;const Ir="__sak";class xr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ir,"1"),this.storage.removeItem(Ir),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lr extends xr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);On()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lr.type="LOCAL";const Pr=Lr;function Or(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Nr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Ar{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Nr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Or(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Nr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Nr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Or(n);const i=setInterval(()=>{const e=Or(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Ar.type="COOKIE";class Mr extends xr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mr.type="SESSION";const Dr=Mr;class Rr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Rr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rr.receivers=[];class Ur{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=jr("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Fr(){return window}function Vr(){return"undefined"!==typeof Fr().WorkerGlobalScope&&"function"===typeof Fr().importScripts}const zr="firebaseLocalStorageDb",Br="firebaseLocalStorage",Hr="fbase_key";class qr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wr(e,t){return e.transaction([Br],t?"readwrite":"readonly").objectStore(Br)}function Kr(){const e=indexedDB.open(zr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Br,{keyPath:Hr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Br)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zr);return new qr(e).toPromise()}(),t(await Kr()))})})}async function Gr(e,t,n){const r=Wr(e,!0).put({[Hr]:t,value:n});return new qr(r).toPromise()}function Qr(e,t){const n=Wr(e,!0).delete(t);return new qr(n).toPromise()}class Yr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Kr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rr._getInstance(Vr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Ur(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kr();return await Gr(e,Ir,"1"),await Qr(e,Ir),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Wr(e,!1).get(t),r=await new qr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Wr(e,!1).getAll();return new qr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yr.type="LOCAL";const Xr=Yr;function Jr(e,t){return Kt(e,"POST","/v2/accounts/mfaSignIn:start",Wt(e,t))}zn("rcb"),new Ft(3e4,6e4);const Zr="recaptcha";async function $r(e,t,n){if(!e._getRecaptchaConfig())try{await Qn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Nt("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Gn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===qn){Nt((null===n||void 0===n?void 0:n.type)===Zr,e,"argument-error");return Tr(e,await ei(e,t,n))}return Tr(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Nt("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Nt(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Gn(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===qn){Nt((null===n||void 0===n?void 0:n.type)===Zr,e,"argument-error");return Jr(e,await ei(e,t,n))}return Jr(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Gn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===qn){Nt((null===n||void 0===n?void 0:n.type)===Zr,e,"argument-error");return ir(e,await ei(e,t,n))}return ir(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function ei(e,t,n){Nt(n.type===Zr,e,"argument-error");const r=await n.verify();Nt("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ti{constructor(e){this.providerId=ti.PROVIDER_ID,this.auth=jn(e)}verifyPhoneNumber(e,t){return $r(this.auth,e,z(t))}static credential(e,t){return sr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ti.credentialFromTaggedObject(t)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?sr._fromTokenResponse(n,r):null}}function ni(e,t){return t?vn(t):(Nt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ti.PROVIDER_ID="phone",ti.PHONE_SIGN_IN_METHOD="phone";class ri extends Zn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ii(e){return _r(e.auth,new ri(e),e.bypassAuthState)}function oi(e){const{auth:t,user:n}=e;return Nt(n,t,"internal-error"),Er(n,new ri(e),e.bypassAuthState)}async function si(e){const{auth:t,user:n}=e;return Nt(n,t,"internal-error"),wr(n,new ri(e),e.bypassAuthState)}class ai{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ii;case"linkViaPopup":case"linkViaRedirect":return si;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:It(this.auth,"internal-error")}}resolve(e){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const li=new Ft(2e3,1e4);class ci extends ai{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ci.currentPopupAction&&ci.currentPopupAction.cancel(),ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){Mt(1===this.filter.length,"Popup operations only handle one event");const e=jr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,li.get())};e()}}ci.currentPopupAction=null;const ui=new Map;class hi extends ai{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ui.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=pi(t),r=fi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ui.set(this.auth._key(),e)}return this.bypassAuthState||ui.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function di(e,t){ui.set(e._key(),t)}function fi(e){return vn(e._redirectPersistence)}function pi(e){return wn("pendingRedirect",e.config.apiKey,e.name)}async function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tt(e.app))return Promise.reject(Pt(e));const r=jn(e),i=ni(r,t),o=new hi(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class mi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!yi(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vi(e))}saveEventToCache(e){this.cachedEventUids.add(vi(e)),this.lastProcessedEventTime=Date.now()}}function vi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function yi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const bi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wi=/^https?/;async function Ei(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Kt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(_i(r))return}catch(n){}It(e,"unauthorized-domain")}function _i(e){const t=Dt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wi.test(n))return!1;if(bi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ki=new Ft(3e4,6e4);function Si(){const e=Fr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ci(e){return new Promise((t,n)=>{var r,i;function o(){Si(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Si(),n(xt(e,"network-request-failed"))},timeout:ki.get()})}if(null!==(r=Fr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Fr().gapi)||void 0===i||!i.load){const t=zn("iframefcb");return Fr()[t]=()=>{gapi.load?o():n(xt(e,"network-request-failed"))},Vn("".concat(Fn.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Ti=null,e})}let Ti=null;const Ii=new Ft(5e3,15e3),xi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Li=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pi(e){const t=e.config;Nt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Vt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:it},i=Li.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(R(r).slice(1))}async function Oi(e){const t=await function(e){return Ti=Ti||Ci(e),Ti}(e),n=Fr().gapi;return Nt(n,e,"internal-error"),t.open({where:document.body,url:Pi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xi,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=xt(e,"network-request-failed"),o=Fr().setTimeout(()=>{r(i)},Ii.get());function s(){Fr().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Mi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Ni),{},{width:r.toString(),height:i.toString(),top:o,left:s}),u=T().toLowerCase();n&&(a=Cn(u)?"_blank":n),kn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Pn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:T())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ai(null);const d=window.open(t||"",a,h);Nt(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Ai(d)}const Di="__/auth/handler",Ri="emulator/auth/handler",ji=encodeURIComponent("fac");async function Ui(e,t,n,r,i,o){Nt(e.config.authDomain,e,"auth-domain-config-required"),Nt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:it,eventId:i};if(t instanceof cr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ur){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ji,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Di);return Vt(t,Ri)}(e),"?").concat(R(a).slice(1)).concat(c)}const Fi="webStorageSupport";const Vi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dr,this._completeRedirectFn=gi,this._overrideRedirectResult=di}async _openPopup(e,t,n,r){var i;Mt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Mi(e,await Ui(e,t,n,Dt(),r),jr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Fr().location.href=e}(await Ui(e,t,n,Dt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Mt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Oi(e),n=new mi(e);return t.register("authEvent",t=>{Nt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fi,{type:Fi},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Fi];void 0!==i&&t(!!i),It(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ei(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nn()||Sn()||Pn()}};var zi="@firebase/auth",Bi="1.11.0";class Hi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qi=b("authIdTokenMaxAge")||300;let Wi=null;var Ki;Fn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ki="Browser",$e(new B("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Nt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Ki,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(Ki)},c=new Rn(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vn);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),$e(new B("auth-internal",e=>(e=>new Hi(e))(jn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),at(zi,Bi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ki)),at(zi,Bi,"esm2020");var Gi,Qi,Yi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Xi={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(n)).j(t);h(c)||c.l(e)>0;)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new g(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=m(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return m(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Qi=Xi.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Gi=Xi.Integer=r}).apply("undefined"!==typeof Yi?Yi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ji,Zi,$i,eo,to,no,ro,io,oo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},so={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof oo&&oo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function g(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var m=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=m.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},E=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(_)}};function _(){for(var e;e=g();){try{e.h.call(e.g)}catch(n){p(n)}var t=m;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function S(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},S.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function I(e,t){S.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(I,S),I.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&I.Z.h.call(this)},I.prototype.h=function(){I.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var x="closure_listenable_"+(1e6*Math.random()|0),L=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++L,this.da=this.fa=!1}function O(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function N(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function A(e){const t={};for(const n in e)t[n]=e[n];return t}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<M.length;t++)n=M[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){this.src=e,this.g={},this.h=0}function j(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(O(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function U(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}R.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=U(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new P(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)z(e,t[o],n,r,i);return null}return n=X(n),e&&e[x]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[F]=l=new R(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)C||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=X(n),e&&e[x]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[x]?(e=e.i,(o=String(t).toString())in e.g&&((n=U(t=e.g[o],n,r,i))>-1&&(O(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=U(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[x])j(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(j(n,e),0==n.h&&(n.src=null,t[F]=null)):O(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new I(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[F])instanceof R?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function J(){k.call(this),this.i=new R(this),this.M=this,this.G=null}function Z(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new S(t,e);else if(t instanceof S)t.target=t.target||e;else{var i=t;D(t=new S(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=$(o,r,!0,t)&&i;if(o=t.g=e,i=$(o,r,!0,t)&&i,i=$(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=$(o,r,!1,t)&&i}function $(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&j(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,k),J.prototype[x]=!0,J.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)O(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){N(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){S.call(this,"d")}function de(){S.call(this,"c")}u(he,S),u(de,S);var fe={},pe=null;function ge(){return pe=pe||new J}function me(e){S.call(this,fe.Ia,e)}function ve(e){const t=ge();Z(t,new me(t))}function ye(e,t){S.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=ge();Z(t,new ye(t,e))}function we(e,t){S.call(this,fe.Ja,e),this.size=t}function Ee(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function _e(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(me,S),fe.STAT_EVENT="statevent",u(ye,S),fe.Ja="timingevent",u(we,S),_e.prototype.ua=function(){this.g=!1},_e.prototype.info=function(){};var Se,Ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ie(){}function xe(e){return encodeURIComponent(String(e))}function Le(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}u(Ie,le),Ie.prototype.g=function(){return new XMLHttpRequest},Se=new Ie;var Ne={},Ae={};function Me(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,De(e,null)}function De(e,t){e.F=Date.now(),Ue(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Oe,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=z(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?A(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Re(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function je(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ae:(n=Number(t.substring(n,r)),isNaN(n)?Ne:(r+=1)+n>t.length?Ae:(t=t.slice(r,r+n),e.C=r+n,t))}function Ue(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Ee(l(e.aa,e),t)}function Ve(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;$t(n),Ht(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Ee(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&$t(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ye(o,o.h),o.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Ve(a),Ue(a)),r.g=s}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ut(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ut(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Re(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ut(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),ze(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=je(this,n),t==Ae){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ne){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),He(this,t)}if(Re(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(a),a.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else ke(this.i,this.l,n,null),He(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Ue(this)))}else(function(e){const t={};e=(e.g&&Ut(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Le(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),ze(this)}}}catch(zo){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,ze(this)):Fe(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}We.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $e(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof $e?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Ze))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new $e(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(gt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(mt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$e.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(xe(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},$e.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mt(e,t){gt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return gt(e),t=Et(e,t),e.g.has(t)}function yt(e,t){gt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(Et(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){mt(e,t),n.length>0&&(e.i=null,e.g.set(Et(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function kt(){this.g=new ae}function St(e){this.i=e.Sb||null,this.h=e.ab||!1}function Ct(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.B=null,xt(e)}function xt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return N(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&xe(n):it(e,t,n))}function Ot(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){gt(this),this.i=null,e=Et(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){gt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return gt(this),this.i=null,vt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=xe(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+xe(n[t])),e.push(r)}}return this.i=e.join("&")},u(St,le),St.prototype.g=function(){return new Ct(this.i,this.h)},u(Ct,J),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,xt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):xt(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Na=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ot,J);var Nt=/^https?$/i,At=["POST","PUT"];function Mt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Dt(e),jt(e)}function Dt(e){e.A||(e.A=!0,Z(e,"complete"),Z(e,"error"))}function Rt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ut(e))setTimeout(e.Ca.bind(e),0);else if(Z(e,"readystatechange"),4==Ut(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Ze)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Nt.test(t?t.toLowerCase():"")}n=r}if(n)Z(e,"complete"),Z(e,"success");else{e.o=6;try{var s=Ut(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Dt(e)}}finally{jt(e)}}}function jt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||Z(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ut(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new _e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ue(t)}rn(e)}function Ht(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function qt(e){Ht(e),e.v&&(o.clearTimeout(e.v),e.v=null),$t(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||E(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Me(n,r,t)}function Gt(e,t){e.H&&N(e.H,function(e,n){it(t,n,e)}),e.l&&N({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(lo){throw e.push(o+"type="+encodeURIComponent("_badmap")),lo}}catch(lo){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||E(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Ee(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Zt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,De(n,e)}function $t(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){$t(e),Jt(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;Z(r=ge(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Ee(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new $e(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new _e;if(o.Image){const r=new Image;r.onload=c(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=c(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(_t,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof $e?et(n):new $e(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new $e(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ot(new St({ab:n})):new Ot(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){J.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Ot.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Se.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Mt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(At,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Mt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Z(this,"complete"),Z(this,"abort"),jt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jt(this,!0)),Ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Rt(this):this.Xa())},e.Xa=function(){Rt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ut(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let o=this.o;if(this.U&&(o?(o=A(o),D(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+xe(Lt(o))+"&"+t:this.u&&Pt(n,this.u,o)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Me(i,n,null)):Me(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Zt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Ee(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ht(this),Zt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,an),dn.prototype.ra=function(){Z(this.g,"a")},dn.prototype.qa=function(e){Z(this.g,new un(e))},dn.prototype.pa=function(e){Z(this.g,new hn)},dn.prototype.oa=function(){Z(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,io=so.createWebChannelTransport=function(){return new ln},ro=so.getStatEventTarget=function(){return ge()},no=so.Event=fe,to=so.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,eo=so.ErrorCode=Ce,Te.COMPLETE="complete",$i=so.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,Zi=so.WebChannel=ce,so.FetchXmlHttpFactory=St,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Ji=so.XhrIo=Ot}).apply("undefined"!==typeof oo?oo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ao="@firebase/firestore",lo="4.9.2";class co{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");let uo="12.3.0";const ho=new Z("@firebase/firestore");function fo(){return ho.logLevel}function po(e){if(ho.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vo);ho.debug("Firestore (".concat(uo,"): ").concat(e),...i)}}function go(e){if(ho.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vo);ho.error("Firestore (".concat(uo,"): ").concat(e),...i)}}function mo(e){if(ho.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(vo);ho.warn("Firestore (".concat(uo,"): ").concat(e),...i)}}function vo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function yo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,bo(e,r,n)}function bo(e,t,n){let r="FIRESTORE (".concat(uo,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw go(r),new Error(r)}function wo(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||bo(t,i,r)}function Eo(e,t){return e}const _o={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ko extends O{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class So{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Co{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class To{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(co.UNAUTHENTICATED))}shutdown(){}}class Io{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xo{constructor(e){this.t=e,this.currentUser=co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new So;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new So,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{po("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(po("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new So)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(po("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wo("string"==typeof t.accessToken,31837,{l:t}),new Co(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wo(null===e||"string"==typeof e,2055,{h:e}),new co(e)}}class Lo{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=co.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Po{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Lo(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(co.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class No{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wo(void 0===this.o,3512);const n=e=>{null!=e.error&&po("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,po("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{po("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):po("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Oo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(wo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Oo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ao(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Mo{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ao(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Do(e,t){return e<t?-1:e>t?1:0}function Ro(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Fo(n)===Fo(i)?Do(n,i):Fo(n)?1:-1}return Do(e.length,t.length)}const jo=55296,Uo=57343;function Fo(e){const t=e.charCodeAt(0);return t>=jo&&t<=Uo}function Vo(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const zo="__name__";class Bo{constructor(e,t,n){void 0===t?t=0:t>e.length&&yo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&yo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Bo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Bo.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Do(e.length,t.length)}static compareSegments(e,t){const n=Bo.isNumericId(e),r=Bo.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Bo.extractNumericId(e).compare(Bo.extractNumericId(t)):Ro(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class Ho extends Bo{construct(e,t,n){return new Ho(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ko(_o.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ho(e)}static emptyPath(){return new Ho([])}}const qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wo extends Bo{construct(e,t,n){return new Wo(e,t,n)}static isValidIdentifier(e){return qo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===zo}static keyField(){return new Wo([zo])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ko(_o.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ko(_o.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ko(_o.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ko(_o.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wo(t)}static emptyPath(){return new Wo([])}}class Ko{constructor(e){this.path=e}static fromPath(e){return new Ko(Ho.fromString(e))}static fromName(e){return new Ko(Ho.fromString(e).popFirst(5))}static empty(){return new Ko(Ho.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ho.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ho.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ko(new Ho(e.slice()))}}function Go(e,t,n){if(!n)throw new ko(_o.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qo(e){if(!Ko.isDocumentKey(e))throw new ko(_o.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yo(e){if(Ko.isDocumentKey(e))throw new ko(_o.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Jo(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":yo(12329,{type:typeof e})}function Zo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ko(_o.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jo(e);throw new ko(_o.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function $o(e,t){const n={typeString:e};return t&&(n.value=t),n}function es(e,t){if(!Xo(e))throw new ko(_o.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new ko(_o.INVALID_ARGUMENT,n);return!0}const ts=-62135596800,ns=1e6;class rs{static now(){return rs.fromMillis(Date.now())}static fromDate(e){return rs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ns);return new rs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ko(_o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ko(_o.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ts)throw new ko(_o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ko(_o.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ns}_compareTo(e){return this.seconds===e.seconds?Do(this.nanoseconds,e.nanoseconds):Do(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(es(e,rs._jsonSchema))return new rs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ts;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rs._jsonSchemaVersion="firestore/timestamp/1.0",rs._jsonSchema={type:$o("string",rs._jsonSchemaVersion),seconds:$o("number"),nanoseconds:$o("number")};class is{static fromTimestamp(e){return new is(e)}static min(){return new is(new rs(0,0))}static max(){return new is(new rs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const os=-1;class ss{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ss.UNKNOWN_ID=-1;function as(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=is.fromTimestamp(1e9===r?new rs(n+1,0):new rs(n,r));return new cs(i,Ko.empty(),t)}function ls(e){return new cs(e.readTime,e.key,os)}class cs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new cs(is.min(),Ko.empty(),os)}static max(){return new cs(is.max(),Ko.empty(),os)}}function us(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ko.comparator(e.documentKey,t.documentKey),0!==n?n:Do(e.largestBatchId,t.largestBatchId))}const hs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ds{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function fs(e){if(e.code!==_o.FAILED_PRECONDITION||e.message!==hs)throw e;po("LocalStore","Unexpectedly lost primary lease")}class ps{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ps((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ps?t:ps.resolve(t)}catch(e){return ps.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ps.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ps.reject(t)}static resolve(e){return new ps((t,n)=>{t(e)})}static reject(e){return new ps((t,n)=>{n(e)})}static waitFor(e){return new ps((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=ps.resolve(!1);for(const n of e)t=t.next(e=>e?ps.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ps((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new ps((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function gs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ms(e){return"IndexedDbTransactionError"===e.name}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vs.ce=-1;const ys=-1;function bs(e){return null==e}function ws(e){return 0===e&&1/e==-1/0}function Es(e){return"number"==typeof e&&Number.isInteger(e)&&!ws(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const _s="\x01";function ks(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cs(t)),t=Ss(e.get(n),t);return Cs(t)}function Ss(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case _s:n+="\x01\x11";break;default:n+=t}}return n}function Cs(e){return e+_s+"\x01"}const Ts="remoteDocuments",Is="owner",xs="mutationQueues",Ls="mutations";const Ps="documentMutations",Os="remoteDocumentsV14",Ns="remoteDocumentGlobal",As="targets",Ms="targetDocuments",Ds="targetGlobal",Rs="collectionParents",js="clientMetadata",Us="bundles",Fs="namedQueries",Vs="indexConfiguration",zs="indexState",Bs="indexEntries",Hs="documentOverlays",qs="globals",Ws=[xs,Ls,Ps,Ts,As,Is,Ds,Ms,js,Ns,Rs,Us,Fs],Ks=[xs,Ls,Ps,Os,As,Is,Ds,Ms,js,Ns,Rs,Us,Fs,Hs],Gs=Ks,Qs=[...Gs,Vs,zs,Bs];function Ys(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Js(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Zs{constructor(e,t){this.comparator=e,this.root=t||ea.EMPTY}insert(e,t){return new Zs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ea.BLACK,null,null))}remove(e){return new Zs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ea.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $s(this.root,e,this.comparator,!1)}getReverseIterator(){return new $s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $s(this.root,e,this.comparator,!0)}}class $s{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ea{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ea.RED,this.left=null!=r?r:ea.EMPTY,this.right=null!=i?i:ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ea(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ea.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ea.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yo(27949);return e+(this.isRed()?0:1)}}ea.EMPTY=null,ea.RED=!0,ea.BLACK=!1,ea.EMPTY=new class{constructor(){this.size=0}get key(){throw yo(57766)}get value(){throw yo(16141)}get color(){throw yo(16727)}get left(){throw yo(29726)}get right(){throw yo(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ea(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ta{constructor(e){this.comparator=e,this.data=new Zs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new na(this.data.getIterator())}getIteratorFrom(e){return new na(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ta))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ta(this.comparator);return t.data=e,t}}class na{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ra{constructor(e){this.fields=e,e.sort(Wo.comparator)}static empty(){return new ra([])}unionWith(e){let t=new ta(Wo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ra(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ia extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ia("Invalid base64 string: "+e):e}}(e);return new oa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new oa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Do(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oa.EMPTY_BYTE_STRING=new oa("");const sa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(e){if(wo(!!e,39018),"string"==typeof e){let t=0;const n=sa.exec(e);if(wo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:la(e.seconds),nanos:la(e.nanos)}}function la(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ca(e){return"string"==typeof e?oa.fromBase64String(e):oa.fromUint8Array(e)}const ua="server_timestamp",ha="__type__",da="__previous_value__",fa="__local_write_time__";function pa(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ha])||void 0===t?void 0:t.stringValue)===ua}function ga(e){const t=e.mapValue.fields[da];return pa(t)?ga(t):t}function ma(e){const t=aa(e.mapValue.fields[fa].timestampValue);return new rs(t.seconds,t.nanos)}class va{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const ya="(default)";class ba{constructor(e,t){this.projectId=e,this.database=t||ya}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database===ya}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}const wa="__type__",Ea="__max__",_a={mapValue:{fields:{__type__:{stringValue:Ea}}}},ka="__vector__",Sa="value";function Ca(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pa(e)?4:Ba(e)?9007199254740991:Va(e)?10:11:yo(28295,{value:e})}function Ta(e,t){if(e===t)return!0;const n=Ca(e);if(n!==Ca(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ma(e).isEqual(ma(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=aa(e.timestampValue),r=aa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ca(e.bytesValue).isEqual(ca(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return la(e.geoPointValue.latitude)===la(t.geoPointValue.latitude)&&la(e.geoPointValue.longitude)===la(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return la(e.integerValue)===la(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=la(e.doubleValue),r=la(t.doubleValue);return n===r?ws(n)===ws(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vo(e.arrayValue.values||[],t.arrayValue.values||[],Ta);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ys(n)!==Ys(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ta(n[i],r[i])))return!1;return!0}(e,t);default:return yo(52216,{left:e})}}function Ia(e,t){return void 0!==(e.values||[]).find(e=>Ta(e,t))}function xa(e,t){if(e===t)return 0;const n=Ca(e),r=Ca(t);if(n!==r)return Do(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Do(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=la(e.integerValue||e.doubleValue),r=la(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return La(e.timestampValue,t.timestampValue);case 4:return La(ma(e),ma(t));case 5:return Ro(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ca(e),r=ca(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Do(n[i],r[i]);if(0!==e)return e}return Do(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Do(la(e.latitude),la(t.latitude));return 0!==n?n:Do(la(e.longitude),la(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Pa(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const s=e.fields||{},a=t.fields||{},l=null===(n=s[Sa])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Sa])||void 0===r?void 0:r.arrayValue,u=Do((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Pa(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_a.mapValue&&t===_a.mapValue)return 0;if(e===_a.mapValue)return 1;if(t===_a.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Ro(r[s],o[s]);if(0!==e)return e;const t=xa(n[r[s]],i[o[s]]);if(0!==t)return t}return Do(r.length,o.length)}(e.mapValue,t.mapValue);default:throw yo(23264,{he:n})}}function La(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Do(e,t);const n=aa(e),r=aa(t),i=Do(n.seconds,r.seconds);return 0!==i?i:Do(n.nanos,r.nanos)}function Pa(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xa(n[i],r[i]);if(e)return e}return Do(n.length,r.length)}function Oa(e){return Na(e)}function Na(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=aa(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ca(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ko.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Na(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Na(e.fields[i]));return n+"}"}(e.mapValue):yo(61005,{value:e})}function Aa(e){switch(Ca(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ga(e);return t?16+Aa(t):16;case 5:return 2*e.stringValue.length;case 6:return ca(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Aa(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Xs(e.fields,(e,n)=>{t+=e.length+Aa(n)}),t}(e.mapValue);default:throw yo(13486,{value:e})}}function Ma(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Da(e){return!!e&&"integerValue"in e}function Ra(e){return!!e&&"arrayValue"in e}function ja(e){return!!e&&"nullValue"in e}function Ua(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fa(e){return!!e&&"mapValue"in e}function Va(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[wa])||void 0===t?void 0:t.stringValue)===ka}function za(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=za(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=za(e.arrayValue.values[n]);return t}return c({},e)}function Ba(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ea}class Ha{constructor(e){this.value=e}static empty(){return new Ha({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(t)}setAll(e){let t=Wo.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=za(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ha(za(this.value))}}function qa(e){const t=[];return Xs(e.fields,(e,n)=>{const r=new Wo([e]);if(Fa(n)){const e=qa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new ra(t)}class Wa{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Wa(e,0,is.min(),is.min(),is.min(),Ha.empty(),0)}static newFoundDocument(e,t,n,r){return new Wa(e,1,t,is.min(),n,r,0)}static newNoDocument(e,t){return new Wa(e,2,t,is.min(),is.min(),Ha.empty(),0)}static newUnknownDocument(e,t){return new Wa(e,3,t,is.min(),is.min(),Ha.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(is.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ha.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ha.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=is.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ka{constructor(e,t){this.position=e,this.inclusive=t}}function Ga(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ko.comparator(Ko.fromName(s.referenceValue),n.key):xa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Qa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ta(e.position[n],t.position[n]))return!1;return!0}class Ya{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xa(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ja{}class Za extends Ja{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new sl(e,t,n):"array-contains"===t?new ul(e,n):"in"===t?new hl(e,n):"not-in"===t?new dl(e,n):"array-contains-any"===t?new fl(e,n):new Za(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new al(e,n):new ll(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(xa(t,this.value)):null!==t&&Ca(this.value)===Ca(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $a extends Ja{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new $a(e,t)}matches(e){return el(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function el(e){return"and"===e.op}function tl(e){return nl(e)&&el(e)}function nl(e){for(const t of e.filters)if(t instanceof $a)return!1;return!0}function rl(e){if(e instanceof Za)return e.field.canonicalString()+e.op.toString()+Oa(e.value);if(tl(e))return e.filters.map(e=>rl(e)).join(",");{const t=e.filters.map(e=>rl(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function il(e,t){return e instanceof Za?function(e,t){return t instanceof Za&&e.op===t.op&&e.field.isEqual(t.field)&&Ta(e.value,t.value)}(e,t):e instanceof $a?function(e,t){return t instanceof $a&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&il(n,t.filters[r]),!0)}(e,t):void yo(19439)}function ol(e){return e instanceof Za?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Oa(e.value))}(e):e instanceof $a?function(e){return e.op.toString()+" {"+e.getFilters().map(ol).join(" ,")+"}"}(e):"Filter"}class sl extends Za{constructor(e,t,n){super(e,t,n),this.key=Ko.fromName(n.referenceValue)}matches(e){const t=Ko.comparator(e.key,this.key);return this.matchesComparison(t)}}class al extends Za{constructor(e,t){super(e,"in",t),this.keys=cl("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ll extends Za{constructor(e,t){super(e,"not-in",t),this.keys=cl("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ko.fromName(e.referenceValue))}class ul extends Za{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ra(t)&&Ia(t.arrayValue,this.value)}}class hl extends Za{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ia(this.value.arrayValue,t)}}class dl extends Za{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ia(this.value.arrayValue,t)}}class fl extends Za{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ra(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ia(this.value.arrayValue,e))}}class pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function gl(e){return new pl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ml(e){const t=Eo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>rl(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),bs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Oa(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Oa(e)).join(",")),t.Te=e}return t.Te}function vl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xa(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!il(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qa(e.startAt,t.startAt)&&Qa(e.endAt,t.endAt)}function yl(e){return Ko.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wl(e,t,n,r,i,o,s,a){return new bl(e,t,n,r,i,o,s,a)}function El(e){return new bl(e)}function _l(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kl(e){return null!==e.collectionGroup}function Sl(e){const t=Eo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ta(Wo.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ya(r,n))}),e.has(Wo.keyField().canonicalString())||t.Ie.push(new Ya(Wo.keyField(),n))}return t.Ie}function Cl(e){const t=Eo(e);return t.Ee||(t.Ee=Tl(t,Sl(e))),t.Ee}function Tl(e,t){if("F"===e.limitType)return gl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ya(e.field,t)});const n=e.endAt?new Ka(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ka(e.startAt.position,e.startAt.inclusive):null;return gl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Il(e,t){const n=e.filters.concat([t]);return new bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xl(e,t,n){return new bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ll(e,t){return vl(Cl(e),Cl(t))&&e.limitType===t.limitType}function Pl(e){return"".concat(ml(Cl(e)),"|lt:").concat(e.limitType)}function Ol(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ol(e)).join(", "),"]")),bs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Oa(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Oa(e)).join(",")),"Target(".concat(t,")")}(Cl(e)),"; limitType=").concat(e.limitType,")")}function Nl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ko.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ga(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ga(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sl(e),t))}(e,t)}function Al(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ml(e){return(t,n)=>{let r=!1;for(const i of Sl(e)){const e=Dl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Dl(e,t,n){const r=e.field.isKeyField()?Ko.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xa(r,i):yo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yo(19790,{direction:e.dir})}}class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Js(this.inner)}size(){return this.innerSize}}const jl=new Zs(Ko.comparator);function Ul(){return jl}const Fl=new Zs(Ko.comparator);function Vl(){let e=Fl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function zl(e){let t=Fl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bl(){return ql()}function Hl(){return ql()}function ql(){return new Rl(e=>e.toString(),(e,t)=>e.isEqual(t))}const Wl=new Zs(Ko.comparator),Kl=new ta(Ko.comparator);function Gl(){let e=Kl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ql=new ta(Do);function Yl(){return Ql}function Xl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ws(t)?"-0":t}}function Jl(e){return{integerValue:""+e}}function Zl(e,t){return Es(t)?Jl(t):Xl(e,t)}class $l{constructor(){this._=void 0}}function ec(e,t,n){return e instanceof rc?function(e,t){const n={fields:{[ha]:{stringValue:ua},[fa]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pa(t)&&(t=ga(t)),t&&(n.fields[da]=t),{mapValue:n}}(n,t):e instanceof ic?oc(e,t):e instanceof sc?ac(e,t):function(e,t){const n=nc(e,t),r=cc(n)+cc(e.Ae);return Da(n)&&Da(e.Ae)?Jl(r):Xl(e.serializer,r)}(e,t)}function tc(e,t,n){return e instanceof ic?oc(e,t):e instanceof sc?ac(e,t):n}function nc(e,t){return e instanceof lc?function(e){return Da(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class rc extends $l{}class ic extends $l{constructor(e){super(),this.elements=e}}function oc(e,t){const n=uc(t);for(const r of e.elements)n.some(e=>Ta(e,r))||n.push(r);return{arrayValue:{values:n}}}class sc extends $l{constructor(e){super(),this.elements=e}}function ac(e,t){let n=uc(t);for(const r of e.elements)n=n.filter(e=>!Ta(e,r));return{arrayValue:{values:n}}}class lc extends $l{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function cc(e){return la(e.integerValue||e.doubleValue)}function uc(e){return Ra(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hc{constructor(e,t){this.field=e,this.transform=t}}class dc{constructor(e,t){this.version=e,this.transformResults=t}}class fc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fc}static exists(e){return new fc(void 0,e)}static updateTime(e){return new fc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gc{}function mc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Tc(e.key,fc.none()):new Ec(e.key,e.data,fc.none());{const n=e.data,r=Ha.empty();let i=new ta(Wo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new _c(e.key,r,new ra(i.toArray()),fc.none())}}function vc(e,t,n){e instanceof Ec?function(e,t,n){const r=e.value.clone(),i=Sc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _c?function(e,t,n){if(!pc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Sc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yc(e,t,n,r){return e instanceof Ec?function(e,t,n,r){if(!pc(e.precondition,t))return n;const i=e.value.clone(),o=Cc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _c?function(e,t,n,r){if(!pc(e.precondition,t))return n;const i=Cc(e.fieldTransforms,r,t),o=t.data;return o.setAll(kc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return pc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nc(r.transform,e||null);null!=i&&(null===n&&(n=Ha.empty()),n.set(r.field,i))}return n||null}function wc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vo(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ic&&t instanceof ic||e instanceof sc&&t instanceof sc?Vo(e.elements,t.elements,Ta):e instanceof lc&&t instanceof lc?Ta(e.Ae,t.Ae):e instanceof rc&&t instanceof rc}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ec extends gc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _c extends gc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Sc(e,t,n){const r=new Map;wo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,tc(s,a,n[i]))}return r}function Cc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ec(e,o,t))}return r}class Tc extends gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ic extends gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&vc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hl();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=mc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(is.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gl())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(e,t)=>wc(e,t))&&Vo(this.baseMutations,e.baseMutations,(e,t)=>wc(e,t))}}class Lc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Wl;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Lc(e,t,n,r)}}class Pc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Oc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Nc,Ac;function Mc(e){switch(e){case _o.OK:return yo(64938);case _o.CANCELLED:case _o.UNKNOWN:case _o.DEADLINE_EXCEEDED:case _o.RESOURCE_EXHAUSTED:case _o.INTERNAL:case _o.UNAVAILABLE:case _o.UNAUTHENTICATED:return!1;case _o.INVALID_ARGUMENT:case _o.NOT_FOUND:case _o.ALREADY_EXISTS:case _o.PERMISSION_DENIED:case _o.FAILED_PRECONDITION:case _o.ABORTED:case _o.OUT_OF_RANGE:case _o.UNIMPLEMENTED:case _o.DATA_LOSS:return!0;default:return yo(15467,{code:e})}}function Dc(e){if(void 0===e)return go("GRPC error has no .code"),_o.UNKNOWN;switch(e){case Nc.OK:return _o.OK;case Nc.CANCELLED:return _o.CANCELLED;case Nc.UNKNOWN:return _o.UNKNOWN;case Nc.DEADLINE_EXCEEDED:return _o.DEADLINE_EXCEEDED;case Nc.RESOURCE_EXHAUSTED:return _o.RESOURCE_EXHAUSTED;case Nc.INTERNAL:return _o.INTERNAL;case Nc.UNAVAILABLE:return _o.UNAVAILABLE;case Nc.UNAUTHENTICATED:return _o.UNAUTHENTICATED;case Nc.INVALID_ARGUMENT:return _o.INVALID_ARGUMENT;case Nc.NOT_FOUND:return _o.NOT_FOUND;case Nc.ALREADY_EXISTS:return _o.ALREADY_EXISTS;case Nc.PERMISSION_DENIED:return _o.PERMISSION_DENIED;case Nc.FAILED_PRECONDITION:return _o.FAILED_PRECONDITION;case Nc.ABORTED:return _o.ABORTED;case Nc.OUT_OF_RANGE:return _o.OUT_OF_RANGE;case Nc.UNIMPLEMENTED:return _o.UNIMPLEMENTED;case Nc.DATA_LOSS:return _o.DATA_LOSS;default:return yo(39323,{code:e})}}(Ac=Nc||(Nc={}))[Ac.OK=0]="OK",Ac[Ac.CANCELLED=1]="CANCELLED",Ac[Ac.UNKNOWN=2]="UNKNOWN",Ac[Ac.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ac[Ac.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ac[Ac.NOT_FOUND=5]="NOT_FOUND",Ac[Ac.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ac[Ac.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ac[Ac.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ac[Ac.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ac[Ac.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ac[Ac.ABORTED=10]="ABORTED",Ac[Ac.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ac[Ac.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ac[Ac.INTERNAL=13]="INTERNAL",Ac[Ac.UNAVAILABLE=14]="UNAVAILABLE",Ac[Ac.DATA_LOSS=15]="DATA_LOSS";let Rc=null;function jc(){return new TextEncoder}const Uc=new Gi([4294967295,4294967295],0);function Fc(e){const t=jc().encode(e),n=new Qi;return n.update(t),new Uint8Array(n.digest())}function Vc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,o],0)]}class zc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bc("Invalid padding: ".concat(t));if(n<0)throw new Bc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Bc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Bc("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Gi.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Gi.fromNumber(n)));return 1===r.compare(Uc)&&(r=new Gi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Fc(e),[n,r]=Vc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zc(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=Fc(e),[n,r]=Vc(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hc(is.min(),r,new Zs(Do),Ul(),Gl())}}class qc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qc(n,t,Gl(),Gl(),Gl())}}class Wc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Kc{constructor(e,t){this.targetId=e,this.Ce=t}}class Gc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oa.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qc{constructor(){this.ve=0,this.Fe=Jc(),this.Me=oa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gl(),t=Gl(),n=Gl();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yo(38017,{changeType:i})}}),new qc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Jc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yc{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ul(),this.Je=Xc(),this.He=Xc(),this.Ye=new Zs(Do)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:yo(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(yl(o))if(0===n){const e=new Ko(o.path);this.et(t,e,Wa.newNoDocument(e,is.min()))}else wo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Rc)||void 0===i||i.lt(function(e,t,n,r,i,o,s,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===h||void 0===h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=ca(n).toUint8Array()}catch(e){if(e instanceof ia)return mo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new zc(o,r,i)}catch(e){return mo(e instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&yl(i.target)){const t=new Ko(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Wa.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Gl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Hc(e,t,this.Ye,this.je,n);return this.je=Ul(),this.Je=Xc(),this.He=Xc(),this.Ye=new Zs(Do),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Qc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ta(Do),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ta(Do),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||po("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new Zs(Ko.comparator)}function Jc(){return new Zs(Ko.comparator)}const Zc={asc:"ASCENDING",desc:"DESCENDING"},$c={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eu={and:"AND",or:"OR"};class tu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nu(e,t){return e.useProto3Json||bs(t)?t:{value:t}}function ru(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function iu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ou(e,t){return ru(e,t.toTimestamp())}function su(e){return wo(!!e,49232),is.fromTimestamp(function(e){const t=aa(e);return new rs(t.seconds,t.nanos)}(e))}function au(e,t){return lu(e,t).canonicalString()}function lu(e,t){const n=function(e){return new Ho(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cu(e){const t=Ho.fromString(e);return wo(Lu(t),10190,{key:t.toString()}),t}function uu(e,t){return au(e.databaseId,t.path)}function hu(e,t){const n=cu(t);if(n.get(1)!==e.databaseId.projectId)throw new ko(_o.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ko(_o.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ko(gu(n))}function du(e,t){return au(e.databaseId,t)}function fu(e){const t=cu(e);return 4===t.length?Ho.emptyPath():gu(t)}function pu(e){return new Ho(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gu(e){return wo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mu(e,t,n){return{name:uu(e,t),fields:n.value.mapValue.fields}}function vu(e,t){let n;if(t instanceof Ec)n={update:mu(e,t.key,t.value)};else if(t instanceof Tc)n={delete:uu(e,t.key)};else if(t instanceof _c)n={update:mu(e,t.key,t.data),updateMask:xu(t.fieldMask)};else{if(!(t instanceof Ic))return yo(16599,{Vt:t.type});n={verify:uu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof rc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ic)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw yo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ou(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yo(27497)}(e,t.precondition)),n}function yu(e,t){return{documents:[du(e,t.path)]}}function bu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=du(e,i);const o=function(e){if(0!==e.length)return Iu($a.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Cu(e.field),direction:_u(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=nu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function wu(e){let t=fu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){wo(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Eu(e);return t instanceof $a&&tl(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Ya(Tu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,bs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ka(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ka(n,t)}(n.endAt)),wl(t,i,s,o,a,"F",l,c)}function Eu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Tu(e.unaryFilter.field);return Za.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Tu(e.unaryFilter.field);return Za.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tu(e.unaryFilter.field);return Za.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tu(e.unaryFilter.field);return Za.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yo(61313);default:return yo(60726)}}(e):void 0!==e.fieldFilter?function(e){return Za.create(Tu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yo(58110);default:return yo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $a.create(e.compositeFilter.filters.map(e=>Eu(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yo(1026)}}(e.compositeFilter.op))}(e):yo(30097,{filter:e})}function _u(e){return Zc[e]}function ku(e){return $c[e]}function Su(e){return eu[e]}function Cu(e){return{fieldPath:e.canonicalString()}}function Tu(e){return Wo.fromServerFormat(e.fieldPath)}function Iu(e){return e instanceof Za?function(e){if("=="===e.op){if(Ua(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NAN"}};if(ja(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ua(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NAN"}};if(ja(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(e.field),op:ku(e.op),value:e.value}}}(e):e instanceof $a?function(e){const t=e.getFilters().map(e=>Iu(e));return 1===t.length?t[0]:{compositeFilter:{op:Su(e.op),filters:t}}}(e):yo(54877,{filter:e})}function xu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Lu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Pu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:is.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:is.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:oa.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ou{constructor(e){this.yt=e}}function Nu(e){const t=wu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xl(t,t.limit,"L"):t}class Au{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(la(e.integerValue));else if("doubleValue"in e){const n=la(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),ws(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=aa(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ca(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ba(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Va(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):yo(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Sa,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(la(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ko.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Au.Kt=new Au;class Mu{constructor(){this.Cn=new Du}addToCollectionParentIndex(e,t){return this.Cn.add(t),ps.resolve()}getCollectionParents(e,t){return ps.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ps.resolve()}deleteFieldIndex(e,t){return ps.resolve()}deleteAllFieldIndexes(e){return ps.resolve()}createTargetIndexes(e,t){return ps.resolve()}getDocumentsMatchingTarget(e,t){return ps.resolve(null)}getIndexType(e,t){return ps.resolve(0)}getFieldIndexes(e,t){return ps.resolve([])}getNextCollectionGroupToUpdate(e){return ps.resolve(null)}getMinOffset(e,t){return ps.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,t){return ps.resolve(cs.min())}updateCollectionGroup(e,t,n){return ps.resolve()}updateIndexEntries(e,t){return ps.resolve()}}class Du{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ta(Ho.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ta(Ho.comparator)).toArray()}}new Uint8Array(0);const Ru={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ju=41943040;class Uu{static withCacheSize(e){return new Uu(e,Uu.DEFAULT_COLLECTION_PERCENTILE,Uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Uu.DEFAULT_COLLECTION_PERCENTILE=10,Uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uu.DEFAULT=new Uu(ju,Uu.DEFAULT_COLLECTION_PERCENTILE,Uu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uu.DISABLED=new Uu(-1,0,0);class Fu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fu(0)}static cr(){return new Fu(-1)}}const Vu="LruGarbageCollector",zu=1048576;function Bu(e,t){let[n,r]=e,[i,o]=t;const s=Do(n,i);return 0===s?Do(r,o):s}class Hu{constructor(e){this.Ir=e,this.buffer=new ta(Bu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Bu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){po(Vu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ms(e)?po(Vu,"Ignoring IndexedDB error during garbage collection: ",e):await fs(e)}await this.Vr(3e5)})}}class Wu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ps.resolve(vs.ce);const n=new Hu(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(po("LruGarbageCollector","Garbage collection skipped; disabled"),ps.resolve(Ru)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(po("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ru):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(po("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),fo()<=G.DEBUG&&po("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ps.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Ku(e,t){return new Wu(e,t)}class Gu{constructor(){this.changes=new Rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ps.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Yu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&yc(n.mutation,e,ra.empty(),rs.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Gl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gl();const r=Bl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Vl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Bl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Gl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Ul();const o=ql(),s=ql();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof _c)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),yc(s.mutation,t,s.mutation.getFieldMask(),rs.now())):o.set(t.key,ra.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Qu(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=ql();let r=new Zs((e,t)=>e-t),i=Gl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ra.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Gl()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Hl();l.forEach(e=>{if(!i.has(e)){const r=mc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ps.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ko.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ps.resolve(Bl());let s=os,a=i;return o.next(t=>ps.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ps.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Gl())).next(e=>({batchId:s,changes:zl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ko(t)).next(e=>{let t=Vl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Vl();return this.indexManager.getCollectionParents(e,i).next(s=>ps.forEach(s,s=>{const a=function(e,t){return new bl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wa.newInvalidDocument(r)))});let n=Vl();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&yc(o.mutation,r,ra.empty(),rs.now()),Nl(t,r)&&(n=n.insert(e,r))}),n})}}class Xu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ps.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:su(e.createTime)}}(t)),ps.resolve()}getNamedQuery(e,t){return ps.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Nu(e.bundledQuery),readTime:su(e.readTime)}}(t)),ps.resolve()}}class Ju{constructor(){this.overlays=new Zs(Ko.comparator),this.qr=new Map}getOverlay(e,t){return ps.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bl();return ps.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ps.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ps.resolve()}getOverlaysForCollection(e,t,n){const r=Bl(),i=t.length+1,o=new Ko(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ps.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Zs((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Bl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Bl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return ps.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pc(t,n));let i=this.qr.get(t);void 0===i&&(i=Gl(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Zu{constructor(){this.sessionToken=oa.EMPTY_BYTE_STRING}getSessionToken(e){return ps.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ps.resolve()}}class $u{constructor(){this.Qr=new ta(eh.$r),this.Ur=new ta(eh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new eh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new eh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ko(new Ho([])),n=new eh(t,e),r=new eh(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ko(new Ho([])),n=new eh(t,e),r=new eh(t,e+1);let i=Gl();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new eh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class eh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ko.comparator(e.key,t.key)||Do(e.Yr,t.Yr)}static Kr(e,t){return Do(e.Yr,t.Yr)||Ko.comparator(e.key,t.key)}}class th{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ta(eh.$r)}checkEmpty(e){return ps.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xc(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new eh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ps.resolve(o)}lookupMutationBatch(e,t){return ps.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return ps.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ps.resolve(0===this.mutationQueue.length?ys:this.tr-1)}getAllMutationBatches(e){return ps.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new eh(t,0),r=new eh(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),ps.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ta(Do);return t.forEach(e=>{const t=new eh(e,0),r=new eh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ps.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ko.isDocumentKey(i)||(i=i.child(""));const o=new eh(new Ko(i),0);let s=new ta(Do);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),ps.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){wo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ps.forEach(t.mutations,r=>{const i=new eh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new eh(t,0),r=this.Zr.firstAfterOrEqual(n);return ps.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ps.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nh{constructor(e){this.ri=e,this.docs=new Zs(Ko.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ps.resolve(n?n.document.mutableCopy():Wa.newInvalidDocument(t))}getEntries(e,t){let n=Ul();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Wa.newInvalidDocument(e))}),ps.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ul();const o=t.path,s=new Ko(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||us(ls(s),n)<=0||(r.has(s.key)||Nl(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ps.resolve(i)}getAllFromCollectionGroup(e,t,n,r){yo(9500)}ii(e,t){return ps.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new rh(this)}getSize(e){return ps.resolve(this.size)}}class rh extends Gu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ps.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ih{constructor(e){this.persistence=e,this.si=new Rl(e=>ml(e),vl),this.lastRemoteSnapshotVersion=is.min(),this.highestTargetId=0,this.oi=0,this._i=new $u,this.targetCount=0,this.ai=Fu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ps.resolve()}getLastRemoteSnapshotVersion(e){return ps.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ps.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ps.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ps.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ps.resolve()}updateTargetData(e,t){return this.Pr(t),ps.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ps.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),ps.waitFor(i).next(()=>r)}getTargetCount(e){return ps.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ps.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ps.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ps.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ps.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ps.resolve(n)}containsKey(e,t){return ps.resolve(this._i.containsKey(t))}}class oh{constructor(e,t){this.ui={},this.overlays={},this.ci=new vs(0),this.li=!1,this.li=!0,this.hi=new Zu,this.referenceDelegate=e(this),this.Pi=new ih(this),this.indexManager=new Mu,this.remoteDocumentCache=function(e){return new nh(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Ou(t),this.Ii=new Xu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ju,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new th(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){po("MemoryPersistence","Starting transaction:",e);const r=new sh(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ps.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class sh extends ds{constructor(e){super(),this.currentSequenceNumber=e}}class ah{constructor(e){this.persistence=e,this.Ri=new $u,this.Vi=null}static mi(e){return new ah(e)}get fi(){if(this.Vi)return this.Vi;throw yo(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ps.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ps.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ps.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ps.forEach(this.fi,n=>{const r=Ko.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,is.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ps.or([()=>ps.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.pi=new Rl(e=>ks(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ku(this,t)}static mi(e,t){return new lh(e,t)}Ei(){}di(e){return ps.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ps.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ps.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,is.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ps.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ps.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ps.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ps.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Aa(e.data.value)),t}br(e,t,n){return ps.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ps.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ch{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Gl(),r=Gl();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ch(e,t.fromCache,n,r)}}class uh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hh{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=x()?8:gs(T())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new uh;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(fo()<=G.DEBUG&&po("QueryEngine","SDK will not create cache indexes for query:",Ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ps.resolve()):(fo()<=G.DEBUG&&po("QueryEngine","Query:",Ol(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(fo()<=G.DEBUG&&po("QueryEngine","The SDK decides to create cache indexes for query:",Ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cl(t))):ps.resolve())}ys(e,t){if(_l(t))return ps.resolve(null);let n=Cl(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=xl(t,null,"F"),n=Cl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Gl(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,xl(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return _l(t)||r.isEqual(is.min())?ps.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?ps.resolve(null):(fo()<=G.DEBUG&&po("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ol(t)),this.vs(e,o,t,as(r,os)).next(e=>e))})}Ds(e,t){let n=new ta(Ml(e));return t.forEach((t,r)=>{Nl(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return fo()<=G.DEBUG&&po("QueryEngine","Using full collection scan to execute query:",Ol(t)),this.ps.getDocumentsMatchingQuery(e,t,cs.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const dh="LocalStore";class fh{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Zs(Do),this.xs=new Rl(e=>ml(e),vl),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ph(e,t,n,r){return new fh(e,t,n,r)}async function gh(e,t){const n=Eo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Gl();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function mh(e){const t=Eo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function vh(e,t,n){let r=Gl(),i=Gl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ul();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(is.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):po(dh,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function yh(e,t){const n=Eo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ys),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function bh(e,t){const n=Eo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,ps.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Pu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function wh(e,t,n){const r=Eo(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!ms(e))throw e;po(dh,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Eh(e,t,n){const r=Eo(e);let i=is.min(),o=Gl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Eo(e),i=r.xs.get(n);return void 0!==i?ps.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Cl(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:is.min(),n?o:Gl())).next(e=>(_h(r,Al(t),e),{documents:e,Qs:o})))}function _h(e,t,n){let r=e.Os.get(t)||is.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class kh{constructor(){this.activeTargetIds=Yl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sh{constructor(){this.Mo=new kh,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ch{Oo(e){}shutdown(){}}const Th="ConnectivityMonitor";class Ih{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){po(Th,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){po(Th,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xh=null;function Lh(){return null===xh?xh=268435456+Math.round(2147483648*Math.random()):xh++,"0x"+xh.toString(16)}const Ph="RestConnection",Oh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nh{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ya?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Lh(),s=this.zo(e,t.toUriEncodedString());po(Ph,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=E(l);return this.Jo(e,s,a,n,c).then(t=>(po(Ph,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw mo(Ph,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Oh[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ah{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Mh="WebChannelConnection";class Dh extends Nh{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Lh();return new Promise((i,s)=>{const a=new Ji;a.setWithCredentials(!0),a.listenOnce($i.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case eo.NO_ERROR:const n=a.getResponseJson();po(Mh,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case eo.TIMEOUT:po(Mh,"RPC '".concat(e,"' ").concat(o," timed out")),s(new ko(_o.DEADLINE_EXCEEDED,"Request time out"));break;case eo.HTTP_ERROR:const r=a.getStatus();if(po(Mh,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_o).indexOf(t)>=0?t:_o.UNKNOWN}(n.status);s(new ko(e,n.message))}else s(new ko(_o.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ko(_o.UNAVAILABLE,"Connection failed."));break;default:yo(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{po(Mh,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);po(Mh,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Lh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=io(),s=ro(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");po(Mh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let h=!1,d=!1;const f=new Ah({Yo:t=>{d?po(Mh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(po(Mh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),po(Mh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Zi.EventType.OPEN,()=>{d||(po(Mh,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Zi.EventType.CLOSE,()=>{d||(d=!0,po(Mh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Zi.EventType.ERROR,t=>{d||(d=!0,mo(Mh,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ko(_o.UNAVAILABLE,"The operation could not be completed")))}),p(u,Zi.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];wo(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){po(Mh,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Nc[e];if(void 0!==t)return Dc(t)}(t),i=s.message;void 0===n&&(n=_o.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.a_(new ko(n,i)),u.close()}else po(Mh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,no.STAT_EVENT,t=>{t.stat===to.PROXY?po(Mh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===to.NOPROXY&&po(Mh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Rh(){return"undefined"!=typeof document?document:null}function jh(e){return new tu(e,!0)}class Uh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&po("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Fh="PersistentStream";class Vh{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uh(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===_o.RESOURCE_EXHAUSTED?(go(t.toString()),go("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===_o.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new ko(_o.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return po(Fh,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(po(Fh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zh extends Vh{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(wo(void 0===t||"string"==typeof t,58123),oa.fromBase64String(t||"")):(wo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),oa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?_o.UNKNOWN:Dc(e.code);return new ko(t,e.message||"")}(s);n=new Gc(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=hu(e,r.document.name),o=su(r.document.updateTime),s=r.document.createTime?su(r.document.createTime):is.min(),a=new Ha({mapValue:{fields:r.document.fields}}),l=Wa.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Wc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=hu(e,r.document),o=r.readTime?su(r.readTime):is.min(),s=Wa.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=hu(e,r.document),o=r.removedTargetIds||[];n=new Wc([],o,i,null)}else{if(!("filter"in t))return yo(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Oc(r,i),s=e.targetId;n=new Kc(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return is.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?is.min():t.readTime?su(t.readTime):is.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=pu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=yl(r)?{documents:yu(e,r)}:{query:bu(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iu(e,t.resumeToken);const r=nu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(is.min())>0){n.readTime=ru(e,t.snapshotVersion.toTimestamp());const r=nu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=pu(this.serializer),t.removeTarget=e,this.q_(t)}}class Bh extends Vh{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){wo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(wo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?su(e.updateTime):su(t);return n.isEqual(is.min())&&(n=su(t)),new dc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=su(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=pu(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>vu(this.serializer,e))};this.q_(t)}}class Hh{}class qh extends Hh{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ko(_o.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,lu(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===_o.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(_o.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,lu(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===_o.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ko(_o.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Wh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(go(t),this.aa=!1):po("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Kh="RemoteStore";class Gh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{nd(this)&&(po(Kh,"Restarting streams for network reachability change."),await async function(e){const t=Eo(e);t.Ea.add(4),await Yh(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Qh(t)}(this))})}),this.Ra=new Wh(n,r)}}async function Qh(e){if(nd(e))for(const t of e.da)await t(!0)}async function Yh(e){for(const t of e.da)await t(!1)}function Xh(e,t){const n=Eo(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),td(n)?ed(n):Ed(n).O_()&&Zh(n,t))}function Jh(e,t){const n=Eo(e),r=Ed(n);n.Ia.delete(t),r.O_()&&$h(n,t),0===n.Ia.size&&(r.O_()?r.L_():nd(n)&&n.Ra.set("Unknown"))}function Zh(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(is.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ed(e).Y_(t)}function $h(e,t){e.Va.Ue(t),Ed(e).Z_(t)}function ed(e){e.Va=new Yc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ed(e).start(),e.Ra.ua()}function td(e){return nd(e)&&!Ed(e).x_()&&e.Ia.size>0}function nd(e){return 0===Eo(e).Ea.size}function rd(e){e.Va=void 0}async function id(e){e.Ra.set("Online")}async function od(e){e.Ia.forEach((t,n)=>{Zh(e,t)})}async function sd(e,t){rd(e),td(e)?(e.Ra.ha(t),ed(e)):e.Ra.set("Unknown")}async function ad(e,t,n){if(e.Ra.set("Online"),t instanceof Gc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){po(Kh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ld(e,n)}else if(t instanceof Wc?e.Va.Ze(t):t instanceof Kc?e.Va.st(t):e.Va.tt(t),!n.isEqual(is.min()))try{const t=await mh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(oa.EMPTY_BYTE_STRING,r.snapshotVersion)),$h(e,t);const i=new Pu(r.target,t,n,r.sequenceNumber);Zh(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){po(Kh,"Failed to raise snapshot:",t),await ld(e,t)}}async function ld(e,t,n){if(!ms(t))throw t;e.Ea.add(1),await Yh(e),e.Ra.set("Offline"),n||(n=()=>mh(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{po(Kh,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Qh(e)})}function cd(e,t){return t().catch(n=>ld(e,n,t))}async function ud(e){const t=Eo(e),n=_d(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ys;for(;hd(t);)try{const e=await yh(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,dd(t,e)}catch(e){await ld(t,e)}fd(t)&&pd(t)}function hd(e){return nd(e)&&e.Ta.length<10}function dd(e,t){e.Ta.push(t);const n=_d(e);n.O_()&&n.X_&&n.ea(t.mutations)}function fd(e){return nd(e)&&!_d(e).x_()&&e.Ta.length>0}function pd(e){_d(e).start()}async function gd(e){_d(e).ra()}async function md(e){const t=_d(e);for(const n of e.Ta)t.ea(n.mutations)}async function vd(e,t,n){const r=e.Ta.shift(),i=Lc.from(r,t,n);await cd(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ud(e)}async function yd(e,t){t&&_d(e).X_&&await async function(e,t){if(function(e){return Mc(e)&&e!==_o.ABORTED}(t.code)){const n=e.Ta.shift();_d(e).B_(),await cd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ud(e)}}(e,t),fd(e)&&pd(e)}async function bd(e,t){const n=Eo(e);n.asyncQueue.verifyOperationInProgress(),po(Kh,"RemoteStore received new credentials");const r=nd(n);n.Ea.add(3),await Yh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Qh(n)}async function wd(e,t){const n=Eo(e);t?(n.Ea.delete(2),await Qh(n)):t||(n.Ea.add(2),await Yh(n),n.Ra.set("Unknown"))}function Ed(e){return e.ma||(e.ma=function(e,t,n){const r=Eo(e);return r.sa(),new zh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:id.bind(null,e),t_:od.bind(null,e),r_:sd.bind(null,e),H_:ad.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),td(e)?ed(e):e.Ra.set("Unknown")):(await e.ma.stop(),rd(e))})),e.ma}function _d(e){return e.fa||(e.fa=function(e,t,n){const r=Eo(e);return r.sa(),new Bh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gd.bind(null,e),r_:yd.bind(null,e),ta:md.bind(null,e),na:vd.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ud(e)):(await e.fa.stop(),e.Ta.length>0&&(po(Kh,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class kd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new kd(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ko(_o.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(e,t){if(go("AsyncQueue","".concat(t,": ").concat(e)),ms(e))return new ko(_o.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Cd{static emptySet(e){return new Cd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ko.comparator(t.key,n.key):(e,t)=>Ko.comparator(e.key,t.key),this.keyedMap=Vl(),this.sortedSet=new Zs(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Td{constructor(){this.ga=new Zs(Ko.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):yo(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Id{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Id(e,t,Cd.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ld{constructor(){this.queries=Pd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Eo(e),r=n.queries;n.queries=Pd(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ko(_o.ABORTED,"Firestore shutting down"))}}function Pd(){return new Rl(e=>Pl(e),Ll)}async function Od(e,t){const n=Eo(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new xd,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Sd(e,"Initialization of query '".concat(Ol(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Dd(n)}async function Nd(e,t){const n=Eo(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ad(e,t){const n=Eo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Dd(n)}function Md(e,t,n){const r=Eo(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Dd(e){e.Ca.forEach(e=>{e.next()})}var Rd,jd;(jd=Rd||(Rd={})).Ma="default",jd.Cache="cache";class Ud{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Id(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rd.Cache}}class Fd{constructor(e){this.key=e}}class Vd{constructor(e){this.key=e}}class zd{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gl(),this.mutatedKeys=Gl(),this.eu=Ml(e),this.tu=new Cd(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Td,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Nl(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yo(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new Id(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Td,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Gl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Vd(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Fd(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Gl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Id.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Bd="SyncEngine";class Hd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qd{constructor(e){this.key=e,this.hu=!1}}class Wd{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Rl(e=>Pl(e),Ll),this.Iu=new Map,this.Eu=new Set,this.du=new Zs(Ko.comparator),this.Au=new Map,this.Ru=new $u,this.Vu={},this.mu=new Map,this.fu=Fu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Kd(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=pf(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Qd(r,t,n,!0),i}async function Gd(e,t){const n=pf(e);await Qd(n,t,!0,!1)}async function Qd(e,t,n,r){const i=await bh(e.localStore,Cl(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Yd(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Xh(e.remoteStore,i),a}async function Yd(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Eh(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return lf(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await Eh(e.localStore,t,!0),s=new zd(t,o.Qs),a=s.ru(o.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);lf(e,n,c.au);const u=new Hd(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Xd(e,t,n){const r=Eo(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!Ll(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jh(r.remoteStore,i.targetId),sf(r,i.targetId)}).catch(fs)):(sf(r,i.targetId),await wh(r.localStore,i.targetId,!0))}async function Jd(e,t){const n=Eo(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jh(n.remoteStore,r.targetId))}async function Zd(e,t){const n=Eo(e);try{const e=await function(e,t){const n=Eo(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(oa.EMPTY_BYTE_STRING,is.min()).withLastLimboFreeSnapshotVersion(is.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Pi.updateTargetData(e,c))});let a=Ul(),l=Gl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(vh(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(is.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return ps.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(wo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?wo(r.hu,14607):e.removedDocuments.size>0&&(wo(r.hu,42227),r.hu=!1))}),await hf(n,e,t)}catch(e){await fs(e)}}function $d(e,t,n){const r=Eo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Eo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Dd(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ef(e,t,n){const r=Eo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Zs(Ko.comparator);e=e.insert(o,Wa.newNoDocument(o,is.min()));const n=Gl().add(o),i=new Hc(is.min(),new Map,new Zs(Do),e,n);await Zd(r,i),r.du=r.du.remove(o),r.Au.delete(t),uf(r)}else await wh(r.localStore,t,!1).then(()=>sf(r,t,n)).catch(fs)}async function tf(e,t){const n=Eo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Eo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ps.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);wo(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);of(n,r,null),rf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hf(n,e)}catch(e){await fs(e)}}async function nf(e,t,n){const r=Eo(e);try{const e=await function(e,t){const n=Eo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(wo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);of(r,t,n),rf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hf(r,e)}catch(n){await fs(n)}}function rf(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function of(e,t,n){const r=Eo(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||af(e,t)})}function af(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Jh(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),uf(e))}function lf(e,t,n){for(const r of n)r instanceof Fd?(e.Ru.addReference(r.key,t),cf(e,r)):r instanceof Vd?(po(Bd,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||af(e,r.key)):yo(19791,{wu:r})}function cf(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(po(Bd,"New document in limbo: "+n),e.Eu.add(r),uf(e))}function uf(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ko(Ho.fromString(t)),r=e.fu.next();e.Au.set(r,new qd(n)),e.du=e.du.insert(n,r),Xh(e.remoteStore,new Pu(Cl(El(n.path)),r,"TargetPurposeLimboResolution",vs.ce))}}async function hf(e,t,n){const r=Eo(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ch.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=Eo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ps.forEach(t,t=>ps.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ps.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ms(e))throw e;po(dh,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function df(e,t){const n=Eo(e);if(!n.currentUser.isEqual(t)){po(Bd,"User change. New user:",t.toKey());const e=await gh(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ko(_o.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await hf(n,e.Ls)}}function ff(e,t){const n=Eo(e),r=n.Au.get(t);if(r&&r.hu)return Gl().add(r.key);{let e=Gl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function pf(e){const t=Eo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ff.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ef.bind(null,t),t.Pu.H_=Ad.bind(null,t.eventManager),t.Pu.yu=Md.bind(null,t.eventManager),t}function gf(e){const t=Eo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nf.bind(null,t),t}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ph(this.persistence,new hh,e.initialUser,this.serializer)}Cu(e){return new oh(ah.mi,this.serializer)}Du(e){return new Sh}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class vf extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wo(this.persistence.referenceDelegate instanceof lh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new qu(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Uu.withCacheSize(this.cacheSizeBytes):Uu.DEFAULT;return new oh(e=>lh.mi(e,t),this.serializer)}}class yf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>$d(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=df.bind(null,this.syncEngine),await wd(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ld}createDatastore(e){const t=jh(e.databaseInfo.databaseId),n=function(e){return new Dh(e)}(e.databaseInfo);return function(e,t,n,r){return new qh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Gh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>$d(this.syncEngine,e,0),Ih.v()?new Ih:new Ch)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Wd(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Eo(e);po(Kh,"RemoteStore shutting down."),t.Ea.add(5),await Yh(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}yf.provider={build:()=>new yf};class bf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const wf="FirestoreClient";class Ef{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=co.UNAUTHENTICATED,this.clientId=Mo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{po(wf,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(po(wf,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function _f(e,t){e.asyncQueue.verifyOperationInProgress(),po(wf,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await gh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Sf(e);po(wf,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>bd(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>bd(t.remoteStore,n)),e._onlineComponents=t}async function Sf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){po(wf,"Using user provided OfflineComponentProvider");try{await _f(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===_o.FAILED_PRECONDITION||e.code===_o.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await _f(e,new mf)}}else po(wf,"Using default OfflineComponentProvider"),await _f(e,new vf(void 0));return e._offlineComponents}async function Cf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(po(wf,"Using user provided OnlineComponentProvider"),await kf(e,e._uninitializedComponentsProvider._online)):(po(wf,"Using default OnlineComponentProvider"),await kf(e,new yf))),e._onlineComponents}function Tf(e){return Cf(e).then(e=>e.syncEngine)}async function If(e){const t=await Cf(e),n=t.eventManager;return n.onListen=Kd.bind(null,t.syncEngine),n.onUnlisten=Xd.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Jd.bind(null,t.syncEngine),n}function xf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new So;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new bf({next:a=>{o.Nu(),t.enqueueAndForget(()=>Nd(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new ko(_o.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new ko(_o.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Ud(El(n.path),o,{includeMetadataChanges:!0,qa:!0});return Od(e,s)}(await If(e),e.asyncQueue,t,n,r)),r.promise}function Lf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new So;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new bf({next:n=>{o.Nu(),t.enqueueAndForget(()=>Nd(e,s)),n.fromCache&&"server"===r.source?i.reject(new ko(_o.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Ud(n,o,{includeMetadataChanges:!0,qa:!0});return Od(e,s)}(await If(e),e.asyncQueue,t,n,r)),r.promise}function Pf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Of=new Map,Nf="firestore.googleapis.com",Af=!0;class Mf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ko(_o.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nf,this.ssl=Af}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Af;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ju;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<zu)throw new ko(_o.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ko(_o.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ko(_o.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ko(_o.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ko(_o.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ko(_o.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ko(_o.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new To;switch(e.type){case"firstParty":return new Po(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ko(_o.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Of.get(e);t&&(po("ComponentProvider","Removing Datastore"),Of.delete(e),t.terminate())}(this),Promise.resolve()}}function Rf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Zo(e,Df);const i=E(t),o=e._getSettings(),s=c(c({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(_("https://".concat(a)),C("Firestore",!0)),o.host!==Nf&&o.host!==a&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!M(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=co.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ko(_o.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new co(i)}e._authCredentials=new Io(new Co(t,n))}}class jf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jf(this.firestore,e,this._query)}}class Uf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uf(this.firestore,e,this._key)}toJSON(){return{type:Uf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(es(t,Uf._jsonSchema))return new Uf(e,n||null,new Ko(Ho.fromString(t.referencePath)))}}Uf._jsonSchemaVersion="firestore/documentReference/1.0",Uf._jsonSchema={type:$o("string",Uf._jsonSchemaVersion),referencePath:$o("string")};class Ff extends jf{constructor(e,t,n){super(e,t,El(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uf(this.firestore,null,new Ko(e))}withConverter(e){return new Ff(this.firestore,e,this._path)}}function Vf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),Go("collection","path",t),e instanceof Df){const n=Ho.fromString(t,...r);return Yo(n),new Ff(e,null,n)}{if(!(e instanceof Uf||e instanceof Ff))throw new ko(_o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ho.fromString(t,...r));return Yo(n),new Ff(e.firestore,null,n)}}function zf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),1===arguments.length&&(t=Mo.newId()),Go("doc","path",t),e instanceof Df){const n=Ho.fromString(t,...r);return Qo(n),new Uf(e,null,new Ko(n))}{if(!(e instanceof Uf||e instanceof Ff))throw new ko(_o.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ho.fromString(t,...r));return Qo(n),new Uf(e.firestore,e instanceof Ff?e.converter:null,new Ko(n))}}const Bf="AsyncQueue";class Hf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uh(this,"async_queue_retry"),this._c=()=>{const e=Rh();e&&po(Bf,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Rh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new So;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ms(e))throw e;po(Bf,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,go("INTERNAL UNHANDLED ERROR: ",qf(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=kd.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&yo(47125,{Pc:qf(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qf(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Wf extends Df{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hf,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hf(e),this._firestoreClient=void 0,await e}}}function Kf(e){if(e._terminated)throw new ko(_o.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gf(e),e._firestoreClient}function Gf(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new va(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Pf(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ef(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Qf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qf(oa.fromBase64String(e))}catch(e){throw new ko(_o.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Qf(oa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qf._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(es(e,Qf._jsonSchema))return Qf.fromBase64String(e.bytes)}}Qf._jsonSchemaVersion="firestore/bytes/1.0",Qf._jsonSchema={type:$o("string",Qf._jsonSchemaVersion),bytes:$o("string")};class Yf{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ko(_o.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._methodName=e}}class Jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ko(_o.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ko(_o.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Do(this._lat,e._lat)||Do(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jf._jsonSchemaVersion}}static fromJSON(e){if(es(e,Jf._jsonSchema))return new Jf(e.latitude,e.longitude)}}Jf._jsonSchemaVersion="firestore/geoPoint/1.0",Jf._jsonSchema={type:$o("string",Jf._jsonSchemaVersion),latitude:$o("number"),longitude:$o("number")};class Zf{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(es(e,Zf._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Zf(e.vectorValues);throw new ko(_o.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zf._jsonSchemaVersion="firestore/vectorValue/1.0",Zf._jsonSchema={type:$o("string",Zf._jsonSchemaVersion),vectorValues:$o("object")};const $f=/^__.*__$/;class ep{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function np(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yo(40011,{Ac:e})}}class rp{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rp(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _p(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(np(this.Ac)&&$f.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ip{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jh(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rp({Ac:e,methodName:t,Dc:n,path:Wo.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(e){const t=e._freezeSettings(),n=jh(e._databaseId);return new ip(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sp(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);yp("Data must be an object, but it was:",s,r);const a=mp(r,s);let l,c;if(o.merge)l=new ra(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=bp(t,r,n);if(!s.contains(i))throw new ko(_o.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));kp(e,i)||e.push(i)}l=new ra(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new ep(new Ha(a),l,c)}class ap extends Xf{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}function lp(e,t,n){return new rp({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cp extends Xf{_toFieldTransform(e){return new hc(e.path,new rc)}isEqual(e){return e instanceof cp}}class up extends Xf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.vc.map(e=>gp(e,t)),r=new ic(n);return new hc(e.path,r)}isEqual(e){return e instanceof up&&M(this.vc,e.vc)}}class hp extends Xf{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.vc.map(e=>gp(e,t)),r=new sc(n);return new hc(e.path,r)}isEqual(e){return e instanceof hp&&M(this.vc,e.vc)}}function dp(e,t,n,r){const i=e.Cc(1,t,n);yp("Data must be an object, but it was:",i,r);const o=[],s=Ha.empty();Xs(r,(e,r)=>{const a=Ep(t,e,n);r=z(r);const l=i.yc(a);if(r instanceof ap)o.push(a);else{const e=gp(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new ra(o);return new tp(s,a,i.fieldTransforms)}function fp(e,t,n,r,i,o){const s=e.Cc(1,t,n),a=[bp(t,r,n)],l=[i];if(o.length%2!=0)throw new ko(_o.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(bp(t,o[d])),l.push(o[d+1]);const c=[],u=Ha.empty();for(let d=a.length-1;d>=0;--d)if(!kp(c,a[d])){const e=a[d];let t=l[d];t=z(t);const n=s.yc(e);if(t instanceof ap)c.push(e);else{const r=gp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new ra(c);return new tp(u,h,s.fieldTransforms)}function pp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gp(n,e.Cc(r?4:3,t))}function gp(e,t){if(vp(e=z(e)))return yp("Unsupported field value:",t,e),mp(e,t);if(e instanceof Xf)return function(e,t){if(!np(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gp(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=z(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=rs.fromDate(e);return{timestampValue:ru(t.serializer,n)}}if(e instanceof rs){const n=new rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ru(t.serializer,n)}}if(e instanceof Jf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qf)return{bytesValue:iu(t.serializer,e._byteString)};if(e instanceof Uf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:au(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Zf)return function(e,t){return{mapValue:{fields:{[wa]:{stringValue:ka},[Sa]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Xl(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Jo(e)))}(e,t)}function mp(e,t){const n={};return Js(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xs(e,(e,r)=>{const i=gp(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function vp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rs||e instanceof Jf||e instanceof Qf||e instanceof Uf||e instanceof Xf||e instanceof Zf)}function yp(e,t,n){if(!vp(n)||!Xo(n)){const r=Jo(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function bp(e,t,n){if((t=z(t))instanceof Yf)return t._internalPath;if("string"==typeof t)return Ep(e,t);throw _p("Field path arguments must be of type string or ",e,!1,void 0,n)}const wp=new RegExp("[~\\*/\\[\\]]");function Ep(e,t,n){if(t.search(wp)>=0)throw _p("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Yf(...t.split("."))._internalPath}catch(Nm){throw _p("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _p(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new ko(_o.INVALID_ARGUMENT,a+e+l)}function kp(e,t){return e.some(e=>e.isEqual(t))}class Sp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Uf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cp extends Sp{data(){return super.data()}}function Tp(e,t){return"string"==typeof t?Ep(e,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}function Ip(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ko(_o.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Lp extends xp{}class Pp extends Lp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Pp(e,t,n)}_apply(e){const t=this._parse(e);return Mp(e._query,t),new jf(e.firestore,e.converter,Il(e._query,t))}_parse(e){const t=op(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ko(_o.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Ap(s,o);const t=[];for(const n of s)t.push(Np(r,e,n));a={arrayValue:{values:t}}}else a=Np(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ap(s,o),a=pp(n,t,s,"in"===o||"not-in"===o);return Za.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Op extends xp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Op(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:$a.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Mp(n,i),n=Il(n,i)}(e._query,t),new jf(e.firestore,e.converter,Il(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Np(e,t,n){if("string"==typeof(n=z(n))){if(""===n)throw new ko(_o.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kl(t)&&-1!==n.indexOf("/"))throw new ko(_o.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ho.fromString(n));if(!Ko.isDocumentKey(r))throw new ko(_o.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ma(e,new Ko(r))}if(n instanceof Uf)return Ma(e,n._key);throw new ko(_o.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jo(n),"."))}function Ap(e,t){if(!Array.isArray(e)||0===e.length)throw new ko(_o.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Mp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ko(_o.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ko(_o.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Dp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return la(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Xs(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Sa].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>la(e.doubleValue));return new Zf(n)}convertGeoPoint(e){return new Jf(la(e.latitude),la(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ga(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const t=aa(e);return new rs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ho.fromString(e);wo(Lu(n),9688,{name:e});const r=new ba(n.get(1),n.get(3)),i=new Ko(n.popFirst(5));return r.isEqual(t)||go("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Rp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Up extends Sp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ko(_o.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Up._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Up._jsonSchemaVersion="firestore/documentSnapshot/1.0",Up._jsonSchema={type:$o("string",Up._jsonSchemaVersion),bundleSource:$o("string","DocumentSnapshot"),bundleName:$o("string"),bundle:$o("string")};class Fp extends Up{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Vp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Fp(this._firestore,this._userDataWriter,n.key,n,new jp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ko(_o.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Fp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new jp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Fp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:zp(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ko(_o.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yo(61501,{type:e})}}function Bp(e){e=Zo(e,Uf);const t=Zo(e.firestore,Wf);return xf(Kf(t),e._key).then(n=>Kp(t,e,n))}Vp._jsonSchemaVersion="firestore/querySnapshot/1.0",Vp._jsonSchema={type:$o("string",Vp._jsonSchemaVersion),bundleSource:$o("string","QuerySnapshot"),bundleName:$o("string"),bundle:$o("string")};class Hp extends Dp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Uf(this.firestore,null,t)}}function qp(e,t,n){e=Zo(e,Uf);const r=Zo(e.firestore,Wf),i=Rp(e.converter,t,n);return Wp(r,[sp(op(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fc.none())])}function Wp(e,t){return function(e,t){const n=new So;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=gf(e);try{const e=await function(e,t){const n=Eo(e),r=rs.now(),i=t.reduce((e,t)=>e.add(t.key),Gl());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Ul(),l=Gl();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=bc(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new _c(e.key,t,qa(t.value.mapValue),fc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:zl(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Zs(Do)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await hf(r,e.changes),await ud(r.remoteStore)}catch(e){const t=Sd(e,"Failed to persist write");n.reject(t)}}(await Tf(e),t,n)),n.promise}(Kf(e),t)}function Kp(e,t,n){const r=n.docs.get(t._key),i=new Hp(e);return new Up(e,i,t._key,r,new jp(n.hasPendingWrites,n.fromCache),t.converter)}function Gp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new up("arrayUnion",t)}function Qp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hp("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){uo=e}(it),$e(new B("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Wf(new xo(e.getProvider("auth-internal")),new No(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ko(_o.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(e.options.projectId,t)}(o,r),o);return i=c({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),at(ao,lo,e),at(ao,lo,"esm2020")}();const Yp="@firebase/installations",Xp="0.6.19",Jp=1e4,Zp="w:".concat(Xp),$p="FIS_v2",eg=36e5,tg=new N("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ng(e){return e instanceof O&&e.code.includes("request-failed")}function rg(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function ig(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function og(e,t){const n=(await t.json()).error;return tg.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function sg(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ag(e,t){let{refreshToken:n}=t;const r=sg(e);return r.append("Authorization",function(e){return"".concat($p," ").concat(e)}(n)),r}async function lg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function cg(e){return new Promise(t=>{setTimeout(t,e)})}const ug=/^[cdef][\w-]{21}$/;function hg(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ug.test(t)?t:""}catch(e){return""}}function dg(e){return"".concat(e.appName,"!").concat(e.appId)}const fg=new Map;function pg(e,t){const n=dg(e);gg(n,t),function(e,t){const n=vg();n&&n.postMessage({key:e,fid:t});yg()}(n,t)}function gg(e,t){const n=fg.get(e);if(n)for(const r of n)r(t)}let mg=null;function vg(){return!mg&&"BroadcastChannel"in self&&(mg=new BroadcastChannel("[Firebase] FID Change"),mg.onmessage=e=>{gg(e.data.key,e.data.fid)}),mg}function yg(){0===fg.size&&mg&&(mg.close(),mg=null)}const bg="firebase-installations-store";let wg=null;function Eg(){return wg||(wg=he("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(bg)}})),wg}async function _g(e,t){const n=dg(e),r=(await Eg()).transaction(bg,"readwrite"),i=r.objectStore(bg),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||pg(e,t.fid),t}async function kg(e){const t=dg(e),n=(await Eg()).transaction(bg,"readwrite");await n.objectStore(bg).delete(t),await n.done}async function Sg(e,t){const n=dg(e),r=(await Eg()).transaction(bg,"readwrite"),i=r.objectStore(bg),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||pg(e,s.fid),s}async function Cg(e){let t;const n=await Sg(e.appConfig,n=>{const r=function(e){const t=e||{fid:hg(),registrationStatus:0};return xg(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(tg.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=rg(n),s=sg(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:$p,appId:n.appId,sdkVersion:Zp},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await lg(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:ig(e.authToken)}}throw await og("Create Installation",u)}(e,t);return _g(e.appConfig,n)}catch(n){throw ng(n)&&409===n.customData.serverCode?await kg(e.appConfig):await _g(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Tg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Tg(e){let t=await Ig(e.appConfig);for(;1===t.registrationStatus;)await cg(100),t=await Ig(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Cg(e);return n||t}return t}function Ig(e){return Sg(e,e=>{if(!e)throw tg.create("installation-not-found");return xg(e)})}function xg(e){return 1===(t=e).registrationStatus&&t.registrationTime+Jp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Lg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(rg(e),"/").concat(n,"/authTokens:generate")}(n,t),o=ag(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Zp,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await lg(()=>fetch(i,l));if(c.ok){return ig(await c.json())}throw await og("Generate Auth Token",c)}async function Pg(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Sg(e.appConfig,r=>{if(!Ng(r))throw tg.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+eg}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Og(e.appConfig);for(;1===n.authToken.requestStatus;)await cg(100),n=await Og(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Pg(e,t):r}(e,n),r;{if(!navigator.onLine)throw tg.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return c(c({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Lg(e,t),r=c(c({},t),{},{authToken:n});return await _g(e.appConfig,r),n}catch(n){if(!ng(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=c(c({},t),{},{authToken:{requestStatus:0}});await _g(e.appConfig,n)}else await kg(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function Og(e){return Sg(e,e=>{if(!Ng(e))throw tg.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Jp<Date.now()?c(c({},e),{},{authToken:{requestStatus:0}}):e;var n})}function Ng(e){return void 0!==e&&2===e.registrationStatus}async function Ag(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Cg(e);t&&await t}(n);return(await Pg(n,t)).token}function Mg(e){return tg.create("missing-app-config-values",{valueName:e})}const Dg="installations",Rg=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Mg("App Configuration");if(!e.name)throw Mg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Mg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:et(t,"heartbeat"),_delete:()=>Promise.resolve()}},jg=e=>{const t=et(e.getProvider("app").getImmediate(),Dg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Cg(t);return r?r.catch(console.error):Pg(t).catch(console.error),n.fid}(t),getToken:e=>Ag(t,e)}};$e(new B(Dg,Rg,"PUBLIC")),$e(new B("installations-internal",jg,"PRIVATE")),at(Yp,Xp),at(Yp,Xp,"esm2020");const Ug="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fg="google.c.a.c_id",Vg=1e4;var zg,Bg;function Hg(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qg(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(zg||(zg={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Bg||(Bg={}));const Wg="fcm_token_details_db",Kg="fcm_token_object_Store";const Gg="firebase-messaging-store";let Qg=null;function Yg(){return Qg||(Qg=he("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gg)}})),Qg}async function Xg(e){const t=Zg(e),n=await Yg(),r=await n.transaction(Gg).objectStore(Gg).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(Wg))return null}let t=null;return(await he(Wg,5,{upgrade:async(n,r,i,o)=>{if(r<2)return;if(!n.objectStoreNames.contains(Kg))return;const s=o.objectStore(Kg),a=await s.index("fcmSenderId").get(e);if(await s.clear(),a)if(2===r){var l;const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(l=e.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:Hg(e.vapidKey)}}}else if(3===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Hg(e.auth),p256dh:Hg(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Hg(e.vapidKey)}}}else if(4===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Hg(e.auth),p256dh:Hg(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Hg(e.vapidKey)}}}}})).close(),await de(Wg),await de("fcm_vapid_details_db"),await de("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Jg(e,t),t}}async function Jg(e,t){const n=Zg(e),r=(await Yg()).transaction(Gg,"readwrite");return await r.objectStore(Gg).put(t,n),await r.done,t}function Zg(e){let{appConfig:t}=e;return t.appId}const $g=new N("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function em(e,t){const n={method:"DELETE",headers:await nm(e)};try{const r=await fetch("".concat(tm(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw $g.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw $g.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function tm(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function nm(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function rm(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ug&&(o.web.applicationPubKey=i),o}async function im(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qg(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Hg(t.getKey("auth")),p256dh:Hg(t.getKey("p256dh"))},r=await Xg(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await nm(e),r=rm(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch("".concat(tm(e.appConfig),"/").concat(t.token),i);o=await n.json()}catch(s){throw $g.create("token-update-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(o.error){const e=o.error.message;throw $g.create("token-update-failed",{errorInfo:e})}if(!o.token)throw $g.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=c(c({},t),{},{token:n,createTime:Date.now()});return await Jg(e.firebaseDependencies,r),n}catch(n){throw n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await em(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return om(e.firebaseDependencies,n)}return om(e.firebaseDependencies,n)}async function om(e,t){const n=await async function(e,t){const n=await nm(e),r=rm(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(tm(e.appConfig),i);o=await t.json()}catch(s){throw $g.create("token-subscribe-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(o.error){const e=o.error.message;throw $g.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw $g.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Jg(e,r),r.token}function sm(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};const a=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function am(e){return $g.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lm{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw am("App Configuration Object");if(!e.name)throw am("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw am(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function cm(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after ".concat(Vg," ms"))),Vg),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(t){throw $g.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function um(e,t){if(!navigator)throw $g.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw $g.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ug)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await cm(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw $g.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),im(e)}async function hm(e,t,n){const r=function(e){switch(e){case Bg.NOTIFICATION_CLICKED:return"notification_open";case Bg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Fg],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function dm(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Bg.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(sm(n)):e.onMessageHandler.next(sm(n)));const r=n.data;var i;"object"===typeof(i=r)&&i&&Fg in i&&"1"===r["google.c.a.e"]&&await hm(e,n.messageType,r)}const fm="@firebase/messaging",pm="0.12.23",gm=e=>{const t=new lm(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>dm(t,e)),t},mm=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>um(t,e)}};async function vm(){try{await P()}catch(e){return!1}return"undefined"!==typeof window&&L()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return vm().then(e=>{if(!e)throw $g.create("unsupported-browser")},e=>{throw $g.create("indexed-db-unsupported")}),et(z(e),"messaging").getImmediate()}function bm(e,t){return function(e,t){if(!navigator)throw $g.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=z(e),t)}$e(new B("messaging",gm,"PUBLIC")),$e(new B("messaging-internal",mm,"PRIVATE")),at(fm,pm),at(fm,pm,"esm2020");const wm=ot({apiKey:"AIzaSyBrJKoipeLFords9NM-AZDNG4TH-767pkU",authDomain:"blood-donor-finder-744dd.firebaseapp.com",projectId:"blood-donor-finder-744dd",storageBucket:"blood-donor-finder-744dd.firebasestorage.app",messagingSenderId:"586315694761",appId:"1:586315694761:web:3b826556c8e0f04b5a5fb8",measurementId:"G-4KKYY4DCE7"}),Em=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();const t=et(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=et(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(M(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;It(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Vi,persistence:[Xr,Pr,Dr]}),r=b("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>qi)return;const r=null===t||void 0===t?void 0:t.token;Wi!==r&&(Wi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){z(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){z(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=v("auth");return o&&Yn(n,"http://".concat(o)),n}(),_m=function(e,t){const n="object"==typeof e?e:st(),r="string"==typeof e?e:t||ya,i=et(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Rf(i,...e)}return i}(wm),km=ym(wm),Sm=wm;function Cm(e){if(e)return e;if(Sm)return Sm;throw new Error("Firebase app instance required. Initialize firebase app and pass it or ensure default export exists in ./firebase.")}async function Tm(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/firebase-messaging-sw.js";const t=Cm(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null);let n=null;if("serviceWorker"in navigator)try{n=await navigator.serviceWorker.register(e)}catch(r){console.warn("Service worker registration failed:",r)}else console.warn("Service workers are not supported in this browser.");return{messaging:ym(t),serviceWorkerRegistration:n}}const Im=async e=>{if(e&&e.uid)try{const t=await Pm();t&&(await xm(e.uid,t),console.log("Registered FCM token for user:",e.uid,t))}catch(t){console.warn("setupAutoRegistration failed:",t)}},xm=async(e,t)=>{if(!e||!t)return;const n=zf(_m,"UserTokens",e);await qp(n,{fcmTokens:Gp(t)},{merge:!0})},Lm=async(e,t)=>{if(!e||!t)return;const n=zf(_m,"UserTokens",e);await function(e,t,n){e=Zo(e,Uf);const r=Zo(e.firestore,Wf),i=op(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=z(t))||t instanceof Yf?fp(i,"updateDoc",e._key,t,n,a):dp(i,"updateDoc",e._key,t),Wp(r,[o.toMutation(e._key,fc.exists(!0))])}(n,{fcmTokens:Qp(t)})};async function Pm(){try{const t=await Notification.requestPermission();if("granted"!==t)return console.warn("Notification permission not granted:",t),null;const n="BIO2Mc6NhNj7m9xAN8OctwR5lWFytEx-1cnnjpqTTWHeJBPbwg0Qo4LbbVrEmmkfjju5835EtZD03Mgmo7K1dmc";n||console.warn("REACT_APP_FIREBASE_VAPID_KEY is not set");let r=null;if("serviceWorker"in navigator)try{r=await navigator.serviceWorker.ready}catch(e){console.warn("Service worker not ready:",e)}const i={vapidKey:n};r&&(i.serviceWorkerRegistration=r);const o=await async function(e,t){return um(e=z(e),t)}(km,i);return console.log("FCM Token:",o),o}catch(e){throw console.error("Error getting FCM token:",e),e}}function Om(e){if("function"!==typeof e)throw new Error("onForegroundMessage: callback must be a function");return bm(km,e)}function Nm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Nm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Am=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Nm(e))&&(r&&(r+=" "),r+=t);return r},Mm=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Dm=e=>"number"==typeof e&&!isNaN(e),Rm=e=>"string"==typeof e,jm=e=>"function"==typeof e,Um=e=>Rm(e)||jm(e)?e:null,Fm=(e,t)=>!1===e||Dm(e)&&e>0?e:t,Vm=e=>(0,r.isValidElement)(e)||Rm(e)||jm(e)||Dm(e);function zm(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:o=!0,collapseDuration:s=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d,playToast:f}=e,p=i?"".concat(t,"--").concat(l):t,g=i?"".concat(n,"--").concat(l):n,m=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=h.current,t=p.split(" "),n=r=>{r.target===h.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=h.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,s):u()};d||(c?t():(m.current=1,e.className+=" ".concat(g),e.addEventListener("animationend",t)))},[d]),r.createElement(r.Fragment,null,a)}}function Bm(e,t){return{content:Hm(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Hm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!Rm(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):jm(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function qm(e){let{delay:t,isRunning:n,closeToast:i,type:o="default",hide:s,className:a,controlledProgress:l,progress:u,rtl:h,isIn:d,theme:f}=e,p=s||l&&0===u,g={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};l&&(g.transform="scaleX(".concat(u,")"));let m=Am("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":h}),v=jm(a)?a({rtl:h,type:o,defaultClassName:m}):Am(m,a),y={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(f," Toastify__progress-bar--").concat(o)}),r.createElement("div",c({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:g},y)))}var Wm=1,Km=()=>"".concat(Wm++);function Gm(e,t,n){let r=1,i=0,o=[],s=[],a=t,l=new Map,u=new Set,h=()=>{s=Array.from(l.values()),u.forEach(e=>e())},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},f=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}h()},p=e=>{var t,r;let{toastId:i,updateId:o}=e.props,s=null==o;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),h(),n(Bm(e,s?"added":"updated")),s&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:a,observe:e=>(u.add(e),()=>u.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:f,toasts:l,clearQueue:()=>{i-=o.length,o=[]},buildToast:(t,s)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t,o=n?n!==e:1!==e,s=l.has(r)&&null==i;return o||s})(s))return;let{toastId:u,updateId:d,data:g,staleId:m,delay:v}=s,y=null==d;y&&i++;let b=c(c(c({},a),{},{style:a.toastStyle,key:r++},Object.fromEntries(Object.entries(s).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:u,updateId:d,data:g,isIn:!1,className:Um(s.className||a.toastClassName),progressClassName:Um(s.progressClassName||a.progressClassName),autoClose:!s.isLoading&&Fm(s.autoClose,a.autoClose),closeToast(e){l.get(u).removalReason=e,f(u)},deleteToast(){let e=l.get(u);if(null!=e){if(n(Bm(e,"removed")),l.delete(u),i--,i<0&&(i=0),o.length>0)return void p(o.shift());h()}}});b.closeButton=a.closeButton,!1===s.closeButton||Vm(s.closeButton)?b.closeButton=s.closeButton:!0===s.closeButton&&(b.closeButton=!Vm(a.closeButton)||a.closeButton);let w={content:t,props:b,staleId:m};a.limit&&a.limit>0&&i>a.limit&&y?o.push(w):Dm(v)?setTimeout(()=>{p(w)},v):p(w)},setProps(e){a=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>s}}var Qm=new Map,Ym=[],Xm=new Set,Jm=e=>Xm.forEach(t=>t(e)),Zm=()=>Qm.size>0;function $m(e,t){var n;if(t)return!(null==(n=Qm.get(t))||!n.isToastActive(e));let r=!1;return Qm.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function ev(e){if(Zm()){if(null==e||(e=>Rm(e)||Dm(e))(e))Qm.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Qm.get(e.containerId);t?t.removeToast(e.id):Qm.forEach(t=>{t.removeToast(e.id)})}}else Ym=Ym.filter(t=>null!=e&&t.options.toastId!==e)}function tv(e,t){Vm(e)&&(Zm()||Ym.push({content:e,options:t}),Qm.forEach(n=>{n.buildToast(e,t)}))}function nv(e,t){Qm.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function rv(e){let t=e.containerId||1;return{subscribe(n){let r=Gm(t,e,Jm);Qm.set(t,r);let i=r.observe(n);return Ym.forEach(e=>tv(e.content,e.options)),Ym=[],()=>{i(),Qm.delete(t)}},setProps(e){var n;null==(n=Qm.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Qm.get(t))?void 0:e.getSnapshot()}}}function iv(e){return e&&(Rm(e.toastId)||Dm(e.toastId))?e.toastId:Km()}function ov(e,t){return tv(e,t),t.toastId}function sv(e,t){return c(c({},t),{},{type:t&&t.type||e,toastId:iv(t)})}function av(e){return(t,n)=>ov(t,sv(e,n))}function lv(e,t){return ov(e,sv("default",t))}function cv(e){let[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),s=(0,r.useRef)(null),a=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:h,closeOnClick:d}=e;function f(){n(!0)}function p(){n(!1)}function g(n){let r=s.current;if(a.canDrag&&r){a.didMove=!0,t&&p(),"x"===e.draggableDirection?a.delta=n.clientX-a.start:a.delta=n.clientY-a.start,a.start!==n.clientX&&(a.canCloseOnClick=!1);let i="x"===e.draggableDirection?"".concat(a.delta,"px, var(--y)"):"0, calc(".concat(a.delta,"px + var(--y))");r.style.transform="translate3d(".concat(i,",0)"),r.style.opacity="".concat(1-Math.abs(a.delta/a.removalDistance))}}function m(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",m);let t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Qm.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",m);let n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:o}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(v.onMouseEnter=p,e.stacked||(v.onMouseLeave=f)),d&&(v.onClick=e=>{h&&h(e),a.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:i,toastRef:s,eventHandlers:v}}lv.loading=(e,t)=>ov(e,sv("default",c({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),lv.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=Rm(i)?lv.loading(i,n):lv.loading(i.render,c(c({},n),i)));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void lv.dismiss(r);let o=c(c(c({type:e},a),n),{},{data:i}),s=Rm(t)?{render:t}:t;return r?lv.update(r,c(c({},o),s)):lv(s.render,c(c({},o),s)),i},u=jm(e)?e():e;return u.then(e=>l("success",s,e)).catch(e=>l("error",o,e)),u},lv.success=av("success"),lv.info=av("info"),lv.error=av("error"),lv.warning=av("warning"),lv.warn=lv.warning,lv.dark=(e,t)=>ov(e,sv("default",c({theme:"dark"},t))),lv.dismiss=function(e){ev(e)},lv.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qm.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},lv.isActive=$m,lv.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Qm.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,o=c(c(c({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Km()});o.toastId!==e&&(o.staleId=e);let s=o.render||i;delete o.render,ov(s,o)}},lv.done=e=>{lv.update(e,{progress:1})},lv.onChange=function(e){return Xm.add(e),()=>{Xm.delete(e)}},lv.play=e=>nv(!0,e),lv.pause=e=>nv(!1,e);var uv="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,hv=e=>{let{theme:t,type:n,isLoading:i}=e,o=yt(e,Mm);return r.createElement("svg",c({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},o))};var dv={info:function(e){return r.createElement(hv,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(hv,c({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(hv,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(hv,c({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function fv(e){let{theme:t,type:n,isLoading:i,icon:o}=e,s=null,a={theme:t,type:n};return!1===o||(jm(o)?s=o(c(c({},a),{},{isLoading:i})):(0,r.isValidElement)(o)?s=(0,r.cloneElement)(o,a):i?s=dv.spinner():(e=>e in dv)(n)&&(s=dv[n](a))),s}var pv=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o,playToast:s}=cv(e),{closeButton:a,children:l,autoClose:u,onClick:h,type:d,hideProgressBar:f,closeToast:p,transition:g,position:m,className:v,style:y,progressClassName:b,updateId:w,role:E,progress:_,rtl:k,toastId:S,deleteToast:C,isIn:T,isLoading:I,closeOnClick:x,theme:L,ariaLabel:P}=e,O=Am("Toastify__toast","Toastify__toast-theme--".concat(L),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":x}),N=jm(v)?v({rtl:k,position:m,type:d,defaultClassName:O}):Am(O,v),A=fv(e),M=!!_||!u,D={closeToast:p,type:d,theme:L},R=null;return!1===a||(R=jm(a)?a(D):(0,r.isValidElement)(a)?(0,r.cloneElement)(a,D):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),r.createElement(g,{isIn:T,done:C,position:m,preventExitTransition:n,nodeRef:i,playToast:s},r.createElement("div",c(c({id:S,tabIndex:0,onClick:h,"data-in":T,className:N},o),{},{style:y,ref:i},T&&{role:E,"aria-label":P}),null!=A&&r.createElement("div",{className:Am("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},A),Hm(l,e,!t),R,!e.customProgressBar&&r.createElement(qm,c(c({},w&&!M?{key:"p-".concat(w)}:{}),{},{rtl:k,theme:L,delay:u,isRunning:t,isIn:T,closeToast:p,hide:f,type:d,className:b,controlledProgress:M,progress:_||0}))))},gv=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},mv=zm(gv("bounce",!0)),vv=(zm(gv("slide",!0)),zm(gv("zoom")),zm(gv("flip")),{position:"top-right",transition:mv,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function yv(e){let t=c(c({},vv),e),n=e.stacked,[i,o]=(0,r.useState)(!0),s=(0,r.useRef)(null),{getToastToRender:a,isToastActive:l,count:u}=function(e){var t;let{subscribe:n,getSnapshot:i,setProps:o}=(0,r.useRef)(rv(e)).current;o(e);let s=null==(t=(0,r.useSyncExternalStore)(n,i,i))?void 0:t.slice();return{getToastToRender:function(t){if(!s)return[];let n=new Map;return e.newestOnTop&&s.reverse(),s.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:$m,count:null==s?void 0:s.length}}(t),{className:h,style:d,rtl:f,containerId:p,hotKeys:g}=t;function m(e){let t=Am("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":f});return jm(h)?h({position:e,rtl:f,defaultClassName:t}):Am(t,Um(h))}function v(){n&&(o(!0),lv.play())}return uv(()=>{var e;if(n){let n=s.current.querySelectorAll('[data-in="true"]'),r=12,o=null==(e=t.position)?void 0:e.includes("top"),a=0,l=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(i)),n.dataset.pos||(n.dataset.pos=o?"top":"bot");let s=a*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y","".concat(o?s:-1*s,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(i?l:0))),a+=n.offsetHeight,l+=.025})}},[i,u,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=s.current;g(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),lv.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(o(!0),lv.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[g]),r.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(o(!1),lv.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((e,t)=>{let i=t.length?c({},d):c(c({},d),{},{pointerEvents:"none"});return r.createElement("div",{tabIndex:-1,className:m(e),"data-stacked":n,style:i,key:"c-".concat(e)},t.map(e=>{let{content:t,props:i}=e;return r.createElement(pv,c(c({},i),{},{stacked:n,collapseAll:v,isIn:l(i.toastId,i.containerId),key:"t-".concat(i.key)}),t)}))}))}var bv=n(579);const wv=function(e){let{isOpen:t,onClose:n,children:r}=e;return t?(0,bv.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,bv.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,bv.jsx)("button",{className:"close-btn",onClick:n,"aria-label":"Close",children:"\xd7"}),r]})}):null};const Ev=function(e){let{onOpenRegister:t,closeLoginModal:n}=e;const[i,o]=(0,r.useState)(""),[s,a]=(0,r.useState)("");return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("div",{className:"icon-wrapper",children:(0,bv.jsx)("span",{className:"icon",children:"\ud83d\udd11"})}),(0,bv.jsx)("h2",{children:"Login"}),(0,bv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await function(e,t,n){return tt(e.app)?Promise.reject(Pt(e)):kr(z(e),lr.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Sr(e),t})}(Em,i,s),console.log("User logged in successfully"),lv.success("User logged in successfully",{position:"top-center"}),n()}catch(t){console.log(t.message),lv.error(t.message,{position:"bottom-center"})}console.log("Email:",i),console.log("Password:",s)},className:"sign-in-form",children:[(0,bv.jsx)("label",{htmlFor:"email",children:"Email"}),(0,bv.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",required:!0,value:i,onChange:e=>o(e.target.value)}),(0,bv.jsx)("label",{htmlFor:"password",children:"Password"}),(0,bv.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",required:!0,value:s,onChange:e=>a(e.target.value)}),(0,bv.jsx)("button",{className:"submit-btn",type:"submit",children:"Get Started"})]}),(0,bv.jsxs)("div",{className:"signin-footer",children:[(0,bv.jsx)("span",{children:"New User?"}),(0,bv.jsx)("button",{className:"register-btn",onClick:e=>{e.preventDefault(),t()},children:"Sign Up"})]})]})};const _v=function(e){let{onOpenLogin:t,onClose:n}=e;const[i,o]=(0,r.useState)(""),[s,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1);return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("div",{className:"icon-wrapper",children:(0,bv.jsx)("span",{className:"icon",children:"\ud83d\udcdd"})}),(0,bv.jsx)("h2",{children:"Sign Up"}),(0,bv.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);try{const e=await async function(e,t,n){if(tt(e.app))return Promise.reject(Pt(e));const r=jn(e),i=Gn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gr,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Sr(e),t}),s=await mr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(Em,s,l),t=e.user;t&&await qp(zf(_m,"Users",t.uid),{email:t.email,fullname:i,createdAt:(new Date).toISOString()}),lv.success("User Registered Successfully",{position:"top-center"}),"function"===typeof n&&n(),o(""),a(""),c("")}catch(t){console.error("Signup error:",t);const e=(null===t||void 0===t?void 0:t.message)||"Signup failed";lv.error(e,{position:"bottom-center"})}finally{h(!1)}},className:"sign-in-form",children:[(0,bv.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),(0,bv.jsx)("input",{type:"text",name:"fullname",id:"fullname",placeholder:"Full Name",required:!0,value:i,onChange:e=>o(e.target.value)}),(0,bv.jsx)("label",{htmlFor:"signup-email",children:"Email"}),(0,bv.jsx)("input",{type:"email",name:"email",id:"signup-email",placeholder:"Email",required:!0,value:s,onChange:e=>a(e.target.value)}),(0,bv.jsx)("label",{htmlFor:"signup-password",children:"Password"}),(0,bv.jsx)("input",{type:"password",name:"password",id:"signup-password",placeholder:"Password",required:!0,value:l,onChange:e=>c(e.target.value)}),(0,bv.jsx)("button",{className:"submit-btn",type:"submit",disabled:u,children:u?"Creating...":"Create Account"})]}),(0,bv.jsxs)("div",{className:"signin-footer",children:[(0,bv.jsx)("span",{children:"Already have an account?"}),(0,bv.jsx)("button",{className:"register-btn",onClick:e=>{e.preventDefault(),"function"===typeof n&&n(),"function"===typeof t&&t()},children:"Login"})]})]})};const kv=function(e){let{isLoginModalOpen:t,setIsLoginModalOpen:n}=e;const[i,o]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=Cr(Em,async e=>{if(a(e||null),e)try{await Im({uid:e.uid})}catch(t){console.warn("FCM token registration failed:",t)}});return()=>{try{e()}catch(t){}}},[]),(0,bv.jsxs)("header",{className:"header",children:[(0,bv.jsx)("div",{className:"container",children:(0,bv.jsxs)("div",{className:"header-contents",children:[(0,bv.jsx)("div",{className:"logo",children:(0,bv.jsx)("h1",{children:"LifeLink"})}),(0,bv.jsx)("nav",{className:"nav ".concat(l?"nav-open":""),children:(0,bv.jsxs)("ul",{onClick:()=>{c(!1)},children:[(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#home",children:"Home"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#search",children:"Find Donors"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#register",children:"Register"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#about",children:"About"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"tel:011-23359379",className:"emergency-button",children:"Emergency"})})]})}),(0,bv.jsxs)("div",{className:"right-controls",children:[(0,bv.jsx)("div",{className:"user-login",children:(0,bv.jsx)("ul",{children:(0,bv.jsx)("li",{children:s?(0,bv.jsx)("button",{onClick:()=>{var e;const t=null===(e=Em.currentUser)||void 0===e?void 0:e.uid;(function(e){return z(e).signOut()})(Em).then(async()=>{t&&await Lm(t),console.log("User logged out, token removed")}).catch(e=>{console.error("Logout error",e)})},className:"logout-btn",children:"Logout"}):(0,bv.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),n(!0)},children:"Login"})})})}),(0,bv.jsxs)("button",{className:"mobile-menu-toggle ".concat(l?"open":""),"aria-label":l?"Close menu":"Open menu","aria-expanded":l,onClick:()=>c(e=>!e),children:[(0,bv.jsx)("span",{}),(0,bv.jsx)("span",{}),(0,bv.jsx)("span",{})]})]})]})}),(0,bv.jsx)(wv,{isOpen:t,onClose:()=>n(!1),children:(0,bv.jsx)(Ev,{onOpenRegister:()=>{n(!1),o(!0)},closeLoginModal:()=>n(!1)})}),(0,bv.jsx)(wv,{isOpen:i,onClose:()=>o(!1),children:(0,bv.jsx)(_v,{onOpenLogin:()=>{o(!1),n(!0)},onClose:()=>o(!1)})})]})};const Sv=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)("");return(0,r.useEffect)(()=>{const e=Em.onAuthStateChanged(async e=>{if(t(e),e){const t=await Bp(zf(_m,"Users",e.uid));if(t.exists()){const e=(t.data().fullname||"").split(" ")[0];i(e)}}else i("")});return()=>e()},[]),(0,bv.jsx)("section",{id:"home",className:"hero",children:(0,bv.jsx)("div",{className:"container",children:(0,bv.jsxs)("div",{className:"hero-content",children:[e&&n&&(0,bv.jsxs)("div",{className:"hero-welcome",children:["Welcome back, ",(0,bv.jsx)("span",{className:"hero-welcome-name",children:n}),"! \ud83d\udc4b"]}),(0,bv.jsxs)("h1",{className:"hero-title",children:["Every Drop Counts.",(0,bv.jsx)("br",{}),"Every Life Matters."]}),(0,bv.jsx)("p",{className:"hero-subtitle",children:"Connect with blood donors in your area and help save lives. Join out communty of heroes making a difference."}),(0,bv.jsxs)("div",{className:"hero-action",children:[(0,bv.jsx)("a",{href:"#search",className:"hero-search-button",children:"Find Donors Now"}),(0,bv.jsx)("a",{href:"#register",className:"hero-register-button",children:"Become a Donor"})]}),(0,bv.jsxs)("div",{className:"hero-stats",children:[(0,bv.jsxs)("div",{className:"stat",children:[(0,bv.jsx)("div",{className:"stat-number",children:"12,000+"}),(0,bv.jsx)("div",{className:"stat-label",children:"Donations Needed Daily"})]}),(0,bv.jsxs)("div",{className:"stat",children:[(0,bv.jsx)("div",{className:"stat-number",children:"3"}),(0,bv.jsx)("div",{className:"stat-label",children:"Lives Saved Per Donation"})]}),(0,bv.jsxs)("div",{className:"stat",children:[(0,bv.jsx)("div",{className:"stat-number",children:"56"}),(0,bv.jsx)("div",{className:"stat-label",children:"Days Between Donations"})]})]})]})})})};function Cv(e){let{setResults:t,setRecipientLocation:n,setUserHasSearched:i}=e;const[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(5),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(null),f=async()=>{if(!Em)throw new Error("Auth instance not available (check firebase import).");if(Em.currentUser)return Em.currentUser;try{const e=await async function(e){var t;if(tt(e.app))return Promise.reject(Pt(e));const n=jn(e);if(await n._initializationPromise,null!==(t=n.currentUser)&&void 0!==t&&t.isAnonymous)return new mr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await gr(n,{returnSecureToken:!0}),i=await mr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(Em);return e.user}catch(e){throw console.error("Anonymous sign-in failed:",e),e}},p=async()=>{if(d(null),o)if(_m){if(u(!0),!navigator.geolocation)return d("Geolocation not supported by your browser"),void u(!1);navigator.geolocation.getCurrentPosition(async e=>{const r=Number(e.coords.latitude),s=Number(e.coords.longitude);if(!Number.isFinite(r)||!Number.isFinite(s))return d("Invalid GPS coordinates"),void u(!1);n({lat:r,lng:s});try{await f();const e=Number(a);if(!Number.isFinite(e)||e<0)throw new Error("Invalid search radius");const n=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof xp&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Op).length,n=e.filter(e=>e instanceof Pp).length;if(t>1||t>0&&n>0)throw new ko(_o.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}(Vf(_m,"Donors"),function(e,t,n){const r=t,i=Tp("where",e);return Pp._create(i,r,n)}("bloodType","==",o)),l=await function(e){e=Zo(e,jf);const t=Zo(e.firestore,Wf),n=Kf(t),r=new Hp(t);return Ip(e._query),Lf(n,e._query).then(n=>new Vp(t,r,e,n))}(n),c=[];l.forEach(e=>{var t,n,r,i,o,s,a,l,u,h,d,f,p,g,m,v,y;const b=e.data()||{};c.push({id:e.id,fullname:null!==(t=null!==(n=b.fullname)&&void 0!==n?n:b.name)&&void 0!==t?t:"",email:null!==(r=b.email)&&void 0!==r?r:"",phoneNo:null!==(i=null!==(o=null!==(s=b.phoneNo)&&void 0!==s?s:b.contact)&&void 0!==o?o:b.phone)&&void 0!==i?i:"",bloodType:null!==(a=null!==(l=b.bloodType)&&void 0!==l?l:b.bloodGroup)&&void 0!==a?a:"",address:null!==(u=null!==(h=b.address)&&void 0!==h?h:b.city)&&void 0!==u?u:"",location:{latitude:void 0!==(null===(d=b.location)||void 0===d?void 0:d.latitude)?Number(b.location.latitude):void 0!==(null===(f=b.location)||void 0===f?void 0:f.lat)?Number(b.location.lat):null,longitude:void 0!==(null===(p=b.location)||void 0===p?void 0:p.longitude)?Number(b.location.longitude):void 0!==(null===(g=b.location)||void 0===g?void 0:g.lng)?Number(b.location.lng):null},status:null!==(m=null!==(v=b.status)&&void 0!==v?v:b.availability)&&void 0!==m?m:"",registeredAt:null!==(y=b.registeredAt)&&void 0!==y?y:null})});const u=c.filter(t=>{const n=Number(t.location.latitude),i=Number(t.location.longitude);if(!Number.isFinite(n)||!Number.isFinite(i))return!1;const o=((e,t,n,r)=>{const i=(n-e)*Math.PI/180,o=(r-t)*Math.PI/180,s=Math.sin(i/2)**2+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)**2;return 12742*Math.asin(Math.sqrt(s))})(r,s,n,i);return o<=e});t(u),i(!0)}catch(l){console.error("Firestore read error:",l);const e=(null===l||void 0===l?void 0:l.message)||(null===l||void 0===l?void 0:l.code)||String(l);d("Failed to fetch donors from Firestore: "+e)}finally{u(!1)}},e=>{console.error("Geolocation error:",e),d("Location permission denied or unavailable"),u(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}else d("Internal: Firestore not initialized (check firebase import).");else d("Select blood type")};return(0,bv.jsx)("section",{className:"search-section",id:"search",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsx)("h2",{className:"title",children:"Find Blood Donors"}),(0,bv.jsxs)("form",{className:"search-form",onSubmit:e=>{e.preventDefault(),p()},children:[(0,bv.jsxs)("div",{className:"controls",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Blood Type Needed"}),(0,bv.jsxs)("select",{value:o,onChange:e=>s(e.target.value),children:[(0,bv.jsx)("option",{value:"",children:"Select Blood Group"}),(0,bv.jsx)("option",{value:"A+",children:"A+"}),(0,bv.jsx)("option",{value:"A-",children:"A-"}),(0,bv.jsx)("option",{value:"B+",children:"B+"}),(0,bv.jsx)("option",{value:"B-",children:"B-"}),(0,bv.jsx)("option",{value:"AB+",children:"AB+"}),(0,bv.jsx)("option",{value:"AB-",children:"AB-"}),(0,bv.jsx)("option",{value:"O+",children:"O+"}),(0,bv.jsx)("option",{value:"O-",children:"O-"})]})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{children:"Search Radius (km)"}),(0,bv.jsxs)("select",{value:a,onChange:e=>l(Number(e.target.value)),children:[(0,bv.jsx)("option",{value:5,children:"5 km"}),(0,bv.jsx)("option",{value:10,children:"10 km"}),(0,bv.jsx)("option",{value:20,children:"20 km"}),(0,bv.jsx)("option",{value:30,children:"30 km"})]})]})]}),(0,bv.jsx)("div",{className:"form-group-full",children:(0,bv.jsx)("button",{className:"search-section-button",type:"submit",disabled:c,children:c?"Searching...":"Search Donors"})}),h&&(0,bv.jsx)("p",{className:"error-text",children:h})]})]})})}class Tv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Iv={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},xv=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Lv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=xv(e);Iv.publicKey=n.publicKey,Iv.blockHeadless=n.blockHeadless,Iv.storageProvider=n.storageProvider,Iv.blockList=n.blockList,Iv.limitRate=n.limitRate,Iv.origin=n.origin||t},Pv=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(Iv.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),o=new Tv(r.status,i);if(r.ok)return o;throw o},Ov=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Nv=e=>e.webdriver||!e.languages||0===e.languages.length,Av=()=>new Tv(451,"Unavailable For Headless Browser"),Mv=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=(r=t,i=e.watchVariable,r instanceof FormData?r.get(i):r[i]);var r,i;return"string"===typeof n&&e.list.includes(n)},Dv=()=>new Tv(403,"Forbidden"),Rv=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},jv=()=>new Tv(429,"Too Many Requests"),Uv=async(e,t,n,r)=>{const i=xv(r),o=i.publicKey||Iv.publicKey,s=i.blockHeadless||Iv.blockHeadless,a=i.storageProvider||Iv.storageProvider,l=c(c({},Iv.blockList),i.blockList),u=c(c({},Iv.limitRate),i.limitRate);if(s&&Nv(navigator))return Promise.reject(Av());if(Ov(o,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Mv(l,n))return Promise.reject(Dv());if(await Rv(location.pathname,u,a))return Promise.reject(jv());const h={lib_version:"4.4.1",user_id:o,service_id:e,template_id:t,template_params:n};return Pv("/api/v1.0/email/send",JSON.stringify(h),{"Content-type":"application/json"})};function Fv(e){var t;let{user:n,recipient:i={},onClose:o}=e;const[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)("");if((0,r.useEffect)(()=>{const e="uIo4rvAQ7TsyES2YJ";e&&Lv(e)},[]),!n)return null;const p=n.uid||n.id||n.userId||n.donorId||null;console.log("ContactModal donorUid:",p,n);const g=e=>null===e||void 0===e?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),m=n.fullname||n.name||n.displayName||n.full_name||"Donor",v=n.email||n.mail||"",y=n.phoneNo||n.contact||n.phone||"",b=n.bloodType||n.bloodGroup||n.blood||"Unknown";let w=n.address||n.city||(null===(t=n.location)||void 0===t?void 0:t.address)||"";if(!w){var E,_,k,S,C,T;const e=null!==(E=null===(_=n.location)||void 0===_?void 0:_.latitude)&&void 0!==E?E:null===(k=n.location)||void 0===k?void 0:k.lat,t=null!==(S=null===(C=n.location)||void 0===C?void 0:C.longitude)&&void 0!==S?S:null===(T=n.location)||void 0===T?void 0:T.lng;w=Number.isFinite(Number(e))&&Number.isFinite(Number(t))?"".concat(Number(e).toFixed(6),", ").concat(Number(t).toFixed(6)):"Not provided"}const I=(null===Em||void 0===Em?void 0:Em.currentUser)||null,x=i.name||(null===I||void 0===I?void 0:I.displayName)||(null===I||void 0===I?void 0:I.fullname)||"Recipient",L=i.email||(null===I||void 0===I?void 0:I.email)||"",P=window.location.origin,O="".concat(P,"/email-response?action=accept&donor=").concat(encodeURIComponent(v),"&recipient=").concat(encodeURIComponent(L)),N="".concat(P,"/email-response?action=reject&donor=").concat(encodeURIComponent(v),"&recipient=").concat(encodeURIComponent(L));return(0,bv.jsx)("div",{id:"contactModal",className:"modal",role:"dialog","aria-modal":"true",children:(0,bv.jsxs)("div",{className:"modal-content",children:[(0,bv.jsxs)("div",{className:"modal-header",children:[(0,bv.jsx)("h3",{children:"Contact Donor"}),(0,bv.jsx)("button",{className:"modal-close",onClick:o,"aria-label":"Close contact modal",children:"\xd7"})]}),(0,bv.jsxs)("div",{className:"modal-body",children:[(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Name:"})," ",g(m)]}),(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Blood Group:"})," ",g(b)]}),(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Location:"})," ",g(w)]}),(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Phone:"})," ",y?(0,bv.jsx)("a",{href:"tel:".concat(g(y)),children:g(y)}):"Not provided"]}),(0,bv.jsxs)("p",{children:[(0,bv.jsx)("strong",{children:"Email:"})," ",v?(0,bv.jsx)("a",{href:"mailto:".concat(g(v)),children:g(v)}):"Not provided"]}),(0,bv.jsxs)("div",{className:"input-block",children:[(0,bv.jsx)("label",{htmlFor:"recipientMessage",children:"Your Details (Address + Phone)"}),(0,bv.jsx)("textarea",{id:"recipientMessage",placeholder:"ADDRESS AND PHONE NUMBER",value:d,onChange:e=>f(e.target.value),className:"contact-textarea",rows:4})]}),(0,bv.jsx)("p",{className:"contact-note",children:"Please be respectful when contacting donors. Explain your situation clearly and provide your contact information."}),u&&(0,bv.jsx)("div",{className:"error-message",role:"alert",children:u}),l&&(0,bv.jsx)("div",{className:"success-message",role:"status",children:"Request email sent to donor."})]}),(0,bv.jsxs)("div",{className:"modal-footer",children:[(0,bv.jsx)("button",{className:"request-button",disabled:s||l,onClick:async function(){a(!0),h(null),c(!1);const e="service_zj2e2wp",t="template_9my7az5";if(!v)return h("Donor has no email on record."),void a(!1);const r={name:x,message:d||i.message||"Requesting ".concat(b," blood \u2014 please respond if available."),bloodtype:i.bloodType||i.blood||b,accept_link:O,reject_link:N,donor_email:v,recipient_email:L};try{await Uv(e,t,r);try{if(p){const e=i.bloodType||i.blood||b;await function(e,t){const n=Zo(e.firestore,Wf),r=zf(e),i=Rp(e.converter,t);return Wp(n,[sp(op(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fc.exists(!1))]).then(()=>r)}(Vf(_m,"requests"),{toUid:p,fromUid:(null===I||void 0===I?void 0:I.uid)||null,bloodType:e,quantity:1,message:d||i.message||"",createdAt:new cp("serverTimestamp")}),console.log("Created request doc for donor:",p)}else console.warn("No donorUid found; not creating requests doc",n)}catch(o){console.error("Error creating Firestore request doc:",o)}c(!0),console.log("EmailJS: request sent",r)}catch(s){console.error("EmailJS send error:",s);const e=s&&(s.text||s.message)||JSON.stringify(s);h(e)}finally{a(!1)}},children:s?"Sending...":l?"Sent":"Request Blood"}),(0,bv.jsx)("button",{className:"contact-button",onClick:o,children:"Close"})]})]})})}function Vv(e){let{results:t=[],focusOn:n}=e;const[i,o]=(0,r.useState)(null);return(0,bv.jsxs)("section",{className:"search-result",id:"search-result",children:[(0,bv.jsx)("div",{className:"container",children:(0,bv.jsxs)("div",{id:"searchResults",className:"search-results",children:[(0,bv.jsx)("h3",{className:"results-title",children:"Available Donors"}),0===t.length?(0,bv.jsx)("p",{children:"No donors found."}):(0,bv.jsx)("div",{id:"donorCards",className:"donor-grid",children:t.map((e,t)=>{var r,i,s,a,l,c;const u=null!==(r=null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.latitude)&&void 0!==r?r:null===e||void 0===e||null===(s=e.location)||void 0===s?void 0:s.lat,h=null!==(a=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.longitude)&&void 0!==a?a:null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.lng;return(0,bv.jsxs)("div",{className:"donor-card",children:[(0,bv.jsxs)("div",{className:"donor-card-header",children:[(0,bv.jsx)("span",{className:"donor-name",children:e.fullname}),(0,bv.jsx)("span",{className:"donor-blood",children:e.bloodType||e.bloodGroup})]}),(0,bv.jsxs)("div",{className:"donor-details",children:[(0,bv.jsxs)("p",{children:["Location: ",e.address]}),(0,bv.jsxs)("p",{children:["Contact: ",e.phoneNo]}),(0,bv.jsxs)("p",{children:["Email: ",e.email]})]}),(0,bv.jsxs)("div",{className:"donor-card-actions",children:[(0,bv.jsx)("button",{className:"contact-btn",onClick:()=>o(e),children:"Contact Donor"}),(0,bv.jsx)("button",{className:"focus-btn",onClick:()=>{null!=u&&null!=h&&((e,t)=>{const r=document.getElementById("donorMapContainer");if(r)try{r.scrollIntoView({behavior:"smooth",block:"start"})}catch(i){window.scrollTo({top:0,behavior:"smooth"})}setTimeout(()=>{"function"===typeof n&&n(Number(e),Number(t),15)},350)})(u,h)},children:"Show on map"})]})]},e.email||t)})})]})}),i&&(0,bv.jsx)(Fv,{user:i,onClose:()=>o(null)})]})}const zv=function(e){let{setIsLoginModalOpen:t}=e;const n="",i="",o="",s="",a="",l=null,c="",[u,h]=(0,r.useState)(n),[d,f]=(0,r.useState)(i),[p,g]=(0,r.useState)(o),[m,v]=(0,r.useState)(s),[y,b]=(0,r.useState)(a),[w,E]=(0,r.useState)(l),[_,k]=(0,r.useState)(c),[S,C]=(0,r.useState)(null),[T,I]=(0,r.useState)(!0),[x,L]=(0,r.useState)(!1),P=(0,r.useRef)(null),O=(0,r.useCallback)(()=>{h(n),f(i),g(o),v(s),b(a),E(l),k(c),L(!1);try{localStorage.removeItem("geoAllowed"),localStorage.removeItem("recipientLocation")}catch(e){}},[]);(0,r.useEffect)(()=>{const e=Cr(Em,async e=>{if(!e&&P.current){try{await Lm(P.current)}catch(t){console.warn("Failed removing token for previous user",t)}O(),P.current=null}if(C(e),I(!1),e){P.current=e.uid,f(e.email||"");try{const t=zf(_m,"Users",e.uid),n=await Bp(t);n.exists()&&h(n.data().fullname||"")}catch(t){console.warn("Failed to read Users doc:",t)}try{const t=zf(_m,"Donors",e.uid),n=await Bp(t);L(Boolean(n.exists()))}catch(t){console.warn("Failed to read Donors doc:",t),L(!1)}}});return()=>e()},[O]);const N=()=>{if(!navigator.geolocation)return k("Geolocation is not supported by your browser."),void lv.error("Geolocation not supported",{position:"top-center"});lv.info("Requesting location permission",{position:"top-center"}),navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:n}=e.coords,r=Number(t),i=Number(n);if(!Number.isFinite(r)||!Number.isFinite(i))return k("Invalid coordinates received."),void lv.error("Invalid location coordinates",{position:"top-center"});E({latitude:r,longitude:i}),k("");try{localStorage.setItem("geoAllowed","true"),localStorage.setItem("recipientLocation",JSON.stringify({lat:r,lng:i}))}catch(o){}lv.success("Location access granted!",{position:"top-center"})},e=>{switch(k(e.message||"Location error"),e.code){case e.PERMISSION_DENIED:lv.error("Location permission denied. Please enable location access.",{position:"top-center"});break;case e.POSITION_UNAVAILABLE:lv.error("Location information unavailable.",{position:"top-center"});break;case e.TIMEOUT:lv.error("Location request timed out.",{position:"top-center"});break;default:lv.error("An error occurred while getting location.",{position:"top-center"})}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return T?(0,bv.jsx)("section",{id:"register",className:"register-section",children:(0,bv.jsx)("div",{className:"container",children:(0,bv.jsx)("p",{children:"Loading..."})})}):S?x?(0,bv.jsx)("section",{id:"register",className:"register-section",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsx)("h2",{children:"Donor Status"}),(0,bv.jsx)("p",{className:"already-donor-message",children:"\u2705 You are already registered as a donor!"}),(0,bv.jsx)("p",{children:"Thank you for being a hero and helping save lives."})]})}):(0,bv.jsx)("section",{id:"register",className:"register-section",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsx)("h2",{children:"Become a Blood Donor"}),(0,bv.jsx)("p",{children:"Join our community of heroes and help save lives"}),(0,bv.jsx)("div",{className:"register-form",children:(0,bv.jsxs)("form",{id:"donorRegistrationForm",onSubmit:async e=>{if(e.preventDefault(),!w)return lv.warning("Please allow location access to register as a donor.",{position:"top-center"}),void N();try{const e=Em.currentUser;if(!e)return void lv.error("Login required to register as a donor.",{position:"top-center"});const i=zf(_m,"Donors",e.uid);if((await Bp(i)).exists())return lv.warning("You are already registered as a donor.",{position:"top-center"}),void L(!0);await qp(i,{fullname:u||"",email:e.email||"",phoneNo:p||"",bloodType:m||"",address:y||"",location:{latitude:Number(w.latitude),longitude:Number(w.longitude)},registeredAt:(new Date).toISOString()}),lv.success("Donor Registered Successfully with Location!",{position:"top-center"}),L(!0);try{await xm(e.uid),lv.info("Notification token saved for donor.",{position:"top-center"})}catch(n){console.warn("Failed to register FCM token:",n),lv.warning("Could not save notification token. Donor will not receive push messages.",{position:"top-center"})}try{"function"===typeof t&&t(!1)}catch(r){}}catch(i){console.error("Registration error:",i),lv.error("Failed to register as donor. Try again.",{position:"top-center"})}},className:"donor-register-form",children:[(0,bv.jsxs)("div",{className:"form-row",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"Full Name*"}),(0,bv.jsx)("input",{type:"text",id:"fullName",name:"fullname",className:"form-control",required:!0,value:u,onChange:e=>h(e.target.value)})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address*"}),(0,bv.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",required:!0,value:d,onChange:e=>f(e.target.value),readOnly:!0})]})]}),(0,bv.jsxs)("div",{className:"form-row",children:[(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone Number*"}),(0,bv.jsx)("input",{type:"tel",id:"phone",name:"phone",className:"form-control",required:!0,value:p,onChange:e=>g(e.target.value)})]}),(0,bv.jsxs)("div",{className:"form-group",children:[(0,bv.jsx)("label",{htmlFor:"donorBloodType",className:"form-label",children:"Blood Type*"}),(0,bv.jsxs)("select",{id:"donorBloodType",className:"form-control",required:!0,value:m,onChange:e=>v(e.target.value),children:[(0,bv.jsx)("option",{value:"",children:"Select Blood Group"}),(0,bv.jsx)("option",{value:"A+",children:"A+"}),(0,bv.jsx)("option",{value:"A-",children:"A-"}),(0,bv.jsx)("option",{value:"B+",children:"B+"}),(0,bv.jsx)("option",{value:"B-",children:"B-"}),(0,bv.jsx)("option",{value:"AB+",children:"AB+"}),(0,bv.jsx)("option",{value:"AB-",children:"AB-"}),(0,bv.jsx)("option",{value:"O+",children:"O+"}),(0,bv.jsx)("option",{value:"O-",children:"O-"})]})]})]}),(0,bv.jsx)("div",{className:"form-row",children:(0,bv.jsxs)("div",{className:"form-group address-group",children:[(0,bv.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address*"}),(0,bv.jsx)("textarea",{id:"address",className:"form-control",rows:"3",required:!0,value:y,onChange:e=>b(e.target.value)})]})}),(0,bv.jsx)("div",{className:"form-row",children:(0,bv.jsxs)("div",{className:"form-group address-group location-section",children:[(0,bv.jsx)("label",{className:"form-label",children:"Location Access*"}),(0,bv.jsx)("button",{type:"button",className:"location-btn",onClick:N,children:w?"Location Granted Successfully":"Allow Location Access"}),w&&(0,bv.jsx)("p",{className:"location-status success",children:"\u2713 Location captured successfully"}),_&&(0,bv.jsxs)("p",{className:"location-status error",children:["\u26a0 ",_]}),(0,bv.jsx)("p",{className:"location-info",children:"We need your location to help connect you with nearby recipients."})]})}),(0,bv.jsx)("div",{className:"form-group",children:(0,bv.jsxs)("label",{htmlFor:"medicalEligible",className:"checkbox-label",children:[(0,bv.jsx)("input",{type:"checkbox",id:"medicalEligible",required:!0})," I confirm that I am medically eligible to donate blood and meet all health requirements."]})}),(0,bv.jsx)("div",{className:"form-group",children:(0,bv.jsxs)("label",{htmlFor:"agreeTerms",className:"checkbox-label",children:[(0,bv.jsx)("input",{type:"checkbox",id:"agreeTerms",required:!0})," I agree to the terms and conditions."]})}),(0,bv.jsx)("div",{className:"form-group",children:(0,bv.jsxs)("label",{htmlFor:"agreePolicy",className:"checkbox-label",children:[(0,bv.jsx)("input",{type:"checkbox",id:"agreePolicy",required:!0})," I agree to the privacy policy."]})}),(0,bv.jsx)("button",{type:"submit",className:"register-form-button",children:"Register as Donor"})]})})]})}):(0,bv.jsx)("section",{id:"register",className:"register-section",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsx)("h2",{children:"Become a Blood Donor"}),(0,bv.jsx)("p",{children:"Want to save lives? Please log in first!"}),(0,bv.jsx)("button",{className:"login-prompt-btn",onClick:()=>{"function"===typeof t&&t(!0)},children:"LOGIN"})]})})};const Bv=function(){return(0,bv.jsx)("section",{id:"about",className:"about-section",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsx)("h2",{className:"section-title",children:"About Blood Donation"}),(0,bv.jsxs)("div",{className:"about-content",children:[(0,bv.jsxs)("div",{className:"about-text",children:[(0,bv.jsx)("h3",{children:"Our Mission"}),(0,bv.jsx)("p",{children:"Connecting blood donors with those in need to save lives in out community. Every donation makes a difference"}),(0,bv.jsx)("h3",{children:"Why Donate Blood?"}),(0,bv.jsxs)("ul",{children:[(0,bv.jsx)("li",{children:"One donation can save up to 3 lives"}),(0,bv.jsx)("li",{children:"Blood cannot be manufactured - it can only come from donors"}),(0,bv.jsx)("li",{children:"Someone needs blood every 2 seconds"}),(0,bv.jsx)("li",{children:"Only 3% of age-eligible people donate blood yearly"})]}),(0,bv.jsx)("h3",{children:"Donation Requirements"}),(0,bv.jsxs)("ul",{children:[(0,bv.jsx)("li",{children:"Age: 17+ years old (16 with parental consent)"}),(0,bv.jsx)("li",{children:"Weight: At least 49.90 Kilograms"}),(0,bv.jsx)("li",{children:"Good general health"}),(0,bv.jsx)("li",{children:"Wait 56 days between whole blood donations"})]})]}),(0,bv.jsxs)("div",{className:"blood-types-chart",children:[(0,bv.jsx)("h3",{children:"Blood Compatibility Chart"}),(0,bv.jsxs)("div",{className:"compatibility-grid",children:[(0,bv.jsxs)("div",{className:"blood-type-card",children:[(0,bv.jsx)("div",{className:"blood-type",children:"O-"}),(0,bv.jsx)("div",{className:"compatibility",children:"Universal Donor"})]}),(0,bv.jsxs)("div",{className:"blood-type-card",children:[(0,bv.jsx)("div",{className:"blood-type",children:"AB+"}),(0,bv.jsx)("div",{className:"compatibility",children:"Universal Recipient"})]}),(0,bv.jsxs)("div",{className:"blood-type-card",children:[(0,bv.jsx)("div",{className:"blood-type",children:"O+"}),(0,bv.jsx)("div",{className:"compatibility",children:"Most Common"})]}),(0,bv.jsxs)("div",{className:"blood-type-card",children:[(0,bv.jsx)("div",{className:"blood-type",children:"AB-"}),(0,bv.jsx)("div",{className:"compatibility",children:"Rarest Type"})]})]})]})]})]})})};const Hv=function(){return(0,bv.jsx)("footer",{className:"footer",children:(0,bv.jsxs)("div",{className:"container",children:[(0,bv.jsxs)("div",{className:"footer-content",children:[(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"LifeLink"}),(0,bv.jsx)("p",{children:"Connecting donors with those in need."})]}),(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"Quick Links"}),(0,bv.jsxs)("ul",{children:[(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#home",children:"Home"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#search",children:"Find Donors"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#register",children:"Register"})}),(0,bv.jsx)("li",{children:(0,bv.jsx)("a",{href:"#about",children:"About"})})]})]}),(0,bv.jsxs)("div",{className:"footer-section",children:[(0,bv.jsx)("h4",{children:"Emergency Contact"}),(0,bv.jsx)("p",{className:"emergency-number",children:"[Call Icon Image] 011-23359379"}),(0,bv.jsx)("p",{children:"Available 24/7 for urgent blood needs"})]})]}),(0,bv.jsx)("div",{className:"footer-bottom",children:(0,bv.jsxs)("p",{children:["\xa9 2025 LifeLink. All rights reserved. | ",(0,bv.jsx)("a",{href:"#",children:"Privacy Policy"})," | ",(0,bv.jsx)("a",{href:"#",children:"Terms of Service"})]})})]})})};var qv,Wv,Kv=n(950);function Gv(e){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(e)}function Qv(e){var t=function(e,t){if("object"!=Gv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gv(t)?t:t+""}function Yv(e,t,n){return(t=Qv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jv=Xv(Wv?qv:(Wv=1,qv=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}})),Zv=(0,r.createContext)(null);function $v(e,t,n,r){var i,o,s={};return i=e,o=(e,i)=>{var o=n[i];o!==t[i]&&(s[i]=o,e(r,o))},Object.keys(i).forEach(e=>o(i[e],e)),s}function ey(e,t,n){var r,i,o,s=(r=n,i=function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n},o=[],Object.keys(r).reduce(function(e,t){return i(e,r[t],t)},o));return s}function ty(e){google.maps.event.removeListener(e)}function ny(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(ty)}function ry(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:i,instance:o}=e,s=ey(i,o,n);return $v(t,r,i,o),s}var iy={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},oy={extraMapTypes(e,t){t.forEach(function(t,n){e.mapTypes.set(String(n),t)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,r.memo)(function(e){var{children:t,options:n,id:i,mapContainerStyle:o,mapContainerClassName:s,center:a,onClick:l,onDblClick:c,onDrag:u,onDragEnd:h,onDragStart:d,onMouseMove:f,onMouseOut:p,onMouseOver:g,onMouseDown:m,onMouseUp:v,onRightClick:y,onCenterChanged:b,onLoad:w,onUnmount:E}=e,[_,k]=(0,r.useState)(null),S=(0,r.useRef)(null),[C,T]=(0,r.useState)(null),[I,x]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[A,M]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),[j,U]=(0,r.useState)(null),[F,V]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),[W,K]=(0,r.useState)(null),[G,Q]=(0,r.useState)(null);return(0,r.useEffect)(()=>{n&&null!==_&&_.setOptions(n)},[_,n]),(0,r.useEffect)(()=>{null!==_&&"undefined"!==typeof a&&_.setCenter(a)},[_,a]),(0,r.useEffect)(()=>{_&&c&&(null!==I&&google.maps.event.removeListener(I),x(google.maps.event.addListener(_,"dblclick",c)))},[c]),(0,r.useEffect)(()=>{_&&h&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(_,"dragend",h)))},[h]),(0,r.useEffect)(()=>{_&&d&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(_,"dragstart",d)))},[d]),(0,r.useEffect)(()=>{_&&m&&(null!==A&&google.maps.event.removeListener(A),M(google.maps.event.addListener(_,"mousedown",m)))},[m]),(0,r.useEffect)(()=>{_&&f&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(_,"mousemove",f)))},[f]),(0,r.useEffect)(()=>{_&&p&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(_,"mouseout",p)))},[p]),(0,r.useEffect)(()=>{_&&g&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(_,"mouseover",g)))},[g]),(0,r.useEffect)(()=>{_&&v&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(_,"mouseup",v)))},[v]),(0,r.useEffect)(()=>{_&&y&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(_,"rightclick",y)))},[y]),(0,r.useEffect)(()=>{_&&l&&(null!==W&&google.maps.event.removeListener(W),K(google.maps.event.addListener(_,"click",l)))},[l]),(0,r.useEffect)(()=>{_&&u&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(_,"drag",u)))},[u]),(0,r.useEffect)(()=>{_&&b&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(_,"center_changed",b)))},[l]),(0,r.useEffect)(()=>{var e=null===S.current?null:new google.maps.Map(S.current,n);return k(e),null!==e&&w&&w(e),()=>{null!==e&&E&&E(e)}},[]),(0,bv.jsx)("div",{id:i,ref:S,style:o,className:s,children:(0,bv.jsx)(Zv.Provider,{value:_,children:null!==_?t:null})})});class sy extends r.PureComponent{constructor(){super(...arguments),Yv(this,"state",{map:null}),Yv(this,"registeredEvents",[]),Yv(this,"mapRef",null),Yv(this,"getInstance",()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options)),Yv(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),Yv(this,"setMapCallback",()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)}),Yv(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ry({updaterMap:oy,eventMap:iy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:oy,eventMap:iy,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ny(this.registeredEvents))}render(){return(0,bv.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,bv.jsx)(Zv.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function ay(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function ly(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){ay(o,r,i,s,a,"next",e)}function a(e){ay(o,r,i,s,a,"throw",e)}s(void 0)})}}function cy(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:i,region:o,libraries:s,channel:a,mapIds:l,authReferrerPolicy:c,apiUrl:u="https://maps.googleapis.com"}=e,h=[];return Jv(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?h.push("key=".concat(t)):n&&h.push("client=".concat(n)),r&&h.push("v=".concat(r)),i&&h.push("language=".concat(i)),o&&h.push("region=".concat(o)),s&&s.length&&h.push("libraries=".concat(s.sort().join(","))),a&&h.push("channel=".concat(a)),l&&l.length&&h.push("map_ids=".concat(l.join(","))),c&&h.push("auth_referrer_policy=".concat(c)),h.push("loading=async"),h.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(h.join("&"))}var uy="undefined"!==typeof document;function hy(e){var{url:t,id:n,nonce:r}=e;return uy?new Promise(function(e,i){var o=document.getElementById(n),s=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=s.initMap,c=o.onerror;return s.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){c&&c(e),i(e)})}o.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),i(e)},s.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function dy(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function fy(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return dy(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return dy(t)||Reflect.apply(n,e,[t]),t}}}var py=!1;function gy(){return(0,bv.jsx)("div",{children:"Loading..."})}var my,vy={id:"script-loader",version:"weekly"};class yy extends r.PureComponent{constructor(){super(...arguments),Yv(this,"check",null),Yv(this,"state",{loaded:!1}),Yv(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Yv(this,"isCleaningUp",ly(function*(){return new Promise(function(e){if(py){if(uy)var t=window.setInterval(function(){py||(window.clearInterval(t),e())},1)}else e()})})),Yv(this,"cleanup",()=>{py=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}),Yv(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&fy(),Jv(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),hy({id:this.props.id,nonce:this.props.nonce,url:cy(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),Yv(this,"getRef",e=>{this.check=e})}componentDidMount(){if(uy){if(window.google&&window.google.maps&&!py)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),uy&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(uy){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,py=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,bv.jsx)(gy,{})]})}}function by(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Yv(yy,"defaultProps",vy);var wy=["loadingElement","onLoad","onError","onUnmount","children"],Ey=(0,bv.jsx)(gy,{});(0,r.memo)(function(e){var{loadingElement:t,onLoad:n,onError:i,onUnmount:o,children:s}=e,a=by(e,wy),{isLoaded:l,loadError:c}=function(e){var{id:t=vy.id,version:n=vy.version,nonce:i,googleMapsApiKey:o,googleMapsClientId:s,language:a,region:l,libraries:c,preventGoogleFontsLoading:u,channel:h,mapIds:d,authReferrerPolicy:f,apiUrl:p="https://maps.googleapis.com"}=e,g=(0,r.useRef)(!1),[m,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(void 0);(0,r.useEffect)(function(){return g.current=!0,()=>{g.current=!1}},[]),(0,r.useEffect)(function(){uy&&u&&fy()},[u]),(0,r.useEffect)(function(){m&&Jv(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[m]);var w=cy({version:n,googleMapsApiKey:o,googleMapsClientId:s,language:a,region:l,libraries:c,channel:h,mapIds:d,authReferrerPolicy:f,apiUrl:p});(0,r.useEffect)(function(){function e(){g.current&&(v(!0),my=w)}uy&&(window.google&&window.google.maps&&my===w?e():hy({id:t,url:w,nonce:i}).then(e).catch(function(e){g.current&&b(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(o||"-",") or Client ID (").concat(s||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[t,w,i]);var E=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){E.current&&c!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=c},[c]),{isLoaded:m,loadError:y,url:w}}(a);return(0,r.useEffect)(function(){l&&"function"===typeof n&&n()},[l,n]),(0,r.useEffect)(function(){c&&"function"===typeof i&&i(c)},[c,i]),(0,r.useEffect)(function(){return()=>{o&&o()}},[o]),l?s:t||Ey});function _y(e,t,n,r){return new(n||(n=Promise))(function(t,i){function o(e){try{a(r.next(e))}catch(t){i(t)}}function s(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(o,s)}a((r=r.apply(e,[])).next())})}function ky(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"===typeof SuppressedError&&SuppressedError;var Sy,Cy=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n},Ty=ky(Cy),Iy="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Sy||(Sy={}));class xy{constructor(e){var{apiKey:t,authReferrerPolicy:n,channel:r,client:i,id:o=Iy,language:s,libraries:a=[],mapIds:l,nonce:c,region:u,retries:h=3,url:d="https://maps.googleapis.com/maps/api/js",version:f}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=r,this.client=i,this.id=o||Iy,this.language=s,this.libraries=a,this.mapIds=l,this.nonce=c,this.region=u,this.retries=h,this.url=d,this.version=f,xy.instance){if(!Ty(this.options,xy.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(xy.instance.options)));return xy.instance}xy.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Sy.FAILURE:this.done?Sy.SUCCESS:this.loading?Sy.LOADING:Sy.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))this.callback();else{var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(e=>!n[e]&&delete n[e]),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{var t,n,r,i="The Google Maps JavaScript API",o="google",s="importLibrary",a="__ib__",l=document,c=window,u=(c=c[o]||(c[o]={})).maps||(c.maps={}),h=new Set,d=new URLSearchParams,f=()=>t||(t=new Promise((s,c)=>_y(this,0,void 0,function*(){var f;for(r in yield n=l.createElement("script"),n.id=this.id,d.set("libraries",[...h]+""),e)d.set(r.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase()),e[r]);d.set("callback",o+".maps."+a),n.src=this.url+"?"+d,u[a]=s,n.onerror=()=>t=c(Error(i+" could not load.")),n.nonce=this.nonce||(null===(f=l.querySelector("script[nonce]"))||void 0===f?void 0:f.nonce)||"",l.head.append(n)})));u[s]?console.warn(i+" only loads once. Ignoring:",e):u[s]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return h.add(e)&&f().then(()=>u[s](e,...n))}})(n);var r=this.libraries.map(e=>this.importLibrary(e));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),e=>{var t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)})}}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var t=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(t," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}var Ly=["maps"];function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ny={},Ay={options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{options:t,onLoad:n,onUnmount:i}=e,o=(0,r.useContext)(Zv),[s,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==s&&s.setMap(o)},[o]),(0,r.useEffect)(()=>{t&&null!==s&&s.setOptions(t)},[s,t]),(0,r.useEffect)(()=>{var e=new google.maps.TrafficLayer(Oy(Oy({},t),{},{map:o}));return a(e),n&&n(e),()=>{null!==s&&(i&&i(s),s.setMap(null))}},[]),null});class My extends r.PureComponent{constructor(){super(...arguments),Yv(this,"state",{trafficLayer:null}),Yv(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Yv(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Oy(Oy({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:Ay,eventMap:Ny,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Ay,eventMap:Ny,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ny(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Yv(My,"contextType",Zv);(0,r.memo)(function(e){var{onLoad:t,onUnmount:n}=e,i=(0,r.useContext)(Zv),[o,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==o&&o.setMap(i)},[i]),(0,r.useEffect)(()=>{var e=new google.maps.BicyclingLayer;return s(e),e.setMap(i),t&&t(e),()=>{null!==e&&(n&&n(e),e.setMap(null))}},[]),null});class Dy extends r.PureComponent{constructor(){super(...arguments),Yv(this,"state",{bicyclingLayer:null}),Yv(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Yv(Dy,"contextType",Zv);(0,r.memo)(function(e){var{onLoad:t,onUnmount:n}=e,i=(0,r.useContext)(Zv),[o,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==o&&o.setMap(i)},[i]),(0,r.useEffect)(()=>{var e=new google.maps.TransitLayer;return s(e),e.setMap(i),t&&t(e),()=>{null!==o&&(n&&n(o),o.setMap(null))}},[]),null});class Ry extends r.PureComponent{constructor(){super(...arguments),Yv(this,"state",{transitLayer:null}),Yv(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jy(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(Ry,"contextType",Zv);var Fy={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Vy={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{options:t,drawingMode:n,onCircleComplete:i,onMarkerComplete:o,onOverlayComplete:s,onPolygonComplete:a,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:h}=e,d=(0,r.useContext)(Zv),[f,p]=(0,r.useState)(null),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==f&&f.setMap(d)},[d]),(0,r.useEffect)(()=>{t&&null!==f&&f.setOptions(t)},[f,t]),(0,r.useEffect)(()=>{null!==f&&f.setDrawingMode(null!==n&&void 0!==n?n:null)},[f,n]),(0,r.useEffect)(()=>{f&&i&&(null!==g&&google.maps.event.removeListener(g),m(google.maps.event.addListener(f,"circlecomplete",i)))},[f,i]),(0,r.useEffect)(()=>{f&&o&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(f,"markercomplete",o)))},[f,o]),(0,r.useEffect)(()=>{f&&s&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(f,"overlaycomplete",s)))},[f,s]),(0,r.useEffect)(()=>{f&&a&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(f,"polygoncomplete",a)))},[f,a]),(0,r.useEffect)(()=>{f&&l&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(f,"polylinecomplete",l)))},[f,l]),(0,r.useEffect)(()=>{f&&c&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(f,"rectanglecomplete",c)))},[f,c]),(0,r.useEffect)(()=>{Jv(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Uy(Uy({},t),{},{map:d}));return n&&e.setDrawingMode(n),i&&m(google.maps.event.addListener(e,"circlecomplete",i)),o&&y(google.maps.event.addListener(e,"markercomplete",o)),s&&w(google.maps.event.addListener(e,"overlaycomplete",s)),a&&_(google.maps.event.addListener(e,"polygoncomplete",a)),l&&S(google.maps.event.addListener(e,"polylinecomplete",l)),c&&T(google.maps.event.addListener(e,"rectanglecomplete",c)),p(e),u&&u(e),()=>{null!==f&&(g&&google.maps.event.removeListener(g),v&&google.maps.event.removeListener(v),b&&google.maps.event.removeListener(b),E&&google.maps.event.removeListener(E),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),h&&h(f),f.setMap(null))}},[]),null});class zy extends r.PureComponent{constructor(e){super(e),Yv(this,"registeredEvents",[]),Yv(this,"state",{drawingManager:null}),Yv(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Jv(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Uy(Uy({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:Vy,eventMap:Fy,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Vy,eventMap:Fy,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ny(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function By(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?By(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(zy,"contextType",Zv);var qy={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Wy={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Ky={};(0,r.memo)(function(e){var{position:t,options:n,clusterer:i,noClustererRedraw:o,children:s,draggable:a,visible:l,animation:c,clickable:u,cursor:h,icon:d,label:f,opacity:p,shape:g,title:m,zIndex:v,onClick:y,onDblClick:b,onDrag:w,onDragEnd:E,onDragStart:_,onMouseOut:k,onMouseOver:S,onMouseUp:C,onMouseDown:T,onRightClick:I,onClickableChanged:x,onCursorChanged:L,onAnimationChanged:P,onDraggableChanged:O,onFlatChanged:N,onIconChanged:A,onPositionChanged:M,onShapeChanged:D,onTitleChanged:R,onVisibleChanged:j,onZindexChanged:U,onLoad:F,onUnmount:V}=e,z=(0,r.useContext)(Zv),[B,H]=(0,r.useState)(null),[q,W]=(0,r.useState)(null),[K,G]=(0,r.useState)(null),[Q,Y]=(0,r.useState)(null),[X,J]=(0,r.useState)(null),[Z,$]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),[ne,re]=(0,r.useState)(null),[ie,oe]=(0,r.useState)(null),[se,ae]=(0,r.useState)(null),[le,ce]=(0,r.useState)(null),[ue,he]=(0,r.useState)(null),[de,fe]=(0,r.useState)(null),[pe,ge]=(0,r.useState)(null),[me,ve]=(0,r.useState)(null),[ye,be]=(0,r.useState)(null),[we,Ee]=(0,r.useState)(null),[_e,ke]=(0,r.useState)(null),[Se,Ce]=(0,r.useState)(null),[Te,Ie]=(0,r.useState)(null),[xe,Le]=(0,r.useState)(null),[Pe,Oe]=(0,r.useState)(null);(0,r.useEffect)(()=>{null!==B&&B.setMap(z)},[z]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==B&&B.setOptions(n)},[B,n]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==B&&B.setDraggable(a)},[B,a]),(0,r.useEffect)(()=>{t&&null!==B&&B.setPosition(t)},[B,t]),(0,r.useEffect)(()=>{"undefined"!==typeof l&&null!==B&&B.setVisible(l)},[B,l]),(0,r.useEffect)(()=>{null===B||void 0===B||B.setAnimation(c)},[B,c]),(0,r.useEffect)(()=>{B&&void 0!==u&&B.setClickable(u)},[B,u]),(0,r.useEffect)(()=>{B&&void 0!==h&&B.setCursor(h)},[B,h]),(0,r.useEffect)(()=>{B&&void 0!==d&&B.setIcon(d)},[B,d]),(0,r.useEffect)(()=>{B&&void 0!==f&&B.setLabel(f)},[B,f]),(0,r.useEffect)(()=>{B&&void 0!==p&&B.setOpacity(p)},[B,p]),(0,r.useEffect)(()=>{B&&void 0!==g&&B.setShape(g)},[B,g]),(0,r.useEffect)(()=>{B&&void 0!==m&&B.setTitle(m)},[B,m]),(0,r.useEffect)(()=>{B&&void 0!==v&&B.setZIndex(v)},[B,v]),(0,r.useEffect)(()=>{B&&b&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(B,"dblclick",b)))},[b]),(0,r.useEffect)(()=>{B&&E&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(B,"dragend",E)))},[E]),(0,r.useEffect)(()=>{B&&_&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(B,"dragstart",_)))},[_]),(0,r.useEffect)(()=>{B&&T&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(B,"mousedown",T)))},[T]),(0,r.useEffect)(()=>{B&&k&&(null!==Z&&google.maps.event.removeListener(Z),$(google.maps.event.addListener(B,"mouseout",k)))},[k]),(0,r.useEffect)(()=>{B&&S&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(B,"mouseover",S)))},[S]),(0,r.useEffect)(()=>{B&&C&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(B,"mouseup",C)))},[C]),(0,r.useEffect)(()=>{B&&I&&(null!==ie&&google.maps.event.removeListener(ie),oe(google.maps.event.addListener(B,"rightclick",I)))},[I]),(0,r.useEffect)(()=>{B&&y&&(null!==se&&google.maps.event.removeListener(se),ae(google.maps.event.addListener(B,"click",y)))},[y]),(0,r.useEffect)(()=>{B&&w&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(B,"drag",w)))},[w]),(0,r.useEffect)(()=>{B&&x&&(null!==ue&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(B,"clickable_changed",x)))},[x]),(0,r.useEffect)(()=>{B&&L&&(null!==de&&google.maps.event.removeListener(de),fe(google.maps.event.addListener(B,"cursor_changed",L)))},[L]),(0,r.useEffect)(()=>{B&&P&&(null!==pe&&google.maps.event.removeListener(pe),ge(google.maps.event.addListener(B,"animation_changed",P)))},[P]),(0,r.useEffect)(()=>{B&&O&&(null!==me&&google.maps.event.removeListener(me),ve(google.maps.event.addListener(B,"draggable_changed",O)))},[O]),(0,r.useEffect)(()=>{B&&N&&(null!==ye&&google.maps.event.removeListener(ye),be(google.maps.event.addListener(B,"flat_changed",N)))},[N]),(0,r.useEffect)(()=>{B&&A&&(null!==we&&google.maps.event.removeListener(we),Ee(google.maps.event.addListener(B,"icon_changed",A)))},[A]),(0,r.useEffect)(()=>{B&&M&&(null!==_e&&google.maps.event.removeListener(_e),ke(google.maps.event.addListener(B,"position_changed",M)))},[M]),(0,r.useEffect)(()=>{B&&D&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(B,"shape_changed",D)))},[D]),(0,r.useEffect)(()=>{B&&R&&(null!==Te&&google.maps.event.removeListener(Te),Ie(google.maps.event.addListener(B,"title_changed",R)))},[R]),(0,r.useEffect)(()=>{B&&j&&(null!==xe&&google.maps.event.removeListener(xe),Le(google.maps.event.addListener(B,"visible_changed",j)))},[j]),(0,r.useEffect)(()=>{B&&U&&(null!==Pe&&google.maps.event.removeListener(Pe),Oe(google.maps.event.addListener(B,"zindex_changed",U)))},[U]),(0,r.useEffect)(()=>{var e=Hy(Hy(Hy({},n||Ky),i?Ky:{map:z}),{},{position:t}),r=new google.maps.Marker(e);return i?i.addMarker(r,!!o):r.setMap(z),t&&r.setPosition(t),"undefined"!==typeof l&&r.setVisible(l),"undefined"!==typeof a&&r.setDraggable(a),"undefined"!==typeof u&&r.setClickable(u),"string"===typeof h&&r.setCursor(h),d&&r.setIcon(d),"undefined"!==typeof f&&r.setLabel(f),"undefined"!==typeof p&&r.setOpacity(p),g&&r.setShape(g),"string"===typeof m&&r.setTitle(m),"number"===typeof v&&r.setZIndex(v),b&&W(google.maps.event.addListener(r,"dblclick",b)),E&&G(google.maps.event.addListener(r,"dragend",E)),_&&Y(google.maps.event.addListener(r,"dragstart",_)),T&&J(google.maps.event.addListener(r,"mousedown",T)),k&&$(google.maps.event.addListener(r,"mouseout",k)),S&&te(google.maps.event.addListener(r,"mouseover",S)),C&&re(google.maps.event.addListener(r,"mouseup",C)),I&&oe(google.maps.event.addListener(r,"rightclick",I)),y&&ae(google.maps.event.addListener(r,"click",y)),w&&ce(google.maps.event.addListener(r,"drag",w)),x&&he(google.maps.event.addListener(r,"clickable_changed",x)),L&&fe(google.maps.event.addListener(r,"cursor_changed",L)),P&&ge(google.maps.event.addListener(r,"animation_changed",P)),O&&ve(google.maps.event.addListener(r,"draggable_changed",O)),N&&be(google.maps.event.addListener(r,"flat_changed",N)),A&&Ee(google.maps.event.addListener(r,"icon_changed",A)),M&&ke(google.maps.event.addListener(r,"position_changed",M)),D&&Ce(google.maps.event.addListener(r,"shape_changed",D)),R&&Ie(google.maps.event.addListener(r,"title_changed",R)),j&&Le(google.maps.event.addListener(r,"visible_changed",j)),U&&Oe(google.maps.event.addListener(r,"zindex_changed",U)),H(r),F&&F(r),()=>{null!==q&&google.maps.event.removeListener(q),null!==K&&google.maps.event.removeListener(K),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),null!==Z&&google.maps.event.removeListener(Z),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==ie&&google.maps.event.removeListener(ie),null!==se&&google.maps.event.removeListener(se),null!==ue&&google.maps.event.removeListener(ue),null!==de&&google.maps.event.removeListener(de),null!==pe&&google.maps.event.removeListener(pe),null!==me&&google.maps.event.removeListener(me),null!==ye&&google.maps.event.removeListener(ye),null!==we&&google.maps.event.removeListener(we),null!==_e&&google.maps.event.removeListener(_e),null!==Te&&google.maps.event.removeListener(Te),null!==xe&&google.maps.event.removeListener(xe),null!==Pe&&google.maps.event.removeListener(Pe),V&&V(r),i?i.removeMarker(r,!!o):r&&r.setMap(null)}},[]);var Ne=(0,r.useMemo)(()=>s?r.Children.map(s,e=>{if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:B})}):null,[s,B]);return(0,bv.jsx)(bv.Fragment,{children:Ne})||null});class Gy extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[])}componentDidMount(){var e=this;return ly(function*(){var t=Hy(Hy(Hy({},e.props.options||Ky),e.props.clusterer?Ky:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ry({updaterMap:Wy,eventMap:qy,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Wy,eventMap:qy,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ny(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?r.Children.map(this.props.children,e=>{if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:this.marker})}):null)||null}}Yv(Gy,"contextType",Zv);var Qy=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout(function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,o;if(this.div&&this.center){var s=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=s,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(d.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(d),this.div.title=s,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),Yy=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Qy(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,o=this.markerClusterer.getMaxZoom(),s=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof s&&s>o)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function Xy(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var Jy=[53,56,66,78,90],Zy=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||Jy,this.calculator=r.calculator||Xy,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var o=0,s=this.listeners;o<s.length;o++){var a=s[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var o=i[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}},0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var o=i[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,o=this.clusters;i<o.length;i++){var s=(t=o[i]).getCenter(),a=e.getPosition();if(s&&a){var l=this.distanceBetweenPoints(s,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new Yy(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),s=Math.min(e+this.batchSize,this.markers.length),a=e;a<s;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(s<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(s)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function $y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eb={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},tb={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},nb={};(0,r.memo)(function(e){var{children:t,options:n,averageCenter:i,batchSizeIE:o,calculator:s,clusterClass:a,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:h,imagePath:d,imageSizes:f,maxZoom:p,minimumClusterSize:g,styles:m,title:v,zoomOnClick:y,onClick:b,onClusteringBegin:w,onClusteringEnd:E,onMouseOver:_,onMouseOut:k,onLoad:S,onUnmount:C}=e,[T,I]=(0,r.useState)(null),x=(0,r.useContext)(Zv),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[A,M]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),[j,U]=(0,r.useState)(null);return(0,r.useEffect)(()=>{T&&k&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(T,eb.onMouseOut,k)))},[k]),(0,r.useEffect)(()=>{T&&_&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(T,eb.onMouseOver,_)))},[_]),(0,r.useEffect)(()=>{T&&b&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(T,eb.onClick,b)))},[b]),(0,r.useEffect)(()=>{T&&w&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(T,eb.onClusteringBegin,w)))},[w]),(0,r.useEffect)(()=>{T&&E&&(null!==A&&google.maps.event.removeListener(A),N(google.maps.event.addListener(T,eb.onClusteringEnd,E)))},[E]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==T&&tb.averageCenter(T,i)},[T,i]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==T&&tb.batchSizeIE(T,o)},[T,o]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==T&&tb.calculator(T,s)},[T,s]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==T&&tb.clusterClass(T,a)},[T,a]),(0,r.useEffect)(()=>{"undefined"!==typeof l&&null!==T&&tb.enableRetinaIcons(T,l)},[T,l]),(0,r.useEffect)(()=>{"undefined"!==typeof c&&null!==T&&tb.gridSize(T,c)},[T,c]),(0,r.useEffect)(()=>{"undefined"!==typeof u&&null!==T&&tb.ignoreHidden(T,u)},[T,u]),(0,r.useEffect)(()=>{"undefined"!==typeof h&&null!==T&&tb.imageExtension(T,h)},[T,h]),(0,r.useEffect)(()=>{"undefined"!==typeof d&&null!==T&&tb.imagePath(T,d)},[T,d]),(0,r.useEffect)(()=>{"undefined"!==typeof f&&null!==T&&tb.imageSizes(T,f)},[T,f]),(0,r.useEffect)(()=>{"undefined"!==typeof p&&null!==T&&tb.maxZoom(T,p)},[T,p]),(0,r.useEffect)(()=>{"undefined"!==typeof g&&null!==T&&tb.minimumClusterSize(T,g)},[T,g]),(0,r.useEffect)(()=>{"undefined"!==typeof m&&null!==T&&tb.styles(T,m)},[T,m]),(0,r.useEffect)(()=>{"undefined"!==typeof v&&null!==T&&tb.title(T,v)},[T,v]),(0,r.useEffect)(()=>{"undefined"!==typeof y&&null!==T&&tb.zoomOnClick(T,y)},[T,y]),(0,r.useEffect)(()=>{if(x){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$y(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n||nb),t=new Zy(x,[],e);return i&&tb.averageCenter(t,i),o&&tb.batchSizeIE(t,o),s&&tb.calculator(t,s),a&&tb.clusterClass(t,a),l&&tb.enableRetinaIcons(t,l),c&&tb.gridSize(t,c),u&&tb.ignoreHidden(t,u),h&&tb.imageExtension(t,h),d&&tb.imagePath(t,d),f&&tb.imageSizes(t,f),p&&tb.maxZoom(t,p),g&&tb.minimumClusterSize(t,g),m&&tb.styles(t,m),v&&tb.title(t,v),y&&tb.zoomOnClick(t,y),k&&R(google.maps.event.addListener(t,eb.onMouseOut,k)),_&&U(google.maps.event.addListener(t,eb.onMouseOver,_)),b&&P(google.maps.event.addListener(t,eb.onClick,b)),w&&N(google.maps.event.addListener(t,eb.onClusteringBegin,w)),E&&M(google.maps.event.addListener(t,eb.onClusteringEnd,E)),I(t),S&&S(t),()=>{null!==D&&google.maps.event.removeListener(D),null!==j&&google.maps.event.removeListener(j),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),C&&C(t)}}},[]),null!==T&&t(T)||null});class rb extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{markerClusterer:null}),Yv(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Zy(this.context,[],this.props.options);this.registeredEvents=ry({updaterMap:tb,eventMap:eb,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:tb,eventMap:eb,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ny(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function ib(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}Yv(rb,"contextType",Zv);var ob=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var o=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,ib))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||ib(t)}),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),s=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,h=this.div.offsetHeight,d=this.infoBoxClearance.width,f=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+d?n=p.x+l-d:p.x+u+l+d>s&&(n=p.x+u+l+d-s),this.alignBottom?p.y<-c+f+h?r=p.y+c-f-h:p.y+c+f>a&&(r=p.y+c+f-a):p.y<-c+f?r=p.y+c-f:p.y+h+c+f>a&&(r=p.y+h+c+f-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var e=t.getPosition();n.setPosition(e)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),sb=["position"],ab=["position"];function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ub={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},hb={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},db={};var fb,pb;(0,r.memo)(function(e){var{children:t,anchor:n,options:i,position:o,zIndex:s,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:d,onUnmount:f}=e,p=(0,r.useContext)(Zv),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(null),I=(0,r.useRef)(null);return(0,r.useEffect)(()=>{p&&null!==g&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))},[p,g,n]),(0,r.useEffect)(()=>{i&&null!==g&&g.setOptions(i)},[g,i]),(0,r.useEffect)(()=>{if(o&&null!==g){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);g.setPosition(e)}},[o]),(0,r.useEffect)(()=>{"number"===typeof s&&null!==g&&g.setZIndex(s)},[s]),(0,r.useEffect)(()=>{g&&a&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(g,"closeclick",a)))},[a]),(0,r.useEffect)(()=>{g&&l&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"domready",l)))},[l]),(0,r.useEffect)(()=>{g&&c&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(g,"content_changed",c)))},[c]),(0,r.useEffect)(()=>{g&&u&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(g,"position_changed",u)))},[u]),(0,r.useEffect)(()=>{g&&h&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(g,"zindex_changed",h)))},[h]),(0,r.useEffect)(()=>{if(p){var e,t=i||db,{position:r}=t,o=by(t,sb);!r||r instanceof google.maps.LatLng||(e=new google.maps.LatLng(r.lat,r.lng));var s=new ob(cb(cb({},o),e?{position:e}:{}));I.current=document.createElement("div"),m(s),a&&y(google.maps.event.addListener(s,"closeclick",a)),l&&w(google.maps.event.addListener(s,"domready",l)),c&&_(google.maps.event.addListener(s,"content_changed",c)),u&&S(google.maps.event.addListener(s,"position_changed",u)),h&&T(google.maps.event.addListener(s,"zindex_changed",h)),s.setContent(I.current),n?s.open(p,n):s.getPosition()?s.open(p):Jv(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(s)}return()=>{null!==g&&(v&&google.maps.event.removeListener(v),E&&google.maps.event.removeListener(E),b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),f&&f(g),g.close())}},[]),I.current?(0,Kv.createPortal)(r.Children.only(t),I.current):null});class gb extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"containerElement",null),Yv(this,"state",{infoBox:null}),Yv(this,"open",(e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):Jv(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Yv(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=by(t,ab);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new ob(cb(cb({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ry({updaterMap:hb,eventMap:ub,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:hb,eventMap:ub,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),ny(this.registeredEvents),t.close())}render(){return this.containerElement?(0,Kv.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}Yv(gb,"contextType",Zv);var mb=(pb||(pb=1,fb=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),fb),vb=Xv(mb),yb=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class bb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var i=yb[15&n];if(!i)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new bb(s,o,i,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=yb.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-s%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+s+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return wb(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:o,nodeSize:s}=this,a=[0,i.length-1,0],l=[];a.length;){var c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=s)for(var d=h;d<=u;d++){var f=o[2*d],p=o[2*d+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(i[d])}else{var g=h+u>>1,m=o[2*g],v=o[2*g+1];m>=e&&m<=n&&v>=t&&v<=r&&l.push(i[g]),(0===c?e<=m:t<=v)&&(a.push(h),a.push(g-1),a.push(1-c)),(0===c?n>=m:r>=v)&&(a.push(g+1),a.push(u),a.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:i,nodeSize:o}=this,s=[0,r.length-1,0],a=[],l=n*n;s.length;){var c=s.pop()||0,u=s.pop()||0,h=s.pop()||0;if(u-h<=o)for(var d=h;d<=u;d++)Sb(i[2*d],i[2*d+1],e,t)<=l&&a.push(r[d]);else{var f=h+u>>1,p=i[2*f],g=i[2*f+1];Sb(p,g,e,t)<=l&&a.push(r[f]),(0===c?e-n<=p:t-n<=g)&&(s.push(h),s.push(f-1),s.push(1-c)),(0===c?e+n>=p:t+n>=g)&&(s.push(f+1),s.push(u),s.push(1-c))}}return a}}function wb(e,t,n,r,i,o){if(!(i-r<=n)){var s=r+i>>1;Eb(e,t,s,r,i,o),wb(e,t,n,r,s-1,1-o),wb(e,t,n,s+1,i,1-o)}}function Eb(e,t,n,r,i,o){for(;i>r;){if(i-r>600){var s=i-r+1,a=n-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1);Eb(e,t,n,Math.max(r,Math.floor(n-a*c/s+u)),Math.min(i,Math.floor(n+(s-a)*c/s+u)),o)}var h=t[2*n+o],d=r,f=i;for(_b(e,t,r,n),t[2*i+o]>h&&_b(e,t,r,i);d<f;){for(_b(e,t,d,f),d++,f--;t[2*d+o]<h;)d++;for(;t[2*f+o]>h;)f--}t[2*r+o]===h?_b(e,t,r,f):_b(e,t,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}function _b(e,t,n,r){kb(e,n,r),kb(t,2*n,2*r),kb(t,2*n+1,2*r+1)}function kb(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Sb(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}var Cb,Tb={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Ib=Math.fround||(Cb=new Float32Array(1),e=>(Cb[0]=+e,Cb[0]));class xb{constructor(e){this.options=Object.assign(Object.create(Tb),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;for(var o=[],s=0;s<e.length;s++){var a=e[s];if(a.geometry){var[l,c]=a.geometry.coordinates,u=Ib(Ob(l)),h=Ib(Nb(c));o.push(u,h,1/0,s,-1,1),this.options.reduce&&o.push(0)}}var d=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(i);for(var f=r;f>=n;f--){var p=+Date.now();d=this.trees[f]=this._createTree(this._cluster(d,f)),t&&console.log("z%d: %d clusters in %dms",f,d.numItems,+Date.now()-p)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var s=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,i,o],t);return s.concat(a)}var l=this.trees[this._limitZoom(t)],c=l.range(Ob(n),Nb(o),Ob(i),Nb(r)),u=l.data,h=[];for(var d of c){var f=this.stride*d;h.push(u[f+5]>1?Lb(u,f,this.clusterProps):this.points[u[f+3]])}return h}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.data;if(t*this.stride>=o.length)throw new Error(r);var s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],c=i.within(a,l,s),u=[];for(var h of c){var d=h*this.stride;o[d+4]===e&&u.push(o[d+5]>1?Lb(o,d,this.clusterProps):this.points[o[d+3]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:s}=this.options,a=s/o,l=(n-a)/i,c=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,c),r.data,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,c),r.data,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){var o=this.getChildren(t);for(var s of o){var a=s.properties;if(a&&a.cluster?i+a.point_count<=r?i+=a.point_count:i=this._appendLeaves(e,a.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i}_createTree(e){for(var t=new bb(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,o){for(var s of e){var a=s*this.stride,l=t[a+5]>1,c=void 0,u=void 0,h=void 0;if(l)c=Pb(t,a,this.clusterProps),u=t[a],h=t[a+1];else{var d=this.points[t[a+3]];c=d.properties;var[f,p]=d.geometry.coordinates;u=Ob(f),h=Nb(p)}var g={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:c},m=void 0;void 0!==(m=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(g.id=m),o.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:i,minPoints:o}=this.options,s=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride,u=0;u<a.length;u+=c)if(!(a[u+2]<=t)){a[u+2]=t;var h=a[u],d=a[u+1],f=e.within(a[u],a[u+1],s),p=a[u+5],g=p;for(var m of f){var v=m*c;a[v+2]>t&&(g+=a[v+5])}if(g>p&&g>=o){var y=h*p,b=d*p,w=void 0,E=-1,_=(u/c<<5)+(t+1)+this.points.length;for(var k of f){var S=k*c;if(!(a[S+2]<=t)){a[S+2]=t;var C=a[S+5];y+=a[S]*C,b+=a[S+1]*C,a[S+4]=_,i&&(w||(w=this._map(a,u,!0),E=this.clusterProps.length,this.clusterProps.push(w)),i(w,this._map(a,S)))}}a[u+4]=_,l.push(y/g,b/g,1/0,_,-1,g),i&&l.push(E)}else{for(var T=0;T<c;T++)l.push(a[u+T]);if(g>1)for(var I of f){var x=I*c;if(!(a[x+2]<=t)){a[x+2]=t;for(var L=0;L<c;L++)l.push(a[x+L])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var i=this.points[e[t+3]].properties,o=this.options.map(i);return n&&o===i?Object.assign({},o):o}}function Lb(e,t,n){return{type:"Feature",id:e[t+3],properties:Pb(e,t,n),geometry:{type:"Point",coordinates:[Ab(e[t]),Mb(e[t+1])]}}}function Pb(e,t,n){var r=e[t+5],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+6],s=-1===o?{}:Object.assign({},n[o]);return Object.assign(s,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:i})}function Ob(e){return e/360+.5}function Nb(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Ab(e){return 360*(e-.5)}function Mb(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Db(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class Rb{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class jb{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(Rb.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Rb.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Rb.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ub{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return Vb(t)}}var Fb,Vb=e=>e.map(e=>new jb({position:Rb.getPosition(e),markers:[e]}));class zb extends Ub{constructor(e){var{maxZoom:t,radius:n=60}=e,r=Db(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new xb(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!vb(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(e=>{var t=Rb.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}});this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!vb(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new jb({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:n,lng:t}});var i=r.marker;return new jb({markers:[i],position:Rb.getPosition(i)})}}class Bb{constructor(e,t){this.markers={sum:e.length};var n=t.map(e=>e.count),r=n.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class Hb{render(e,t,n){var{count:r,position:i}=e,o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",s='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(Rb.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(s,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var u={map:n,position:i,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}var h={position:i,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(s)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}class qb{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(qb,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(Fb||(Fb={}));var Wb=(e,t,n)=>{n.fitBounds(t.bounds)};class Kb extends qb{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new zb(r),renderer:o=new Hb,onClusterClick:s=Wb}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=o,this.onClusterClick=s,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(Rb.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(e=>{n=this.removeMarker(e,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Fb.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var r=new Set;for(var i of t)1==i.markers.length&&r.add(i.markers[0]);var o=[];for(var s of this.clusters)null!=s.marker&&(1==s.markers.length?r.has(s.marker)||Rb.setMap(s.marker,null):o.push(s.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(e=>Rb.setMap(e,null)))}google.maps.event.trigger(this,Fb.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Rb.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Bb(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(e=>Rb.setMap(e,null)),this.onClusterClick&&n.marker.addListener("click",e=>{google.maps.event.trigger(this,Fb.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)})),Rb.setMap(n.marker,t)})}}function Gb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gb(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yb(e){var t=function(){Jv(!!r.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,r.useContext)(Zv);return Jv(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[n,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(t&&null===n){var r=new Kb(Qb(Qb({},e),{},{map:t}));i(r)}},[t]),n}(0,r.memo)(function(e){var{children:t,options:n}=e,r=Yb(n);return null!==r?t(r):null});var Xb={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Jb={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,r.memo)(function(e){var{children:t,anchor:n,options:i,position:o,zIndex:s,onCloseClick:a,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:h,onLoad:d,onUnmount:f}=e,p=(0,r.useContext)(Zv),[g,m]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(null),I=(0,r.useRef)(null);return(0,r.useEffect)(()=>{null!==g&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))},[p,g,n]),(0,r.useEffect)(()=>{i&&null!==g&&g.setOptions(i)},[g,i]),(0,r.useEffect)(()=>{o&&null!==g&&g.setPosition(o)},[o]),(0,r.useEffect)(()=>{"number"===typeof s&&null!==g&&g.setZIndex(s)},[s]),(0,r.useEffect)(()=>{g&&a&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(g,"closeclick",a)))},[a]),(0,r.useEffect)(()=>{g&&l&&(null!==b&&google.maps.event.removeListener(b),w(google.maps.event.addListener(g,"domready",l)))},[l]),(0,r.useEffect)(()=>{g&&c&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(g,"content_changed",c)))},[c]),(0,r.useEffect)(()=>{g&&u&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(g,"position_changed",u)))},[u]),(0,r.useEffect)(()=>{g&&h&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(g,"zindex_changed",h)))},[h]),(0,r.useEffect)(()=>{var e=new google.maps.InfoWindow(i);return m(e),I.current=document.createElement("div"),a&&y(google.maps.event.addListener(e,"closeclick",a)),l&&w(google.maps.event.addListener(e,"domready",l)),c&&_(google.maps.event.addListener(e,"content_changed",c)),u&&S(google.maps.event.addListener(e,"position_changed",u)),h&&T(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(I.current),o&&e.setPosition(o),s&&e.setZIndex(s),n?e.open(p,n):e.getPosition()?e.open(p):Jv(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(e),()=>{v&&google.maps.event.removeListener(v),E&&google.maps.event.removeListener(E),b&&google.maps.event.removeListener(b),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),f&&f(e),e.close()}},[]),I.current?(0,Kv.createPortal)(r.Children.only(t),I.current):null});class Zb extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"containerElement",null),Yv(this,"state",{infoWindow:null}),Yv(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Jv(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Yv(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ry({updaterMap:Jb,eventMap:Xb,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Jb,eventMap:Xb,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(ny(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,Kv.createPortal)(r.Children.only(this.props.children),this.containerElement):null}}function $b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(Zb,"contextType",Zv);var tw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nw={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},rw={};(0,r.memo)(function(e){var{options:t,draggable:n,editable:i,visible:o,path:s,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:g,onClick:m,onDrag:v,onLoad:y,onUnmount:b}=e,w=(0,r.useContext)(Zv),[E,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(null),[I,x]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[A,M]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),[j,U]=(0,r.useState)(null),[F,V]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[H,q]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==E&&E.setMap(w)},[w]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==E&&E.setOptions(t)},[E,t]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==E&&E.setDraggable(n)},[E,n]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==E&&E.setEditable(i)},[E,i]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==E&&E.setVisible(o)},[E,o]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==E&&E.setPath(s)},[E,s]),(0,r.useEffect)(()=>{E&&a&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(E,"dblclick",a)))},[a]),(0,r.useEffect)(()=>{E&&l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(E,"dragend",l)))},[l]),(0,r.useEffect)(()=>{E&&c&&(null!==I&&google.maps.event.removeListener(I),x(google.maps.event.addListener(E,"dragstart",c)))},[c]),(0,r.useEffect)(()=>{E&&u&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(E,"mousedown",u)))},[u]),(0,r.useEffect)(()=>{E&&h&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(E,"mousemove",h)))},[h]),(0,r.useEffect)(()=>{E&&d&&(null!==A&&google.maps.event.removeListener(A),M(google.maps.event.addListener(E,"mouseout",d)))},[d]),(0,r.useEffect)(()=>{E&&f&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(E,"mouseover",f)))},[f]),(0,r.useEffect)(()=>{E&&p&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(E,"mouseup",p)))},[p]),(0,r.useEffect)(()=>{E&&g&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(E,"rightclick",g)))},[g]),(0,r.useEffect)(()=>{E&&m&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(E,"click",m)))},[m]),(0,r.useEffect)(()=>{E&&v&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(E,"drag",v)))},[v]),(0,r.useEffect)(()=>{var e=new google.maps.Polyline(ew(ew({},t||rw),{},{map:w}));return s&&e.setPath(s),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),a&&S(google.maps.event.addListener(e,"dblclick",a)),l&&T(google.maps.event.addListener(e,"dragend",l)),c&&x(google.maps.event.addListener(e,"dragstart",c)),u&&P(google.maps.event.addListener(e,"mousedown",u)),h&&N(google.maps.event.addListener(e,"mousemove",h)),d&&M(google.maps.event.addListener(e,"mouseout",d)),f&&R(google.maps.event.addListener(e,"mouseover",f)),p&&U(google.maps.event.addListener(e,"mouseup",p)),g&&V(google.maps.event.addListener(e,"rightclick",g)),m&&B(google.maps.event.addListener(e,"click",m)),v&&q(google.maps.event.addListener(e,"drag",v)),_(e),y&&y(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==I&&google.maps.event.removeListener(I),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==z&&google.maps.event.removeListener(z),b&&b(e),e.setMap(null)}},[]),null});class iw extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{polyline:null}),Yv(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(ew(ew({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:nw,eventMap:tw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:nw,eventMap:tw,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ny(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(iw,"contextType",Zv);var aw={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},lw={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,r.memo)(function(e){var{options:t,draggable:n,editable:i,visible:o,path:s,paths:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onLoad:b,onUnmount:w,onEdit:E}=e,_=(0,r.useContext)(Zv),[k,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(null),[I,x]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[A,M]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),[j,U]=(0,r.useState)(null),[F,V]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),[W,K]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==k&&k.setMap(_)},[_]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==k&&k.setOptions(t)},[k,t]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==k&&k.setDraggable(n)},[k,n]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==k&&k.setEditable(i)},[k,i]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==k&&k.setVisible(o)},[k,o]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==k&&k.setPath(s)},[k,s]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==k&&k.setPaths(a)},[k,a]),(0,r.useEffect)(()=>{k&&"function"===typeof l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(k,"dblclick",l)))},[l]),(0,r.useEffect)(()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",()=>{null===E||void 0===E||E(k)}),google.maps.event.addListener(k.getPath(),"set_at",()=>{null===E||void 0===E||E(k)}),google.maps.event.addListener(k.getPath(),"remove_at",()=>{null===E||void 0===E||E(k)}))},[k,E]),(0,r.useEffect)(()=>{k&&"function"===typeof c&&(null!==I&&google.maps.event.removeListener(I),x(google.maps.event.addListener(k,"dragend",c)))},[c]),(0,r.useEffect)(()=>{k&&"function"===typeof u&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(k,"dragstart",u)))},[u]),(0,r.useEffect)(()=>{k&&"function"===typeof h&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(k,"mousedown",h)))},[h]),(0,r.useEffect)(()=>{k&&"function"===typeof d&&(null!==A&&google.maps.event.removeListener(A),M(google.maps.event.addListener(k,"mousemove",d)))},[d]),(0,r.useEffect)(()=>{k&&"function"===typeof f&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(k,"mouseout",f)))},[f]),(0,r.useEffect)(()=>{k&&"function"===typeof p&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(k,"mouseover",p)))},[p]),(0,r.useEffect)(()=>{k&&"function"===typeof g&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(k,"mouseup",g)))},[g]),(0,r.useEffect)(()=>{k&&"function"===typeof m&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(k,"rightclick",m)))},[m]),(0,r.useEffect)(()=>{k&&"function"===typeof v&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(k,"click",v)))},[v]),(0,r.useEffect)(()=>{k&&"function"===typeof y&&(null!==W&&google.maps.event.removeListener(W),K(google.maps.event.addListener(k,"drag",y)))},[y]),(0,r.useEffect)(()=>{var e=new google.maps.Polygon(sw(sw({},t),{},{map:_}));return s&&e.setPath(s),a&&e.setPaths(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),l&&T(google.maps.event.addListener(e,"dblclick",l)),c&&x(google.maps.event.addListener(e,"dragend",c)),u&&P(google.maps.event.addListener(e,"dragstart",u)),h&&N(google.maps.event.addListener(e,"mousedown",h)),d&&M(google.maps.event.addListener(e,"mousemove",d)),f&&R(google.maps.event.addListener(e,"mouseout",f)),p&&U(google.maps.event.addListener(e,"mouseover",p)),g&&V(google.maps.event.addListener(e,"mouseup",g)),m&&B(google.maps.event.addListener(e,"rightclick",m)),v&&q(google.maps.event.addListener(e,"click",v)),y&&K(google.maps.event.addListener(e,"drag",y)),S(e),b&&b(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==I&&google.maps.event.removeListener(I),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),w&&w(e),e.setMap(null)}},[]),null});class cw extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ry({updaterMap:lw,eventMap:aw,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:lw,eventMap:aw,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ny(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(cw,"contextType",Zv);var dw={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fw={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,r.memo)(function(e){var{options:t,bounds:n,draggable:i,editable:o,visible:s,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:h,onMouseOut:d,onMouseOver:f,onMouseUp:p,onRightClick:g,onClick:m,onDrag:v,onBoundsChanged:y,onLoad:b,onUnmount:w}=e,E=(0,r.useContext)(Zv),[_,k]=(0,r.useState)(null),[S,C]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),[x,L]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[N,A]=(0,r.useState)(null),[M,D]=(0,r.useState)(null),[R,j]=(0,r.useState)(null),[U,F]=(0,r.useState)(null),[V,z]=(0,r.useState)(null),[B,H]=(0,r.useState)(null),[q,W]=(0,r.useState)(null),[K,G]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==_&&_.setMap(E)},[E]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==_&&_.setOptions(t)},[_,t]),(0,r.useEffect)(()=>{"undefined"!==typeof i&&null!==_&&_.setDraggable(i)},[_,i]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==_&&_.setEditable(o)},[_,o]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==_&&_.setVisible(s)},[_,s]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==_&&_.setBounds(n)},[_,n]),(0,r.useEffect)(()=>{_&&a&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(_,"dblclick",a)))},[a]),(0,r.useEffect)(()=>{_&&l&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(_,"dragend",l)))},[l]),(0,r.useEffect)(()=>{_&&c&&(null!==x&&google.maps.event.removeListener(x),L(google.maps.event.addListener(_,"dragstart",c)))},[c]),(0,r.useEffect)(()=>{_&&u&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(_,"mousedown",u)))},[u]),(0,r.useEffect)(()=>{_&&h&&(null!==N&&google.maps.event.removeListener(N),A(google.maps.event.addListener(_,"mousemove",h)))},[h]),(0,r.useEffect)(()=>{_&&d&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(_,"mouseout",d)))},[d]),(0,r.useEffect)(()=>{_&&f&&(null!==R&&google.maps.event.removeListener(R),j(google.maps.event.addListener(_,"mouseover",f)))},[f]),(0,r.useEffect)(()=>{_&&p&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(_,"mouseup",p)))},[p]),(0,r.useEffect)(()=>{_&&g&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(_,"rightclick",g)))},[g]),(0,r.useEffect)(()=>{_&&m&&(null!==B&&google.maps.event.removeListener(B),H(google.maps.event.addListener(_,"click",m)))},[m]),(0,r.useEffect)(()=>{_&&v&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(_,"drag",v)))},[v]),(0,r.useEffect)(()=>{_&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(_,"bounds_changed",y)))},[y]),(0,r.useEffect)(()=>{var e=new google.maps.Rectangle(hw(hw({},t),{},{map:E}));return"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof n&&e.setBounds(n),a&&C(google.maps.event.addListener(e,"dblclick",a)),l&&I(google.maps.event.addListener(e,"dragend",l)),c&&L(google.maps.event.addListener(e,"dragstart",c)),u&&O(google.maps.event.addListener(e,"mousedown",u)),h&&A(google.maps.event.addListener(e,"mousemove",h)),d&&D(google.maps.event.addListener(e,"mouseout",d)),f&&j(google.maps.event.addListener(e,"mouseover",f)),p&&F(google.maps.event.addListener(e,"mouseup",p)),g&&z(google.maps.event.addListener(e,"rightclick",g)),m&&H(google.maps.event.addListener(e,"click",m)),v&&W(google.maps.event.addListener(e,"drag",v)),y&&G(google.maps.event.addListener(e,"bounds_changed",y)),k(e),b&&b(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==T&&google.maps.event.removeListener(T),null!==x&&google.maps.event.removeListener(x),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==M&&google.maps.event.removeListener(M),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==K&&google.maps.event.removeListener(K),w&&w(e),e.setMap(null)}},[]),null});class pw extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{rectangle:null}),Yv(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(hw(hw({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:fw,eventMap:dw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:fw,eventMap:dw,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ny(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(pw,"contextType",Zv);var vw={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},yw={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},bw={};(0,r.memo)(function(e){var{options:t,center:n,radius:i,draggable:o,editable:s,visible:a,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:h,onMouseMove:d,onMouseOut:f,onMouseOver:p,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onCenterChanged:b,onRadiusChanged:w,onLoad:E,onUnmount:_}=e,k=(0,r.useContext)(Zv),[S,C]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),[x,L]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[N,A]=(0,r.useState)(null),[M,D]=(0,r.useState)(null),[R,j]=(0,r.useState)(null),[U,F]=(0,r.useState)(null),[V,z]=(0,r.useState)(null),[B,H]=(0,r.useState)(null),[q,W]=(0,r.useState)(null),[K,G]=(0,r.useState)(null),[Q,Y]=(0,r.useState)(null),[X,J]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==S&&S.setMap(k)},[k]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==S&&S.setOptions(t)},[S,t]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==S&&S.setDraggable(o)},[S,o]),(0,r.useEffect)(()=>{"undefined"!==typeof s&&null!==S&&S.setEditable(s)},[S,s]),(0,r.useEffect)(()=>{"undefined"!==typeof a&&null!==S&&S.setVisible(a)},[S,a]),(0,r.useEffect)(()=>{"number"===typeof i&&null!==S&&S.setRadius(i)},[S,i]),(0,r.useEffect)(()=>{"undefined"!==typeof n&&null!==S&&S.setCenter(n)},[S,n]),(0,r.useEffect)(()=>{S&&l&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(S,"dblclick",l)))},[l]),(0,r.useEffect)(()=>{S&&c&&(null!==x&&google.maps.event.removeListener(x),L(google.maps.event.addListener(S,"dragend",c)))},[c]),(0,r.useEffect)(()=>{S&&u&&(null!==P&&google.maps.event.removeListener(P),O(google.maps.event.addListener(S,"dragstart",u)))},[u]),(0,r.useEffect)(()=>{S&&h&&(null!==N&&google.maps.event.removeListener(N),A(google.maps.event.addListener(S,"mousedown",h)))},[h]),(0,r.useEffect)(()=>{S&&d&&(null!==M&&google.maps.event.removeListener(M),D(google.maps.event.addListener(S,"mousemove",d)))},[d]),(0,r.useEffect)(()=>{S&&f&&(null!==R&&google.maps.event.removeListener(R),j(google.maps.event.addListener(S,"mouseout",f)))},[f]),(0,r.useEffect)(()=>{S&&p&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(S,"mouseover",p)))},[p]),(0,r.useEffect)(()=>{S&&g&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(S,"mouseup",g)))},[g]),(0,r.useEffect)(()=>{S&&m&&(null!==B&&google.maps.event.removeListener(B),H(google.maps.event.addListener(S,"rightclick",m)))},[m]),(0,r.useEffect)(()=>{S&&v&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(S,"click",v)))},[v]),(0,r.useEffect)(()=>{S&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(S,"drag",y)))},[y]),(0,r.useEffect)(()=>{S&&b&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(S,"center_changed",b)))},[v]),(0,r.useEffect)(()=>{S&&w&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener(S,"radius_changed",w)))},[w]),(0,r.useEffect)(()=>{var e=new google.maps.Circle(mw(mw({},t||bw),{},{map:k}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof o&&e.setDraggable(o),l&&I(google.maps.event.addListener(e,"dblclick",l)),c&&L(google.maps.event.addListener(e,"dragend",c)),u&&O(google.maps.event.addListener(e,"dragstart",u)),h&&A(google.maps.event.addListener(e,"mousedown",h)),d&&D(google.maps.event.addListener(e,"mousemove",d)),f&&j(google.maps.event.addListener(e,"mouseout",f)),p&&F(google.maps.event.addListener(e,"mouseover",p)),g&&z(google.maps.event.addListener(e,"mouseup",g)),m&&H(google.maps.event.addListener(e,"rightclick",m)),v&&W(google.maps.event.addListener(e,"click",v)),y&&G(google.maps.event.addListener(e,"drag",y)),b&&Y(google.maps.event.addListener(e,"center_changed",b)),w&&J(google.maps.event.addListener(e,"radius_changed",w)),C(e),E&&E(e),()=>{null!==T&&google.maps.event.removeListener(T),null!==x&&google.maps.event.removeListener(x),null!==P&&google.maps.event.removeListener(P),null!==N&&google.maps.event.removeListener(N),null!==M&&google.maps.event.removeListener(M),null!==R&&google.maps.event.removeListener(R),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),_&&_(e),e.setMap(null)}},[]),null});class ww extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{circle:null}),Yv(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(mw(mw({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:yw,eventMap:vw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:yw,eventMap:vw,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),ny(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(ww,"contextType",Zv);var kw={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Sw={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,r.memo)(function(e){var{options:t,onClick:n,onDblClick:i,onMouseDown:o,onMouseMove:s,onMouseOut:a,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:h,onRemoveFeature:d,onRemoveProperty:f,onSetGeometry:p,onSetProperty:g,onLoad:m,onUnmount:v}=e,y=(0,r.useContext)(Zv),[b,w]=(0,r.useState)(null),[E,_]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[C,T]=(0,r.useState)(null),[I,x]=(0,r.useState)(null),[L,P]=(0,r.useState)(null),[O,N]=(0,r.useState)(null),[A,M]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),[j,U]=(0,r.useState)(null),[F,V]=(0,r.useState)(null),[z,B]=(0,r.useState)(null),[H,q]=(0,r.useState)(null),[W,K]=(0,r.useState)(null);return(0,r.useEffect)(()=>{null!==b&&b.setMap(y)},[y]),(0,r.useEffect)(()=>{b&&i&&(null!==E&&google.maps.event.removeListener(E),_(google.maps.event.addListener(b,"dblclick",i)))},[i]),(0,r.useEffect)(()=>{b&&o&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(b,"mousedown",o)))},[o]),(0,r.useEffect)(()=>{b&&s&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(b,"mousemove",s)))},[s]),(0,r.useEffect)(()=>{b&&a&&(null!==I&&google.maps.event.removeListener(I),x(google.maps.event.addListener(b,"mouseout",a)))},[a]),(0,r.useEffect)(()=>{b&&l&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(b,"mouseover",l)))},[l]),(0,r.useEffect)(()=>{b&&c&&(null!==O&&google.maps.event.removeListener(O),N(google.maps.event.addListener(b,"mouseup",c)))},[c]),(0,r.useEffect)(()=>{b&&u&&(null!==A&&google.maps.event.removeListener(A),M(google.maps.event.addListener(b,"rightclick",u)))},[u]),(0,r.useEffect)(()=>{b&&n&&(null!==D&&google.maps.event.removeListener(D),R(google.maps.event.addListener(b,"click",n)))},[n]),(0,r.useEffect)(()=>{b&&h&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(b,"addfeature",h)))},[h]),(0,r.useEffect)(()=>{b&&d&&(null!==F&&google.maps.event.removeListener(F),V(google.maps.event.addListener(b,"removefeature",d)))},[d]),(0,r.useEffect)(()=>{b&&f&&(null!==z&&google.maps.event.removeListener(z),B(google.maps.event.addListener(b,"removeproperty",f)))},[f]),(0,r.useEffect)(()=>{b&&p&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(b,"setgeometry",p)))},[p]),(0,r.useEffect)(()=>{b&&g&&(null!==W&&google.maps.event.removeListener(W),K(google.maps.event.addListener(b,"setproperty",g)))},[g]),(0,r.useEffect)(()=>{if(null!==y){var e=new google.maps.Data(_w(_w({},t),{},{map:y}));i&&_(google.maps.event.addListener(e,"dblclick",i)),o&&S(google.maps.event.addListener(e,"mousedown",o)),s&&T(google.maps.event.addListener(e,"mousemove",s)),a&&x(google.maps.event.addListener(e,"mouseout",a)),l&&P(google.maps.event.addListener(e,"mouseover",l)),c&&N(google.maps.event.addListener(e,"mouseup",c)),u&&M(google.maps.event.addListener(e,"rightclick",u)),n&&R(google.maps.event.addListener(e,"click",n)),h&&U(google.maps.event.addListener(e,"addfeature",h)),d&&V(google.maps.event.addListener(e,"removefeature",d)),f&&B(google.maps.event.addListener(e,"removeproperty",f)),p&&q(google.maps.event.addListener(e,"setgeometry",p)),g&&K(google.maps.event.addListener(e,"setproperty",g)),w(e),m&&m(e)}return()=>{b&&(null!==E&&google.maps.event.removeListener(E),null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==I&&google.maps.event.removeListener(I),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==j&&google.maps.event.removeListener(j),null!==F&&google.maps.event.removeListener(F),null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),null!==W&&google.maps.event.removeListener(W),v&&v(b),b.setMap(null))}},[]),null});class Cw extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{data:null}),Yv(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(_w(_w({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:Sw,eventMap:kw,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Sw,eventMap:kw,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ny(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function Tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Iw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(Cw,"contextType",Zv);var xw={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Lw={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Pw extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{kmlLayer:null}),Yv(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Iw(Iw({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:Lw,eventMap:xw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Lw,eventMap:xw,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ny(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function Ow(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Nw(e,t){return new t(e.lat,e.lng)}function Aw(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function Mw(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(i=n,o=google.maps.LatLngBounds,s=Aw,i instanceof o?i:s(i,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:i,y:o}=r;return{left:"".concat(i+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,Nw));var i,o,s}function Dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rw(e,t,n,r,i){class o extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.container?Ow(this.container,i):{x:0,y:0}),n=Mw(e,t,this.bounds,this.position);for(var[r,o]of Object.entries(n))this.container.style[r]=o}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,n,r)}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uw(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function Fw(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}Yv(Pw,"contextType",Zv);(0,r.memo)(function(e){var{position:t,bounds:n,mapPaneName:i,zIndex:o,onLoad:s,onUnmount:a,getPixelPositionOffset:l,children:c}=e,u=(0,r.useContext)(Zv),h=(0,r.useMemo)(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),d=(0,r.useMemo)(()=>Rw(h,i,t,n,l),[h,i,t,n]);return(0,r.useEffect)(()=>(null===s||void 0===s||s(d),null===d||void 0===d||d.setMap(u),()=>{null===a||void 0===a||a(d),null===d||void 0===d||d.setMap(null)}),[u,d]),(0,r.useEffect)(()=>{h.style.zIndex="".concat(o)},[o,h]),Kv.createPortal(c,h)});class Vw extends r.PureComponent{constructor(e){super(e),Yv(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Yv(this,"updatePane",()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();Jv(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})}),Yv(this,"onAdd",()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)}),Yv(this,"onPositionElement",()=>{var e,t,n,r,i,o,s=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:0,y:0},this.containerRef.current?Ow(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=Mw(s,a,this.props.bounds,this.props.position);(i=l,o={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},i.left!==o.left||i.top!==o.top||i.width!==o.height||i.height!==o.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})}),Yv(this,"draw",()=>{this.onPositionElement()}),Yv(this,"onRemove",()=>{var e,t;this.setState(()=>({paneEl:null})),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)}),this.containerRef=(0,r.createRef)();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Uw(e.position),n=Uw(this.props.position),r=Fw(e.bounds),i=Fw(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Kv.createPortal((0,bv.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:r.Children.only(this.props.children)}),e):null}}function zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(Vw,"FLOAT_PANE","floatPane"),Yv(Vw,"MAP_PANE","mapPane"),Yv(Vw,"MARKER_LAYER","markerLayer"),Yv(Vw,"OVERLAY_LAYER","overlayLayer"),Yv(Vw,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),Yv(Vw,"contextType",Zv);var Hw={onDblClick:"dblclick",onClick:"click"},qw={opacity(e,t){e.setOpacity(t)}};(0,r.memo)(function(e){var{url:t,bounds:n,options:i,visible:o}=e,s=(0,r.useContext)(Zv),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=(0,r.useMemo)(()=>new google.maps.GroundOverlay(t,a,i),[]);return(0,r.useEffect)(()=>{null!==l&&l.setMap(s)},[s]),(0,r.useEffect)(()=>{"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(s))},[l,t]),(0,r.useEffect)(()=>{"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)},[l,o]),(0,r.useEffect)(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==l&&(l.set("bounds",e),l.setMap(s))},[l,n]),null});class Ww extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{groundOverlay:null}),Yv(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Jv(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Bw(Bw({},this.props.options),{},{map:this.context}));this.registeredEvents=ry({updaterMap:qw,eventMap:Hw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:qw,eventMap:Hw,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(t){Yv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Yv(Ww,"defaultProps",{onLoad:function(){}}),Yv(Ww,"contextType",Zv);var Qw={},Yw={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,r.memo)(function(e){var{data:t,onLoad:n,onUnmount:i,options:o}=e,s=(0,r.useContext)(Zv),[a,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{google.maps.visualization||Jv(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),(0,r.useEffect)(()=>{Jv(!!t,"data property is required in HeatmapLayer %s",t)},[t]),(0,r.useEffect)(()=>{null!==a&&a.setMap(s)},[s]),(0,r.useEffect)(()=>{o&&null!==a&&a.setOptions(o)},[a,o]),(0,r.useEffect)(()=>{var e=new google.maps.visualization.HeatmapLayer(Gw(Gw({},o),{},{data:t,map:s}));return l(e),n&&n(e),()=>{null!==a&&(i&&i(a),a.setMap(null))}},[]),null});class Xw extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{heatmapLayer:null}),Yv(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Jv(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Jv(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Gw(Gw({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ry({updaterMap:Yw,eventMap:Qw,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Yw,eventMap:Qw,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ny(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Yv(Xw,"contextType",Zv);var Jw={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Zw={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class $w extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{streetViewPanorama:null}),Yv(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=ry({updaterMap:Zw,eventMap:Jw,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:Zw,eventMap:Jw,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ny(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Yv($w,"contextType",Zv);class eE extends r.PureComponent{constructor(){super(...arguments),Yv(this,"state",{streetViewService:null}),Yv(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Yv(eE,"contextType",Zv);r.PureComponent;var tE={onDirectionsChanged:"directions_changed"},nE={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class rE extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"state",{directionsRenderer:null}),Yv(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ry({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ny(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Yv(rE,"contextType",Zv);r.PureComponent;var iE={onPlacesChanged:"places_changed"},oE={bounds(e,t){e.setBounds(t)}};class sE extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"containerElement",(0,r.createRef)()),Yv(this,"state",{searchBox:null}),Yv(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Jv(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ry({updaterMap:oE,eventMap:iE,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:oE,eventMap:iE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ny(this.registeredEvents))}render(){return(0,bv.jsx)("div",{ref:this.containerElement,children:r.Children.only(this.props.children)})}}Yv(sE,"contextType",Zv);var aE={onPlaceChanged:"place_changed"},lE={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class cE extends r.PureComponent{constructor(){super(...arguments),Yv(this,"registeredEvents",[]),Yv(this,"containerElement",(0,r.createRef)()),Yv(this,"state",{autocomplete:null}),Yv(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Jv(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=ry({updaterMap:lE,eventMap:aE,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){ny(this.registeredEvents),this.registeredEvents=ry({updaterMap:lE,eventMap:aE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&ny(this.registeredEvents)}render(){return(0,bv.jsx)("div",{ref:this.containerElement,className:this.props.className,children:r.Children.only(this.props.children)})}}Yv(cE,"defaultProps",{className:""}),Yv(cE,"contextType",Zv);const uE={width:"100%",height:"400px"};function hE(e){let{recipientLocation:t,donors:n=[],setMapController:i}=e;const{isLoaded:o,loadError:s}=function(e){var{id:t=vy.id,version:n=vy.version,nonce:i,googleMapsApiKey:o,language:s,region:a,libraries:l=Ly,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:h}=e,d=(0,r.useRef)(!1),[f,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)(void 0);(0,r.useEffect)(function(){return d.current=!0,()=>{d.current=!1}},[]);var v=(0,r.useMemo)(()=>new xy({id:t,apiKey:o,version:n,libraries:l,language:s||"en",region:a||"US",mapIds:u||[],nonce:i||"",authReferrerPolicy:h||"origin"}),[t,o,n,l,s,a,u,i,h]);(0,r.useEffect)(function(){f||v.load().then(()=>{d.current&&p(!0)}).catch(e=>{m(e)})},[]),(0,r.useEffect)(()=>{uy&&c&&fy()},[c]);var y=(0,r.useRef)();return(0,r.useEffect)(()=>{y.current&&l!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=l},[l]),{isLoaded:f,loadError:g}}({googleMapsApiKey:"AIzaSyDcG9acW8tmFGsxYTGrrvoKjdafi4sP_-k"}),a=e=>e||""===e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",l=(0,r.useRef)(null),c=(0,r.useRef)([]),u=(0,r.useRef)(null),[h,d]=(0,r.useState)(!1),f=((e,n,r,i)=>{if(!t)return null;const o=null!==(e=null!==(n=t.lat)&&void 0!==n?n:t.latitude)&&void 0!==e?e:t.coords&&t.coords.latitude,s=null!==(r=null!==(i=t.lng)&&void 0!==i?i:t.longitude)&&void 0!==r?r:t.coords&&t.coords.longitude,a=Number(o),l=Number(s);return Number.isFinite(a)&&Number.isFinite(l)?{lat:a,lng:l}:null})();return(0,r.useEffect)(()=>{console.log("DonorMap input recipientLocation:",t),console.log("DonorMap normalized:",f)},[t]),(0,r.useEffect)(()=>{if(!o||!h||!l.current)return;const e=l.current;if(c.current.forEach(e=>e.setMap(null)),c.current=[],u.current?u.current.close():u.current=new window.google.maps.InfoWindow,f){const t=new window.google.maps.Marker({position:f,map:e,icon:"https://maps.gstatic.com/mapfiles/ms2/micons/blue-dot.png",title:"Your Location"});c.current.push(t),e.setCenter(f),e.setZoom(13)}else console.warn("normalized is null \u2014 skipping setCenter");n.forEach(t=>{var n,r,i,o,s,l;const h=Number(null!==(n=null===(r=t.location)||void 0===r?void 0:r.latitude)&&void 0!==n?n:null===(i=t.location)||void 0===i?void 0:i.lat),d=Number(null!==(o=null===(s=t.location)||void 0===s?void 0:s.longitude)&&void 0!==o?o:null===(l=t.location)||void 0===l?void 0:l.lng);if(!Number.isFinite(h)||!Number.isFinite(d))return;const f={lat:h,lng:d},p=new window.google.maps.Marker({position:f,map:e,title:t.fullname});p.addListener("click",()=>{const n="https://www.google.com/maps?q=".concat(f.lat,",").concat(f.lng);u.current.setContent('\n          <div style="min-width:220px">\n            <div><strong>'.concat(a(t.fullname||"Donor"),'</strong></div>\n            <div style="font-size:13px;color:#555">').concat(a(t.email||""),'</div>\n                \n            <div style="margin-top:6px">\n              <a href="').concat(n,'" \n                target="_blank" \n                rel="noopener noreferrer"\n                style="color:#1a73e8; font-weight:600; text-decoration:none;">\n                View on Google Maps\n              </a>\n            </div>\n          </div>\n        ')),u.current.open(e,p)}),c.current.push(p)})},[o,h,n,f]),(0,r.useEffect)(()=>{if(o&&h&&l.current)return i({focusOn:(e,t)=>{const r=l.current,i={lat:Number(e),lng:Number(t)};if(!Number.isFinite(i.lat)||!Number.isFinite(i.lng))return void console.warn("focusOn received invalid coords:",i);r.panTo(i),r.setZoom(15);const o=c.current.find(e=>{const t=e.getPosition().toJSON();return t.lat===i.lat&&t.lng===i.lng});if(o){const e=n.find(e=>Number(e.location.latitude)===i.lat&&Number(e.location.longitude)===i.lng);if(e){const t="https://www.google.com/maps?q=".concat(i.lat,",").concat(i.lng);u.current.setContent('\n              <div style="min-width:220px">\n                <div><strong>'.concat(a(e.fullname||"Donor"),'</strong></div>\n                <div style="font-size:13px;color:#555">').concat(a(e.email||""),'</div>\n                \n                <div style="margin-top:6px">\n                  <a href="').concat(t,'" \n                    target="_blank" \n                    rel="noopener noreferrer"\n                    style="color:#1a73e8; font-weight:600; text-decoration:none;">\n                    View on Google Maps\n                  </a>\n                </div>\n              </div>\n            ')),u.current.open(r,o)}}}}),()=>i(null);i(null)},[o,h,n]),s?(0,bv.jsx)("div",{children:"Map failed to load"}):o?(0,bv.jsx)("div",{id:"donorMapContainer",style:{width:"100%"},children:(0,bv.jsx)(sy,{mapContainerStyle:uE,center:f||{lat:12.9716,lng:77.5946},zoom:f?13:11,onLoad:e=>{l.current=e,d(!0)},onUnmount:()=>{l.current=null,d(!1)}})}):null}const dE=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),o=()=>i(!1),[s,a]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null),p=(0,r.useRef)([]),[g,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{Tm().catch(e=>{console.warn("initMessaging failed:",e)});const e=Cr(Em,async e=>{if(console.log("onAuthStateChanged fired. auth:",Em),console.log("onAuthStateChanged fired. user (raw):",e),e&&"undefined"===typeof e.uid&&console.warn("onAuthStateChanged: user object has no uid property:",e),e)try{await Im({uid:e.uid})}catch(t){console.warn("setupAutoRegistration failed:",t)}});return()=>{try{e()}catch(t){}}},[]),(0,r.useEffect)(()=>{Pm().then(e=>{e&&(m(e),console.log("Notification token stored:",e))}).catch(e=>{console.error("Error getting notification token:",e)});const e=Om(e=>{if(console.log("Foreground message received:",e),e.notification){const t=e.notification.title||"New Notification",n=e.notification.body||"";alert("".concat(t,"\n").concat(n))}});return()=>{"function"===typeof e&&e()}},[]);const v=(0,r.useCallback)(e=>{f(e),e&&p.current.length>0&&(p.current.forEach(t=>{let{lat:n,lng:r,zoom:i}=t;try{e.focusOn(n,r,i)}catch(o){}}),p.current=[])},[]),y=(0,r.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;d&&"function"===typeof d.focusOn?d.focusOn(e,t,n):p.current.push({lat:e,lng:t,zoom:n})},[d]);return(0,bv.jsxs)(bv.Fragment,{children:[(0,bv.jsxs)("div",{children:[g&&(0,bv.jsxs)("div",{style:{position:"fixed",top:"60px",left:"10px",background:"rgba(0,0,0,0.8)",color:"white",padding:"10px",borderRadius:"5px",fontSize:"10px",maxWidth:"300px",wordBreak:"break-all",zIndex:9999},children:[(0,bv.jsx)("strong",{children:"FCM Token:"}),(0,bv.jsx)("br",{}),g]}),(0,bv.jsx)(kv,{isLoginModalOpen:e,setIsLoginModalOpen:t,openSignup:()=>i(!0)}),(0,bv.jsx)(Sv,{}),(0,bv.jsx)(Cv,{setResults:a,setRecipientLocation:c,setUserHasSearched:h}),l&&(0,bv.jsx)(hE,{recipientLocation:l,donors:s,setMapController:v}),u&&(0,bv.jsx)(Vv,{results:s,focusOn:y}),(0,bv.jsx)(zv,{setIsLoginModalOpen:t}),(0,bv.jsx)(Bv,{}),(0,bv.jsx)(Hv,{}),(0,bv.jsx)(Fv,{})]}),n&&(0,bv.jsx)("div",{className:"modal",children:(0,bv.jsxs)("div",{className:"modal-content",children:[(0,bv.jsx)("button",{className:"modal-close",onClick:o,children:"\xd7"}),(0,bv.jsx)(_v,{onOpenLogin:()=>{o(),t(!0)},onClose:o})]})}),(0,bv.jsx)(yv,{})]})},fE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,bv.jsx)(r.StrictMode,{children:(0,bv.jsx)(dE,{})})),"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js").then(e=>{console.log("Service Worker registered successfully:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})}):console.warn("Service Worker is not supported in this browser"),fE()})();
//# sourceMappingURL=main.642cf847.js.map